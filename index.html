
<!DOCTYPE html>
<html lang="fr">
<head>
    <!-- Meta Tags de Base -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google-site-verification" content="vQkta5ulZJhli4h1zR55FXiT98uHyTa_SCfFyCOvmBs" />
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://prestige-shop-express.onrender.com/">
    
    <!-- Titre et Description -->
    <title>Prestige Shop Express - Boutique en ligne Côte d'Ivoire | Mode, Électronique, Éducatif</title>
    <meta name="description" content="Prestige Shop Express - Boutique en ligne en Côte d'Ivoire. Mode, électronique, produits éducatifs & fast food. Livraison rapide, prix imbattables, service client exceptionnel. Achetez maintenant !" />
    <meta name="keywords" content="boutique en ligne Côte d'Ivoire, vêtements mode, électronique Abidjan, fournitures scolaires, fast food livraison, shopping en ligne Côte d'Ivoire, Prestige Shop Express">
    <meta name="author" content="Prestige Shop Express">
    <meta name="generator" content="Prestige Shop Express">
    <meta name="language" content="fr">
    <meta name="country" content="CI">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://prestige-shop-express.onrender.com/">
    <meta property="og:title" content="Prestige Shop Express - Boutique en ligne Côte d'Ivoire">
    <meta property="og:description" content="Mode, électronique, produits éducatifs & fast food. Livraison rapide en Côte d'Ivoire. Vos achats en ligne de confiance.">
    <meta property="og:image" content="https://prestige-shop-express.onrender.com/images/prestige-shop.png">
    <meta property="og:locale" content="fr_CI">
    <meta property="og:site_name" content="Prestige Shop Express">
    
    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://prestige-shop-express.onrender.com/">
    <meta name="twitter:title" content="Prestige Shop Express – Boutique en ligne Côte d'Ivoire">
    <meta name="twitter:description" content="Mode • Électronique • Éducatif • Fast Food. Livraison rapide. Qualité garantie.">
    <meta name="twitter:image" content="https://prestige-shop-express.onrender.com/images/prestige-shop.png">
    <meta name="twitter:site" content="@PrestigeShop">


    

    
    <!-- Favicon -->
    <link rel="icon" href="images/prestige-shop.png" type="image/png">
    <link rel="apple-touch-icon" sizes="180x180" href="images/prestige-shop.png">
    <link rel="icon" type="image/png" sizes="32x32" href="images/prestige-shop.png">
    <link rel="icon" type="image/png" sizes="16x16" href="images/prestige-shop.png">
    
    <!-- CSS -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.0.0/css/all.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="./css/styles.css">
    <link rel="stylesheet" href="./css/custom.css">
    
    <!-- JavaScript -->
    <script src="https://accounts.google.com/gsi/client" async defer></script>
    <script src="./api-config.js"></script>
    
    <style>
        /* Styles spécifiques à la page d'accueil */
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');
        
        * {
            box-sizing: border-box;
        }

        
        
        html, body {
            overflow-x: hidden;
            width: 100%;
            position: relative;
        }
        
        body {
            font-family: 'Poppins', sans-serif;
            max-width: 100vw;
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .gradient-blue {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        }
        
        .gradient-green {
            background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
        }
        
        .gradient-purple {
            background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
        }
        
        
        .product-card {
            transition: all 0.3s ease;
            transform: translateY(0);
        }
        
        .product-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 25px 50px rgba(0,0,0,0.15);
        }
        
        .category-btn {
            transition: all 0.3s ease;
        }
        
        .category-btn.active {
            transform: scale(1.05);
        }
        
        .category-card {
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            position: relative;
            animation: fadeInUp 0.6s ease-out forwards;
            opacity: 0;
        }
        
        /* Animation d'apparition décalée pour chaque carte */
        .category-card:nth-child(1) { animation-delay: 0.1s; }
        .category-card:nth-child(2) { animation-delay: 0.2s; }
        .category-card:nth-child(3) { animation-delay: 0.3s; }
        .category-card:nth-child(4) { animation-delay: 0.4s; }
        
        .category-card:hover {
            transform: translateY(-8px) scale(1.08);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }
        
        /* Animation de l'icône au survol */
        .category-card:hover i {
            transform: scale(1.2) rotate(5deg);
            transition: transform 0.3s ease;
        }
        
        /* Effet de brillance au survol */
        .category-card::after {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transform: rotate(45deg);
            transition: all 0.6s ease;
            opacity: 0;
        }
        
        .category-card:hover::after {
            opacity: 1;
            animation: shine 1.5s ease-in-out infinite;
        }
        
        /* Bordure animée pour la carte active */
        .category-card.active::before {
            content: '';
            position: absolute;
            inset: -3px;
            border: 4px solid rgba(255, 255, 255, 0.9);
            border-radius: 1rem;
            pointer-events: none;
            animation: pulse-border 2s ease-in-out infinite;
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
        }
        
        /* Badge qui pulse pour attirer l'attention */
        .category-card .badge-pulse {
            animation: badge-pulse 2s ease-in-out infinite;
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes shine {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }
        
        @keyframes pulse-border {
            0%, 100% {
                border-color: rgba(255, 255, 255, 0.9);
                box-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
            }
            50% {
                border-color: rgba(255, 255, 255, 0.5);
                box-shadow: 0 0 40px rgba(255, 255, 255, 0.8);
            }
        }
        
        @keyframes badge-pulse {
            0%, 100% {
                transform: scale(1);
                opacity: 1;
            }
            50% {
                transform: scale(1.1);
                opacity: 0.9;
            }
        }
        
        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .animate-slideDown {
            animation: slideDown 0.4s ease-out;
        }
        
        /* Animations pour les sous-catégories */
        .subcategory-btn {
            position: relative;
            overflow: hidden;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .subcategory-btn:hover {
            transform: translateY(-3px) scale(1.08);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
        }
        
        /* Effet d'onde au clic */
        .subcategory-btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.5);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }
        
        .subcategory-btn:active::before {
            width: 300px;
            height: 300px;
        }
        
        /* Animation pour les icônes des sous-catégories */
        .subcategory-btn:hover i {
            animation: bounce 0.5s ease;
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            25% { transform: translateY(-5px); }
            50% { transform: translateY(-2px); }
            75% { transform: translateY(-3px); }
        }
        
        /* Animation des badges promotionnels */
        .promo-badge {
            animation: float 3s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }
        
        /* Animation scintillante pour les badges */
        .sparkle {
            animation: sparkle 2s ease-in-out infinite;
        }
        
        @keyframes sparkle {
            0%, 100% { opacity: 1; filter: brightness(1); }
            50% { opacity: 0.8; filter: brightness(1.3); }
        }
        
        /* Animation pour la bannière de catégorie */
        .category-banner-animate {
            animation: bannerSlideIn 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards;
        }
        
        @keyframes bannerSlideIn {
            from {
                opacity: 0;
                transform: translateY(-30px) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }
        
        /* Animation spéciale pour la bannière "Tous les produits" */
        @keyframes bannerPulse {
            0%, 100% { 
                transform: scale(1); 
                box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3); 
            }
            50% { 
                transform: scale(1.01); 
                box-shadow: 0 20px 50px rgba(0, 0, 0, 0.4); 
            }
        }
        
        /* Rotation pour l'effet festif */
        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        /* Effet de scintillement pour les fêtes */
        @keyframes sparkle {
            0%, 100% { 
                opacity: 0.7; 
                transform: scale(1); 
            }
            50% { 
                opacity: 1; 
                transform: scale(1.1); 
            }
        }
        
        /* Animation de défilement pour le texte */
        @keyframes scrollText {
            0% { transform: translateX(100%); }
            100% { transform: translateX(-100%); }
        }
        
        /* Animation de la main qui clique */
        @keyframes handClick {
            0%, 100% { 
                transform: translateY(0) rotate(0deg); 
            }
            50% { 
                transform: translateY(5px) rotate(-10deg); 
            }
        }
        
        /* Animation de brillance */
        @keyframes shimmer {
            0% { 
                transform: translateX(-100%); 
                opacity: 0.2; 
            }
            50% { 
                opacity: 0.4; 
            }
            100% { 
                transform: translateX(100%); 
                opacity: 0; 
            }
        }
        
        /* Effet de confettis festifs */
        @keyframes confetti-fall {
            0% {
                transform: translateY(-100px) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(1000px) rotate(720deg);
                opacity: 0;
            }
        }
        
        /* Styles pour les bannières de catégories */
        .category-banner {
            position: relative;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            animation: fadeInUp 0.8s ease-out;
            transition: all 0.3s ease;
            border: 2px solid rgba(255, 255, 255, 0.1);
        }
        
        .category-banner:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3);
        }
        
        .category-banner::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transform: rotate(45deg);
            transition: all 0.6s ease;
            opacity: 0;
        }
        
        .category-banner:hover::before {
            opacity: 1;
            animation: shine 1.5s ease-in-out;
        }
        
        .category-banner-all {
            position: relative;
            overflow: hidden;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3);
            animation: bannerPulse 2s ease-in-out infinite;
            transition: all 0.3s ease;
            border: 3px solid rgba(255, 255, 255, 0.2);
        }
        
        .category-banner-all:hover {
            transform: scale(1.02);
        }
        
        .category-banner-all::before {
            content: '';
            position: absolute;
            top: -100%;
            left: -100%;
            width: 300%;
            height: 300%;
            background: radial-gradient(circle, rgba(255,255,255,0.2) 0%, transparent 70%);
            animation: rotate 10s linear infinite;
        }
        
        /* Effet de scintillement pour les icônes festives */
        .festive-icon {
            animation: sparkle 1.5s ease-in-out infinite;
        }
        
        .festive-icon:nth-child(2) {
            animation-delay: 0.3s;
        }
        
        .festive-icon:nth-child(3) {
            animation-delay: 0.6s;
        }
        
        /* Animation de la main qui clique */
        .animate-bounce {
            animation: handClick 1s ease-in-out infinite;
        }
        
        /* Effet de brillance au survol */
        .category-banner .absolute.inset-0,
        .category-banner-all .absolute.inset-0 {
            background: linear-gradient(90deg, 
                transparent 0%, 
                rgba(255, 255, 255, 0.2) 50%, 
                transparent 100%);
        }
        
        /* Style pour le bouton avec effet de brillance */
        .category-banner button,
        .category-banner-all button {
            position: relative;
            overflow: hidden;
        }
        
        /* Effet de neige pour les fêtes */
        .snowflake {
            position: absolute;
            top: -20px;
            color: #fff;
            font-size: 20px;
            animation: fall linear forwards;
            user-select: none;
            pointer-events: none;
            z-index: 100;
        }
        
        @keyframes fall {
            to {
                transform: translateY(105vh) rotate(360deg);
            }
        }
        
        .gradient-purple {
            background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
        }
        
        
        .product-card {
            transition: all 0.3s ease;
            transform: translateY(0);
        }
        
        .product-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 25px 50px rgba(0,0,0,0.15);
        }
        
        .category-btn {
            transition: all 0.3s ease;
        }
        
        .category-btn.active {
            transform: scale(1.05);
        }
        
        .category-card {
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            position: relative;
            animation: fadeInUp 0.6s ease-out forwards;
            opacity: 0;
        }
        
        /* Animation d'apparition décalée pour chaque carte */
        .category-card:nth-child(1) { animation-delay: 0.1s; }
        .category-card:nth-child(2) { animation-delay: 0.2s; }
        .category-card:nth-child(3) { animation-delay: 0.3s; }
        .category-card:nth-child(4) { animation-delay: 0.4s; }
        
        .category-card:hover {
            transform: translateY(-8px) scale(1.08);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }
        
        /* Animation de l'icône au survol */
        .category-card:hover i {
            transform: scale(1.2) rotate(5deg);
            transition: transform 0.3s ease;
        }
        
        /* Effet de brillance au survol */
        .category-card::after {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transform: rotate(45deg);
            transition: all 0.6s ease;
            opacity: 0;
        }
        
        .category-card:hover::after {
            opacity: 1;
            animation: shine 1.5s ease-in-out infinite;
        }
        
        /* Bordure animée pour la carte active */
        .category-card.active::before {
            content: '';
            position: absolute;
            inset: -3px;
            border: 4px solid rgba(255, 255, 255, 0.9);
            border-radius: 1rem;
            pointer-events: none;
            animation: pulse-border 2s ease-in-out infinite;
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
        }
        
        /* Badge qui pulse pour attirer l'attention */
        .category-card .badge-pulse {
            animation: badge-pulse 2s ease-in-out infinite;
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes shine {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }
        
        @keyframes pulse-border {
            0%, 100% {
                border-color: rgba(255, 255, 255, 0.9);
                box-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
            }
            50% {
                border-color: rgba(255, 255, 255, 0.5);
                box-shadow: 0 0 40px rgba(255, 255, 255, 0.8);
            }
        }
        
        @keyframes badge-pulse {
            0%, 100% {
                transform: scale(1);
                opacity: 1;
            }
            50% {
                transform: scale(1.1);
                opacity: 0.9;
            }
        }
        
        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .animate-slideDown {
            animation: slideDown 0.4s ease-out;
        }
        
        /* Animations pour les sous-catégories */
        .subcategory-btn {
            position: relative;
            overflow: hidden;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .subcategory-btn:hover {
            transform: translateY(-3px) scale(1.08);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
        }
        
        /* Effet d'onde au clic */
        .subcategory-btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.5);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }
        
        .subcategory-btn:active::before {
            width: 300px;
            height: 300px;
        }
        
        /* Animation pour les icônes des sous-catégories */
        .subcategory-btn:hover i {
            animation: bounce 0.5s ease;
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            25% { transform: translateY(-5px); }
            50% { transform: translateY(-2px); }
            75% { transform: translateY(-3px); }
        }
        
        /* Animation des badges promotionnels */
        .promo-badge {
            animation: float 3s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }
        
        /* Animation scintillante pour les badges */
        .sparkle {
            animation: sparkle 2s ease-in-out infinite;
        }
        
        @keyframes sparkle {
            0%, 100% { opacity: 1; filter: brightness(1); }
            50% { opacity: 0.8; filter: brightness(1.3); }
        }
        
        /* Animation pour la bannière de catégorie */
        .category-banner-animate {
            animation: bannerSlideIn 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards;
        }
        
        @keyframes bannerSlideIn {
            from {
                opacity: 0;
                transform: translateY(-30px) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }
        
        /* Animation de l'icône dans la bannière */
        .banner-icon {
            animation: iconRotate 0.8s ease-out;
        }
        
        @keyframes iconRotate {
            0% {
                transform: scale(0) rotate(-180deg);
                opacity: 0;
            }
            50% {
                transform: scale(1.2) rotate(10deg);
            }
            100% {
                transform: scale(1) rotate(0);
                opacity: 1;
            }
        }
        
        /* Animation du badge dans la bannière */
        .banner-badge {
            animation: badgeSlideIn 0.6s ease-out 0.3s backwards;
        }
        
        @keyframes badgeSlideIn {
            from {
                opacity: 0;
                transform: translateX(50px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        /* Effet de particules flottantes */
        .particle {
            position: absolute;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            animation: float-particle 3s ease-in-out infinite;
            pointer-events: none;
        }
        
        .particle:nth-child(1) { width: 10px; height: 10px; top: 20%; left: 10%; animation-delay: 0s; }
        .particle:nth-child(2) { width: 15px; height: 15px; top: 60%; left: 80%; animation-delay: 0.5s; }
        .particle:nth-child(3) { width: 8px; height: 8px; top: 80%; left: 20%; animation-delay: 1s; }
        .particle:nth-child(4) { width: 12px; height: 12px; top: 40%; left: 90%; animation-delay: 1.5s; }
        
        @keyframes float-particle {
            0%, 100% {
                transform: translateY(0) translateX(0);
                opacity: 0.3;
            }
            50% {
                transform: translateY(-20px) translateX(10px);
                opacity: 0.6;
            }
        }
        
        /* Animation spéciale pour la bannière "Tous les produits" */
        @keyframes bannerSlideIn {
            from {
                opacity: 0;
                transform: translateY(-30px) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }
        
        /* Animation spéciale pour la bannière "Tous les produits" */
        @keyframes bannerPulse {
            0%, 100% { 
                transform: scale(1); 
                box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3); 
            }
            50% { 
                transform: scale(1.01); 
                box-shadow: 0 20px 50px rgba(0, 0, 0, 0.4); 
            }
        }
        
        /* Rotation pour l'effet festif */
        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        /* Effet de scintillement pour les fêtes */
        @keyframes sparkle {
            0%, 100% { 
                opacity: 0.7; 
                transform: scale(1); 
            }
            50% { 
                opacity: 1; 
                transform: scale(1.1); 
            }
        }
        
        /* Animation de défilement pour le texte */
        @keyframes scrollText {
            0% { transform: translateX(100%); }
            100% { transform: translateX(-100%); }
        }
        
        /* Animation de la main qui clique */
        @keyframes handClick {
            0%, 100% { 
                transform: translateY(0) rotate(0deg); 
            }
            50% { 
                transform: translateY(5px) rotate(-10deg); 
            }
        }
        
        /* Animation de brillance */
        @keyframes shimmer {
            0% { 
                transform: translateX(-100%); 
                opacity: 0.2; 
            }
            50% { 
                opacity: 0.4; 
            }
            100% { 
                transform: translateX(100%); 
                opacity: 0; 
            }
        }
        
        /* Effet de neige pour les fêtes */
        @keyframes fall {
            to {
                transform: translateY(105vh) rotate(360deg);
            }
        }
        
        /* Styles pour les confettis de fête */
        .confetti-piece {
            position: fixed;
            width: 10px;
            height: 10px;
            background-color: #f00;
            top: -10px;
            opacity: 0;
            z-index: 9999;
            pointer-events: none;
        }
        
        @keyframes confetti-fall {
            0% {
                transform: translateY(-100px) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(1000px) rotate(720deg);
                opacity: 0;
            }
        }
        
        /* Styles pour les bannières de catégories */
        .category-banner {
            position: relative;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            animation: fadeInUp 0.8s ease-out;
            transition: all 0.3s ease;
            border: 2px solid rgba(255, 255, 255, 0.1);
        }
        
        .category-banner:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3);
        }
        
        .category-banner::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transform: rotate(45deg);
            transition: all 0.6s ease;
            opacity: 0;
        }
        
        .category-banner:hover::before {
            opacity: 1;
            animation: shine 1.5s ease-in-out;
        }
        
        .category-banner-all {
            position: relative;
            overflow: hidden;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3);
            animation: bannerPulse 2s ease-in-out infinite;
            transition: all 0.3s ease;
            border: 3px solid rgba(255, 255, 255, 0.2);
        }
        
        .category-banner-all:hover {
            transform: scale(1.02);
        }
        
        .category-banner-all::before {
            content: '';
            position: absolute;
            top: -100%;
            left: -100%;
            width: 300%;
            height: 300%;
            background: radial-gradient(circle, rgba(255,255,255,0.2) 0%, transparent 70%);
            animation: rotate 10s linear infinite;
        }
        
        /* Effet de scintillement pour les icônes festives */
        .festive-icon {
            animation: sparkle 1.5s ease-in-out infinite;
        }
        
        .festive-icon:nth-child(2) {
            animation-delay: 0.3s;
        }
        
        .festive-icon:nth-child(3) {
            animation-delay: 0.6s;
        }
        
        /* Animation de la main qui clique */
        .animate-bounce {
            animation: handClick 1s ease-in-out infinite;
        }
        
        /* Effet de brillance au survol */
        .category-banner .absolute.inset-0,
        .category-banner-all .absolute.inset-0 {
            background: linear-gradient(90deg, 
                transparent 0%, 
                rgba(255, 255, 255, 0.2) 50%, 
                transparent 100%);
        }
        
        /* Style pour le bouton avec effet de brillance */
        .category-banner button,
        .category-banner-all button {
            position: relative;
            overflow: hidden;
        }
        
        /* Effet de neige pour les fêtes */
        .snowflake {
            position: absolute;
            top: -20px;
            color: #fff;
            font-size: 20px;
            animation: fall linear forwards;
            user-select: none;
            pointer-events: none;
            z-index: 100;
        }
        
        /* Animation pour le texte de la bannière */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateX(-10px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        .animate-fadeIn {
            animation: fadeIn 0.6s ease-out forwards;
            opacity: 0;
        }
        
        .cart-float {
            position: fixed;
            bottom: 20px;
            /* placer le bouton panier à droite (par défaut) */
            right: 20px;
            left: auto;
            z-index: 1001;
            animation: bounce 2s infinite;
        }

        /* Pour très petits écrans, réduire l'espacement droit */
        @media (max-width: 420px) {
            .cart-float {
                right: 12px;
            }
        }
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            60% { transform: translateY(-5px); }
        }
        
        .modal-overlay {
            backdrop-filter: blur(10px);
        }
        
        .slide-up {
            animation: slideUp 0.3s ease-out;
        }
        
        @keyframes slideUp {
            from { transform: translateY(100%); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        .hero-banner {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.9), rgba(118, 75, 162, 0.9)), url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 300"><defs><pattern id="grid" width="50" height="50" patternUnits="userSpaceOnUse"><path d="M 50 0 L 0 0 0 50" fill="none" stroke="rgba(255,255,255,0.1)" stroke-width="1"/></pattern></defs><rect width="100%" height="100%" fill="url(%23grid)"/></svg>');
            background-size: cover;
            background-position: center;
        }
        
        .carousel-container {
            position: relative;
            overflow: hidden;
            touch-action: pan-y pinch-zoom;
            user-select: none;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
        }
        
        .carousel-container.dragging {
            cursor: grabbing;
            cursor: -webkit-grabbing;
        }
        
        .carousel-container:not(.dragging) {
            cursor: grab;
            cursor: -webkit-grab;
        }
        
        .carousel-track {
            display: flex;
            transition: transform 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            will-change: transform;
        }
        
        .carousel-track.no-transition {
            transition: none;
        }
        
        .carousel-slide {
            min-width: 100%;
            position: relative;
            pointer-events: none;
        }
        
        .carousel-slide img,
        .carousel-slide video {
            pointer-events: auto;
            user-select: none;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            -webkit-user-drag: none;
            -khtml-user-drag: none;
            -moz-user-drag: none;
            -o-user-drag: none;
            /* user-drag: none; */
        }
        
        .carousel-slide video {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 0;
        }
        
        /* Indicateur de lecture vidéo */
        .video-play-indicator {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 60px;
            height: 60px;
            background: rgba(0, 0, 0, 0.6);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: 10;
        }
        
        .carousel-slide:hover .video-play-indicator {
            opacity: 1;
        }
        
        .video-play-indicator i {
            color: white;
            font-size: 24px;
            margin-left: 4px;
        }
        
        .carousel-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(0,0,0,0.7);
            color: white;
            border: none;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            z-index: 20;
            font-size: 16px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
            user-select: none;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
        }
        
        .carousel-nav:hover,
        .carousel-nav:active,
        .carousel-nav:focus {
            background: rgba(0,0,0,0.9);
            transform: translateY(-50%) scale(1.15);
            box-shadow: 0 6px 20px rgba(0,0,0,0.4);
            outline: none;
        }
        
        .carousel-prev {
            left: 8px;
        }
        
        .carousel-next {
            right: 8px;
        }
        
        /* Amélioration pour mobile */
        @media (max-width: 768px) {
            .carousel-nav {
                width: 40px;
                height: 40px;
                font-size: 14px;
                background: rgba(0,0,0,0.8);
            }
            
            .carousel-nav:active {
                transform: translateY(-50%) scale(1.1);
                background: rgba(0,0,0,0.95);
            }
        }
        
        .carousel-indicators {
            position: absolute;
            bottom: 12px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 10px;
            z-index: 20;
            background: rgba(0,0,0,0.3);
            padding: 6px 12px;
            border-radius: 20px;
            backdrop-filter: blur(5px);
        }
        
        .carousel-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: rgba(255,255,255,0.6);
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }
        
        .carousel-dot.active {
            background: white;
            transform: scale(1.3);
            border-color: rgba(255,255,255,0.8);
            box-shadow: 0 0 10px rgba(255,255,255,0.5);
        }
        
        .carousel-dot:hover {
            background: rgba(255,255,255,0.8);
            transform: scale(1.1);
        }
        
        .zoom-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.95);
            z-index: 9999;
            display: flex;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(15px);
            animation: fadeIn 0.3s ease-out;
            touch-action: pan-y pinch-zoom;
            user-select: none;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
        }
        
        .zoom-overlay.dragging {
            cursor: grabbing;
            cursor: -webkit-grabbing;
        }
        
        .zoom-overlay:not(.dragging) {
            cursor: grab;
            cursor: -webkit-grab;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .zoom-content {
            position: relative;
            max-width: 95vw;
            max-height: 95vh;
            display: flex;
            align-items: center;
            justify-content: center;
            animation: zoomIn 0.3s ease-out;
        }
        
        @keyframes zoomIn {
            from { transform: scale(0.8); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }
        
        .zoom-image,
        .zoom-video {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
            border-radius: 15px;
            box-shadow: 0 25px 80px rgba(0,0,0,0.7);
            transition: all 0.3s ease;
            user-select: none;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            -webkit-user-drag: none;
            -khtml-user-drag: none;
            -moz-user-drag: none;
            -o-user-drag: none;
            /* user-drag: none; */
            pointer-events: none;
            will-change: transform, opacity;
        }
        
        .zoom-video {
            pointer-events: auto;
        }
        
        .video-controls-overlay {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.7);
            padding: 10px 20px;
            border-radius: 30px;
            display: flex;
            gap: 15px;
            align-items: center;
            backdrop-filter: blur(10px);
            z-index: 100;
        }
        
        .video-control-btn {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .video-control-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.1);
        }
        
        @media (max-width: 768px) {
            .zoom-image {
                max-width: 95vw;
                max-height: 85vh;
                border-radius: 10px;
            }
        }
        
        .zoom-close {
            position: absolute;
            top: -60px;
            right: -60px;
            background: rgba(255,255,255,0.15);
            color: white;
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255,255,255,0.2);
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
            user-select: none;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
        }
        
        .zoom-close:hover,
        .zoom-close:active,
        .zoom-close:focus {
            background: rgba(255,255,255,0.25);
            transform: scale(1.15);
            border-color: rgba(255,255,255,0.4);
            outline: none;
        }
        
        @media (max-width: 768px) {
            .zoom-close {
                top: 20px;
                right: 20px;
                width: 45px;
                height: 45px;
                font-size: 20px;
                background: rgba(255,255,255,0.2);
            }
            
            .zoom-close:active {
                transform: scale(1.1);
                background: rgba(255,255,255,0.35);
            }
        }
        
        .zoom-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255,255,255,0.15);
            color: white;
            border: none;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255,255,255,0.2);
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
            user-select: none;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
        }
        
        .zoom-nav:hover,
        .zoom-nav:active,
        .zoom-nav:focus {
            background: rgba(255,255,255,0.25);
            transform: translateY(-50%) scale(1.15);
            border-color: rgba(255,255,255,0.4);
            outline: none;
        }
        
        .zoom-prev {
            left: -90px;
        }
        
        .zoom-next {
            right: -90px;
        }
        
        /* Amélioration pour mobile */
        @media (max-width: 768px) {
            .zoom-nav {
                width: 50px;
                height: 50px;
                font-size: 20px;
                background: rgba(255,255,255,0.2);
            }
            
            .zoom-prev {
                left: 15px;
            }
            
            .zoom-next {
                right: 15px;
            }
            
            .zoom-nav:active {
                transform: translateY(-50%) scale(1.1);
                background: rgba(255,255,255,0.35);
            }
        }
        
        .zoom-indicator {
            position: absolute;
            bottom: -70px;
            left: 50%;
            transform: translateX(-50%);
            color: white;
            font-size: 16px;
            font-weight: 600;
            background: rgba(0,0,0,0.7);
            padding: 12px 20px;
            border-radius: 25px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
            transition: all 0.3s ease;
            user-select: none;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
        }
        
        @media (max-width: 768px) {
            .zoom-indicator {
                bottom: 20px;
                font-size: 14px;
                padding: 8px 16px;
                border-radius: 20px;
                background: rgba(0,0,0,0.8);
            }
        }
        
        .line-clamp-3 {
            display: -webkit-box;
            /* -webkit-line-clamp: 3; */
            -webkit-box-orient: vertical;
            overflow: hidden;
            line-height: 1.5;
            max-height: 4.5em;
        }
        
        /* Styles pour les résultats de recherche améliorés */
        #search-results, #mobile-search-results {
            animation: slideDown 0.3s ease-out;
        }
        
        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .search-result-card {
            animation: fadeInUp 0.3s ease-out;
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* Scrollbar personnalisée pour les résultats de recherche */
        #search-content::-webkit-scrollbar,
        #mobile-search-content::-webkit-scrollbar {
            width: 8px;
        }
        
        #search-content::-webkit-scrollbar-track,
        #mobile-search-content::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }
        
        #search-content::-webkit-scrollbar-thumb,
        #mobile-search-content::-webkit-scrollbar-thumb {
            background: #9333ea;
            border-radius: 10px;
        }
        
        #search-content::-webkit-scrollbar-thumb:hover,
        #mobile-search-content::-webkit-scrollbar-thumb:hover {
            background: #7e22ce;
        }
        
        /* Effet de surlignage pour les termes de recherche */
        mark {
            background: linear-gradient(120deg, #fef08a 0%, #fde047 100%);
            padding: 2px 4px;
            border-radius: 3px;
            font-weight: 600;
        }
        
        /* Styles Amazon pour les cartes de recherche */
        .search-result-card {
            animation: fadeInUp 0.2s ease-out;
        }
        
        .search-result-card:hover {
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        /* Étoiles de notation style Amazon */
        .fa-star-half-alt:before {
            content: "\f089";
        }
        
        /* Barre de promotion */
        .promo-bar {
            animation: slideDown 0.5s ease-out;
            position: relative;
            overflow: hidden;
        }
        
        /* Effet scintillant pour les fêtes */
        .promo-bar::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            animation: shimmer 3s infinite;
        }
        
        @keyframes shimmer {
            0% { left: -100%; }
            100% { left: 100%; }
        }
        
        @keyframes slideDown {
            from { transform: translateY(-100%); }
            to { transform: translateY(0); }
        }
        
        .promo-text {
            animation: marquee 20s linear infinite;
        }
        
        @keyframes marquee {
            0% { transform: translateX(0); }
            100% { transform: translateX(-50%); }
        }
        
        /* Bouton retour en haut */
        .back-to-top {
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }
        
        .back-to-top.show {
            opacity: 1;
            visibility: visible;
        }
        
        /* Animations festives pour le fond */
        @keyframes festiveGradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        @keyframes snowfall {
            0% { background-position: 0 0, 40px 60px, 130px 270px, 70px 100px, 150px 50px, 250px 150px, 100px 200px; }
            100% { background-position: 0 200px, 40px 260px, 130px 470px, 70px 300px, 150px 250px, 250px 350px, 100px 400px; }
        }
        
        @keyframes twinkle {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 0.6; }
        }
  
    </style>
    <script>
        // Afficher un message discret pour encourager l'inscription
        (function(){
            try{
                // Vérifier si l'utilisateur est déjà connecté
                const isLoggedIn = localStorage.getItem('userLoggedIn') || sessionStorage.getItem('userLoggedIn');
                
                if (!isLoggedIn) {
                    // Afficher immédiatement un message d'encouragement pour les nouveaux visiteurs
                    showWelcomePrompt();
                }
                
            }catch(e){}
        })();
    </script>
    <style>
    /* Overrides: positionner l'assistant (chatbot) à droite et le panier flottant à gauche */
    .chatbot-button-float { left: auto !important; right: 1.5rem !important; }
    .chatbot-container     { left: auto !important; right: 1.5rem !important; }
    /* Ajustements pour petits écrans */
    @media (max-width: 640px) {
        .chatbot-button-float { right: 1rem !important; left: auto !important; }
        .chatbot-container     { right: 0.75rem !important; left: auto !important; max-width: calc(100vw - 1.5rem) !important; }
    }

    /* Panier flottant à gauche */
    .cart-float { position: fixed !important; bottom: 1.5rem !important; left: 1.5rem !important; right: auto !important; z-index: 9999; }
    .cart-float button { position: relative; }
    /* Badge du panier repositionné pour apparaître sur la gauche du bouton */
    #cart-float-badge { right: auto !important; left: -0.5rem !important; }
    </style>

    <!-- Schema JSON-LD pour SEO (Google Rich Snippets) -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Organization",
        "name": "Prestige Shop Express",
        "url": "https://prestige-shop-express.onrender.com",
        "logo": "https://prestige-shop-express.onrender.com/images/prestige-shop.png",
        "description": "Boutique en ligne en Côte d'Ivoire. Mode, électronique, produits éducatifs et fast food avec livraison rapide.",
        "sameAs": [
            "https://www.facebook.com/PrestigeShopExpress",
            "https://www.instagram.com/PrestigeShopExpress",
            "https://www.twitter.com/PrestigeShop"
        ],
        "contactPoint": {
            "@type": "ContactPoint",
            "contactType": "Customer Service",
            "telephone": "+225-XXX-XXX-XXX",
            "email": "contact@prestige-shop-express.com"
        },
        "address": {
            "@type": "PostalAddress",
            "addressCountry": "CI",
            "addressLocality": "Abidjan"
        }
    }
    </script>

    <!-- Schema JSON-LD pour les produits -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebStore",
        "name": "Prestige Shop Express",
        "url": "https://prestige-shop-express.onrender.com",
        "offers": {
            "@type": "AggregateOffer",
            "priceCurrency": "XOF",
            "highPrice": "143000",
            "lowPrice": "12000",
            "offerCount": "100+"
        }
    }
    </script>
</head>
<body class="bg-gray-50">
   <!-- CONTENU SEO POUR GOOGLE (OBLIGATOIRE) -->
   <main id="seo-content">
      <h1>Prestige Shop Express</h1>
      <p>
         Prestige Shop Express est une application e-commerce en Côte d'Ivoire
         proposant des produits de mode, électroniques, éducatifs et fast food.
         Découvrez une large sélection de produits de qualité avec livraison rapide
         et service client exceptionnel.
      </p>
      <section>
         <h2>Nos catégories de produits : mode, électronique, éducatif, fast food et business</h2>
         <ul>
            <li>Produits Éducatifs</li>
            <li>Mode et Accessoires</li>
            <li>Électroniques</li>
            <li>Fast Food et Restauration</li>
            <li>Solutions Business (Bientôt disponible)</li>
         </ul>
      </section>   </main>

   <!-- Barre de Promotion Sticky - Spécial Fêtes de Décembre -->
   <div id="promo-bar" class="promo-bar bg-gradient-to-r from-red-700 via-green-700 to-red-700 text-white py-3 sticky top-0 z-[60] shadow-2xl">
       <div class="container mx-auto px-4 flex items-center justify-between relative z-10">
           <div class="flex-1 overflow-hidden">
               <div class="flex items-center space-x-8 promo-text whitespace-nowrap">
                   <span class="font-bold text-sm md:text-base">🎄 SPÉCIAL FÊTES : Jusqu'à -30% sur toute la boutique !</span>
                   <span class="font-bold text-sm md:text-base">🎁 Livraison GRATUITE pour vos cadeaux de Noël dès 40 000 FCFA</span>
                   <span class="font-bold text-sm md:text-base">✨ Offres magiques de décembre - Gâtez vos proches !</span>
                   <span class="font-bold text-sm md:text-base">🎅 Idées cadeaux parfaites pour toute la famille</span>
                   <span class="font-bold text-sm md:text-base">🎄 SPÉCIAL FÊTES : Jusqu'à -30% sur toute la boutique !</span>
                   <span class="font-bold text-sm md:text-base">🎁 Livraison GRATUITE pour vos cadeaux de Noël dès 40 000 FCFA</span>
               </div>
           </div>
           <button onclick="closePromoBar()" class="ml-4 text-white hover:text-gray-200 transition-colors relative z-20">
               <i class="fas fa-times text-xl"></i>
           </button>
       </div>
   </div>

   <!-- Header -->
<header class="bg-white shadow-lg sticky top-0 z-50 w-full">
    <div class="w-full px-3 md:px-4">
        <!-- Ligne logo + menu hamburger + boutons -->
        <div class="flex items-center justify-between py-3 md:py-4 w-full max-w-full">
            <!-- Logo et titre -->
            <div class="flex items-center space-x-2 md:space-x-3 min-w-0 flex-shrink">
                <div class="w-10 h-10 md:w-16 md:h-16 rounded-full overflow-hidden bg-white shadow-lg flex-shrink-0">
                    <img src="https://images.wakelet.com/resize?id=Cjp9phOoaN97gDLXDdPNk&w=1600&h=actual&q=85" alt="Prestige Shop Express Logo" class="w-full h-full object-cover">
                </div>
                <div class="min-w-0 flex-shrink">
                    <h1 class="text-sm md:text-2xl font-bold text-gray-800 truncate">Prestige Shop Express</h1>
                    <p class="text-xs md:text-sm text-gray-500 hidden sm:block truncate">Votre boutique en ligne</p>
                </div>
            </div>

            <!-- Boutons nav & panier -->
            <div class="flex items-center space-x-1 md:space-x-4 flex-shrink-0">
                <nav class="hidden md:flex items-center space-x-4 lg:space-x-8">
                    <a href="#accueil" class="text-gray-700 hover:text-purple-600 font-medium transition-colors text-sm lg:text-base">Accueil</a>
                    <a href="#produits" class="text-gray-700 hover:text-purple-600 font-medium transition-colors text-sm lg:text-base">Produits</a>
                    <a href="#contact" class="text-gray-700 hover:text-purple-600 font-medium transition-colors text-sm lg:text-base">Contact</a>
                </nav>
                
                <!-- Boutons Connexion/Inscription (si non connecté) -->
                <div id="auth-buttons" class="hidden md:flex items-center space-x-2">
                    <a href="login.html" class="flex items-center space-x-2 bg-white border-2 border-purple-600 text-purple-600 hover:bg-purple-50 px-4 py-2 rounded-lg font-semibold transition-all">
                        <i class="fas fa-sign-in-alt"></i>
                        <span class="hidden lg:inline">Connexion</span>
                    </a>
                    <a href="register.html" class="flex items-center space-x-2 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white px-4 py-2 rounded-lg font-semibold transition-all transform hover:scale-105 shadow-md">
                        <i class="fas fa-user-plus"></i>
                        <span class="hidden lg:inline">Inscription</span>
                    </a>
                </div>
                
                <!-- Bouton Profil utilisateur (si connecté) -->
                <button id="user-menu-btn" onclick="openUserModal()" class="hidden md:flex items-center space-x-2 bg-purple-100 hover:bg-purple-200 px-4 py-2 rounded-lg transition-all">
                    <i class="fas fa-user"></i>
                    <span id="user-fullname-header" class="text-sm font-semibold text-gray-800 hidden lg:inline"></span>
                    <i class="fas fa-chevron-down text-xs"></i>
                </button>

                <button onclick="toggleCart()" class="relative bg-purple-100 hover:bg-purple-200 p-2 md:p-3 rounded-full transition-colors flex-shrink-0">
                    <i class="fas fa-shopping-cart text-xl"></i>
                    <span id="cart-badge" class="absolute -top-1 -right-1 md:-top-2 md:-right-2 bg-red-500 text-white text-xs rounded-full w-5 h-5 md:w-6 md:h-6 flex items-center justify-center hidden">0</span>
                </button>

                <button onclick="toggleMobileMenu()" class="md:hidden bg-gray-100 hover:bg-gray-200 p-2 rounded-lg transition-colors">
                    <i class="fas fa-bars text-xl"></i>
                </button>
                </div>
            </div>
        </div>

        <!-- Barre de recherche desktop - STYLE AMÉLIORÉ -->
        <div class="relative hidden sm:block w-full mb-3">
            <div class="relative">
                <input type="text"
                       id="search-input"
                       placeholder="Rechercher des produits, catégories ou marques..."
                       class="w-full pl-12 pr-24 py-4 text-base border-2 border-gray-300 rounded-xl focus:ring-4 focus:ring-orange-200 focus:border-orange-400 transition-all shadow-sm hover:shadow-md"
                       oninput="handleSearch()"
                       onfocus="showSearchResults()"
                       onblur="hideSearchResults()">
                <div class="absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400">
                    <i class="fas fa-search"></i>
                </div>
                <button onclick="clearSearch()"
                        id="clear-search"
                        class="absolute right-16 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 hidden transition-colors">
                    <i class="fas fa-times"></i>
                </button>
                <button onclick="(function(){ const v=document.getElementById('search-input').value.trim(); performSearch(v, false); document.getElementById('search-results').classList.remove('hidden'); })()" class="absolute right-2 top-1/2 transform -translate-y-1/2 bg-orange-400 hover:bg-orange-500 text-white px-4 py-2 rounded-lg transition-all font-semibold">
                    <i class="fas fa-search mr-1"></i>
                    <span class="hidden md:inline">Rechercher</span>
                </button>
                </div>
            </div>
            <div id="search-results" class="absolute top-full left-0 right-0 bg-white border border-gray-200 rounded-2xl shadow-2xl mt-2 max-h-[600px] overflow-y-auto z-50 hidden animate-slideDown">
                <div id="search-content"></div>
            </div>
        </div>

        <!-- Barre de recherche mobile - STYLE AMÉLIORÉ -->
        <div class="sm:hidden w-full bg-white border-b border-gray-200 px-3 py-3">
            <div class="relative">
                <input type="text"
                       id="mobile-search-input"
                       placeholder="Rechercher des produits..."
                       class="w-full pl-11 pr-11 py-3.5 text-base border-2 border-gray-300 rounded-xl focus:ring-4 focus:ring-orange-200 focus:border-orange-400 transition-all"
                       oninput="handleMobileSearch()"
                       onfocus="showMobileSearchResults()"
                       onblur="hideMobileSearchResults()">
                <i class="fas fa-search absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                <button onclick="clearMobileSearch()"
                        id="mobile-clear-search"
                        class="absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 hidden">
                    <i class="fas fa-times"></i>
                </button>
                </div>
            </div>
            <div id="mobile-search-results" class="hidden mt-2">
                <div id="mobile-search-content" class="bg-white rounded-2xl shadow-xl border border-gray-200 p-2 max-h-[500px] overflow-y-auto"></div>
            </div>
        </div>

        <!-- Menu mobile -->
        <div id="mobile-menu" class="md:hidden bg-white border-t border-gray-200 hidden">
            <div class="px-4 py-3 space-y-3">
                <!-- Profil utilisateur mobile (si connecté) -->
                <div id="mobile-user-profile" class="hidden bg-gradient-to-r from-purple-50 to-blue-50 rounded-xl p-4 mb-3 border border-purple-200">
                    <div class="flex items-center space-x-3 mb-3">
                        <div class="w-12 h-12 bg-gradient-to-br from-purple-600 to-blue-600 rounded-full flex items-center justify-center">
                            <i class="fas fa-user text-white text-xl"></i>
                        </div>
                        <div class="flex-1">
                            <p class="font-bold text-gray-900" id="mobile-user-fullname"></p>
                            <p class="text-xs text-gray-600" id="mobile-user-email"></p>
                        </div>
                    </div>
                    <button onclick="logout()" class="w-full bg-red-100 hover:bg-red-200 text-red-600 px-4 py-2.5 rounded-lg font-semibold transition-all flex items-center justify-center">
                        <i class="fas fa-sign-out-alt mr-2"></i>
                        Déconnexion
                    </button>
                </div>
                
                <!-- Boutons connexion/inscription mobile (si non connecté) -->
                <div id="mobile-auth-buttons" class="hidden space-y-2 mb-3">
                    <a href="login.html" class="block w-full bg-white border-2 border-purple-600 text-purple-600 hover:bg-purple-50 px-4 py-3 rounded-lg font-bold transition-all text-center">
                        <i class="fas fa-sign-in-alt mr-2"></i>
                        Connexion
                    </a>
                    <a href="register.html" class="block w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white px-4 py-3 rounded-lg font-bold transition-all text-center shadow-lg">
                        <i class="fas fa-user-plus mr-2"></i>
                        Créer un compte
                    </a>
                </div>
                
                <a href="#accueil" onclick="closeMobileMenu()" class="block text-gray-700 hover:text-purple-600 font-medium transition-colors py-2">
                    <i class="fas fa-home mr-3 text-purple-600"></i> Accueil
                </a>
                <a href="#produits" onclick="closeMobileMenu()" class="block text-gray-700 hover:text-purple-600 font-medium transition-colors py-2">
                    <i class="fas fa-box mr-3 text-purple-600"></i> Produits
                </a>
                <a href="#contact" onclick="closeMobileMenu()" class="block text-gray-700 hover:text-purple-600 font-medium transition-colors py-2">
                    <i class="fas fa-envelope mr-3 text-purple-600"></i> Contact
                </a>
            </div>
        </div>
    </div>
</header>



<main>
   

<style>
    @keyframes fadeIn {
        from {opacity: 0; transform: scale(0.95);}
        to {opacity: 1; transform: scale(1);}
    }
    .animate-fadeIn {
        animation: fadeIn 0.2s ease forwards;
    }
    
    @keyframes slideInFromBottom {
        0% {
            opacity: 0;
            transform: translateY(100%);
        }
        100% {
            opacity: 1;
            transform: translateY(0);
        }
    }
</style>





<!-- Hero Banner Moderne - Spécial Fêtes de Décembre -->
<section id="accueil" class="relative overflow-hidden bg-gradient-to-br from-red-700 via-green-700 to-red-800">
    <!-- Arrière-plan animé festif -->
    <div class="absolute inset-0">
        <!-- Fond festif avec motifs de Noël -->
        <div class="w-full h-full relative overflow-hidden" style="background: linear-gradient(135deg, #1a472a 0%, #2d1b1b 25%, #1a472a 50%, #2d1b1b 75%, #1a472a 100%); background-size: 400% 400%; animation: festiveGradient 15s ease infinite;">
            <!-- Motifs de flocons de neige -->
            <div class="absolute inset-0" style="background-image: 
                radial-gradient(2px 2px at 20% 30%, white, transparent),
                radial-gradient(2px 2px at 60% 70%, white, transparent),
                radial-gradient(1px 1px at 50% 50%, white, transparent),
                radial-gradient(1px 1px at 80% 10%, white, transparent),
                radial-gradient(2px 2px at 90% 60%, white, transparent),
                radial-gradient(1px 1px at 33% 80%, white, transparent),
                radial-gradient(2px 2px at 70% 40%, white, transparent);
                background-size: 200px 200px, 300px 300px, 250px 250px, 150px 150px, 180px 180px, 220px 220px, 280px 280px;
                background-position: 0 0, 40px 60px, 130px 270px, 70px 100px, 150px 50px, 250px 150px, 100px 200px;
                opacity: 0.3;
                animation: snowfall 20s linear infinite;">
            </div>
            
            <!-- Étoiles scintillantes -->
            <div class="absolute inset-0" style="background-image: 
                radial-gradient(circle, gold 1px, transparent 1px),
                radial-gradient(circle, gold 1px, transparent 1px);
                background-size: 50px 50px, 80px 80px;
                background-position: 0 0, 40px 40px;
                opacity: 0.4;
                animation: twinkle 3s ease-in-out infinite;">
            </div>
        </div>
        
        <!-- Overlay gradient festif -->
        <div class="absolute inset-0 bg-gradient-to-r from-red-900/85 via-green-900/80 to-red-900/85"></div>
        
        <!-- Formes décoratives festives -->
        <div class="absolute top-0 right-0 w-96 h-96 bg-yellow-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-pulse"></div>
        <div class="absolute bottom-0 left-0 w-96 h-96 bg-green-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-pulse" style="animation-delay: 1s;"></div>
        <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-red-300 rounded-full mix-blend-multiply filter blur-3xl opacity-15 animate-pulse" style="animation-delay: 2s;"></div>
    </div>

    <div class="container mx-auto px-4 py-16 md:py-24 relative z-10">
        <div class="max-w-4xl mx-auto text-center">
            <!-- Badge promotionnel festif -->
            <div class="inline-flex items-center bg-gradient-to-r from-red-600 to-green-600 text-white px-6 py-3 rounded-full font-bold text-sm mb-6 shadow-2xl animate-bounce">
                <i class="fas fa-gift text-lg mr-2"></i>
                🎄 OFFRES SPÉCIALES FÊTES DE DÉCEMBRE 🎁
            </div>
            
            <!-- Titre principal festif -->
            <h1 class="text-4xl md:text-6xl lg:text-7xl font-black text-white mb-6 leading-tight">
                Célébrez les Fêtes,
                <span class="block text-transparent bg-clip-text bg-gradient-to-r from-yellow-200 via-green-200 to-red-200">
                    Gâtez vos Proches !
                </span>
            </h1>
            
            <!-- Sous-titre festif -->
            <p class="text-lg md:text-xl text-gray-100 mb-8 max-w-2xl mx-auto leading-relaxed">
                🎅 Trouvez les <strong>cadeaux parfaits</strong> pour toute la famille ! <strong>Fournitures</strong>, <strong>électroniques</strong> et <strong>mode</strong> à prix festifs. Livraison express pour Noël !
            </p>
            
            <!-- Boutons CTA festifs -->
            <div class="flex flex-col sm:flex-row gap-4 justify-center mb-12">
                <a href="#produits" class="bg-gradient-to-r from-red-600 to-green-600 hover:from-red-700 hover:to-green-700 text-white px-8 py-4 rounded-xl font-bold text-lg shadow-2xl transition-all transform hover:scale-105 inline-flex items-center justify-center">
                    <i class="fas fa-gifts text-lg mr-2"></i>
                    Découvrir nos cadeaux
                </a>
                <a href="#contact" class="bg-white/10 hover:bg-white/20 backdrop-blur-sm text-white border-2 border-white/30 px-8 py-4 rounded-xl font-bold text-lg shadow-xl transition-all transform hover:scale-105 inline-flex items-center justify-center">
                    <i class="fab fa-whatsapp mr-2"></i>
                    Commander sur WhatsApp
                </a>
            </div>
            
            <!-- Avantages avec icônes festives -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 max-w-3xl mx-auto">
                <div class="bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl p-6 hover:bg-white/20 transition-all transform hover:scale-105">
                    <div class="bg-gradient-to-r from-red-500 to-green-500 w-14 h-14 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg">
                        <i class="fas fa-truck text-xl"></i>
                    </div>
                    <h3 class="text-white font-bold text-lg mb-2">Livraison Rapide</h3>
                    <p class="text-gray-200 text-sm">Recevez vos commandes en 24-48h partout en Côte d'Ivoire</p>
                </div>
                
                <div class="bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl p-6 hover:bg-white/20 transition-all transform hover:scale-105">
                    <div class="bg-gradient-to-r from-green-500 to-red-500 w-14 h-14 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg">
                        <i class="fas fa-shield-alt text-xl"></i>
                    </div>
                    <h3 class="text-white font-bold text-lg mb-2">Qualité Garantie</h3>
                    <p class="text-gray-200 text-sm">Produits authentiques et certifiés, satisfaction garantie</p>
                </div>
                
                <div class="bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl p-6 hover:bg-white/20 transition-all transform hover:scale-105">
                    <div class="bg-gradient-to-r from-yellow-500 to-green-500 w-14 h-14 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg">
                        <i class="fas fa-headset text-xl"></i>
                    </div>
                    <h3 class="text-white font-bold text-lg mb-2">Support 24/7</h3>
                    <p class="text-gray-200 text-sm">Notre équipe à votre écoute via WhatsApp et téléphone</p>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Indicateurs de carrousel -->
    <div class="absolute bottom-6 left-1/2 transform -translate-x-1/2 flex gap-2 z-20">
        <button onclick="goToSlide(0)" class="carousel-indicator w-3 h-3 rounded-full bg-white/50 hover:bg-white transition-all active"></button>
        <button onclick="goToSlide(1)" class="carousel-indicator w-3 h-3 rounded-full bg-white/50 hover:bg-white transition-all"></button>
        <button onclick="goToSlide(2)" class="carousel-indicator w-3 h-3 rounded-full bg-white/50 hover:bg-white transition-all"></button>
    </div>
</section>




<!-- JavaScript pour le carrousel animé amélioré -->
<script>
const images = document.querySelectorAll("#carouselImages img");
const indicators = document.querySelectorAll(".carousel-indicator");
let current = 0;
let carouselInterval;

function updateIndicators() {
    indicators.forEach((indicator, index) => {
        if (index === current) {
            indicator.classList.add("active", "bg-white", "scale-125");
            indicator.classList.remove("bg-white/50");
        } else {
            indicator.classList.remove("active", "bg-white", "scale-125");
            indicator.classList.add("bg-white/50");
        }
    });
}

function showNextImage() {
    // Vérifier que les images sont chargées
    if (!images || images.length === 0) return;
    
    const prev = images[current];
    if (!prev) return;
    
    prev.classList.remove("opacity-100", "scale-100");
    prev.classList.add("opacity-0", "scale-110");

    current = (current + 1) % images.length;

    const next = images[current];
    if (!next) return;
    
    next.classList.remove("opacity-0", "scale-110");
    next.classList.add("opacity-100", "scale-100");
    
    updateIndicators();
}

function goToSlide(index) {
    if (index === current || !images || images.length === 0) return;
    
    const prev = images[current];
    if (prev) {
        prev.classList.remove("opacity-100", "scale-100");
        prev.classList.add("opacity-0", "scale-110");
    }

    current = index;

    const next = images[current];
    if (next) {
        next.classList.remove("opacity-0", "scale-110");
        next.classList.add("opacity-100", "scale-100");
    }
    
    updateIndicators();
    
    // Réinitialiser l'intervalle
    clearInterval(carouselInterval);
    carouselInterval = setInterval(showNextImage, 5000);
}

// Initialiser seulement si les images sont présentes
if (images && images.length > 0) {
    updateIndicators();
    // Change image toutes les 5 secondes
    carouselInterval = setInterval(showNextImage, 5000);
}
</script>


    <!-- Products Section -->
    <section id="produits" class="py-16">
        <div class="container mx-auto px-4">
            <h2 class="text-4xl font-bold text-center text-gray-800 mb-4">Nos Produits</h2>
            <p class="text-center text-gray-600 mb-12 max-w-2xl mx-auto">Explorez nos trois catégories soigneusement sélectionnées pour répondre à tous vos besoins</p>
            
            <!-- Category Filters avec Bannières -->
            <div class="flex overflow-x-auto pb-4 mb-8 scrollbar-hide">
                <div class="flex space-x-6 px-4">
                <!-- Toute les catégories -->
                <button onclick="filterProducts('all')" class="category-card active group relative overflow-hidden rounded-full shadow-lg hover:shadow-2xl transition-all transform hover:scale-105" style="width: 120px; height: 120px; flex-shrink: 0;">
                    <div class="absolute inset-0 bg-gradient-to-br from-purple-600 via-purple-700 to-blue-600 opacity-90 group-hover:opacity-100 transition-opacity"></div>
                    <div class="relative p-4 text-white text-center h-full flex flex-col items-center justify-center">
                        <div class="flex justify-center mb-2">
                            <i class="fas fa-th-large text-4xl"></i>
                        </div>
                        <h3 class="text-sm font-bold whitespace-nowrap">Tous les Produits</h3>
                        <p class="text-sm opacity-90">Découvrez toute notre collection</p>
                        <!-- Icône de main qui indique le clic -->
                        <div class="absolute top-2 right-2 text-yellow-300 animate-bounce">
                            <i class="fas fa-hand-pointer text-2xl"></i>
                        </div>
                    </div>
                </button>
                
                <!-- Éducatif -->
                <button onclick="filterProducts('educatif')" class="category-card group relative overflow-hidden rounded-full shadow-lg hover:shadow-2xl transition-all transform hover:scale-105" style="width: 120px; height: 120px; flex-shrink: 0;">
                    <div class="absolute inset-0 bg-gradient-to-br from-blue-500 via-blue-600 to-cyan-500 opacity-90 group-hover:opacity-100 transition-opacity"></div>
                    <div class="relative p-4 text-white text-center h-full flex flex-col items-center justify-center">
                        <div class="flex justify-center mb-2">
                            <i class="fas fa-graduation-cap text-4xl"></i>
                        </div>
                        <h3 class="text-sm font-bold whitespace-nowrap">Éducatif</h3>
                        <p class="text-sm opacity-90">Fournitures scolaires & plus</p>
                        <!-- Icône de main qui indique le clic -->
                        <div class="absolute top-2 right-2 text-yellow-300 animate-bounce">
                            <i class="fas fa-hand-pointer text-2xl"></i>
                        </div>
                    </div>
                    <div class="absolute top-2 right-2 bg-yellow-400 text-blue-900 text-xs font-bold px-2 py-1 rounded-full badge-pulse promo-badge">⭐ Populaire</div>
                </button>
                
                <!-- Électronique -->
                <button onclick="filterProducts('electronique')" class="category-card group relative overflow-hidden rounded-full shadow-lg hover:shadow-2xl transition-all transform hover:scale-105" style="width: 120px; height: 120px; flex-shrink: 0;">
                    <div class="absolute inset-0 bg-gradient-to-br from-green-500 via-green-600 to-teal-500 opacity-90 group-hover:opacity-100 transition-opacity"></div>
                    <div class="relative p-4 text-white text-center h-full flex flex-col items-center justify-center">
                        <div class="flex justify-center mb-2">
                            <i class="fas fa-laptop text-4xl"></i>
                        </div>
                        <h3 class="text-sm font-bold whitespace-nowrap">Électronique</h3>
                        <p class="text-sm opacity-90">High-tech & accessoires</p>
                        <!-- Icône de main qui indique le clic -->
                        <div class="absolute top-2 right-2 text-yellow-300 animate-bounce">
                            <i class="fas fa-hand-pointer text-2xl"></i>
                        </div>
                    </div>
                    <div class="absolute top-2 right-2 bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-full animate-pulse sparkle">🔥 Promo</div>
                </button>
                
                <!-- Fast Food -->
                <button onclick="filterProducts('fastfood')" class="category-card group relative overflow-hidden rounded-full shadow-lg hover:shadow-2xl transition-all transform hover:scale-105" style="width: 120px; height: 120px; flex-shrink: 0;">
                    <div class="absolute inset-0 bg-gradient-to-br from-orange-500 via-red-600 to-orange-600 opacity-90 group-hover:opacity-100 transition-opacity"></div>
                    <div class="relative p-4 text-white text-center h-full flex flex-col items-center justify-center">
                        <div class="flex justify-center mb-2">
                            <i class="fas fa-hamburger text-4xl"></i>
                        </div>
                        <h3 class="text-sm font-bold whitespace-nowrap">Fast Food</h3>
                        <p class="text-sm opacity-90">Burgers & snacks</p>
                        <!-- Icône de main qui indique le clic -->
                        <div class="absolute top-2 right-2 text-yellow-300 animate-bounce">
                            <i class="fas fa-hand-pointer text-2xl"></i>
                        </div>
                    </div>
                    <div class="absolute top-2 right-2 bg-yellow-300 text-red-900 text-xs font-bold px-2 py-1 rounded-full promo-badge float">🍔 Nouveau</div>
                </button>
                
                <!-- Mode -->
                <button onclick="toggleModeSubcategories()" class="category-card group relative overflow-hidden rounded-full shadow-lg hover:shadow-2xl transition-all transform hover:scale-105" style="width: 120px; height: 120px; flex-shrink: 0;">
                    <div class="absolute inset-0 bg-gradient-to-br from-pink-500 via-purple-600 to-pink-600 opacity-90 group-hover:opacity-100 transition-opacity"></div>
                    <div class="relative p-4 text-white text-center h-full flex flex-col items-center justify-center">
                        <div class="flex justify-center mb-2">
                            <i class="fas fa-tshirt text-4xl"></i>
                        </div>
                        <h3 class="text-xl font-bold mb-2 flex items-center justify-center">
                            Mode
                            <i id="mode-chevron" class="fas fa-chevron-down ml-2 transition-transform text-sm"></i>
                        </h3>
                        <p class="text-sm opacity-90">Tendances & style</p>
                        <!-- Icône de main qui indique le clic -->
                        <div class="absolute top-2 right-2 text-yellow-300 animate-bounce">
                            <i class="fas fa-hand-pointer text-2xl"></i>
                        </div>
                    </div>
                    <div class="absolute top-2 right-2 bg-yellow-300 text-purple-900 text-xs font-bold px-2 py-1 rounded-full promo-badge float">✨ Nouveau</div>
                </button>
                
                <!-- Business Starter -->
                <button onclick="filterProducts('business')" class="category-card group relative overflow-hidden rounded-full shadow-lg hover:shadow-2xl transition-all transform hover:scale-105" style="width: 120px; height: 120px; flex-shrink: 0;">
                    <div class="absolute inset-0 bg-gradient-to-br from-indigo-500 via-purple-600 to-indigo-700 opacity-90 group-hover:opacity-100 transition-opacity"></div>
                    <div class="relative p-4 text-white text-center h-full flex flex-col items-center justify-center">
                        <div class="flex justify-center mb-2">
                            <i class="fas fa-briefcase text-4xl"></i>
                        </div>
                        <h3 class="text-sm font-bold whitespace-nowrap">Prestige Business Starter</h3>
                        <p class="text-sm opacity-90">Bientôt disponible</p>
                        <!-- Icône de main qui indique le clic -->
                        <div class="absolute top-2 right-2 text-yellow-300 animate-bounce">
                            <i class="fas fa-hand-pointer text-2xl"></i>
                        </div>
                    </div>
                    <div class="absolute top-2 right-2 bg-orange-500 text-white text-xs font-bold px-2 py-1 rounded-full animate-pulse">🚀 Nouveau</div>
                </button>
                </div>
            </div>            </div>
            
            <!-- Sous-catégories Mode -->
            <div id="mode-subcategories" class="hidden mb-8 animate-slideDown">
                <div class="bg-gradient-to-r from-pink-50 to-purple-50 rounded-2xl p-6 border-2 border-pink-200">
                    <h4 class="text-center text-xl font-bold text-gray-800 mb-4 flex items-center justify-center">
                        <i class="fas fa-tags mr-2"></i>
                        Catégories Mode
                    </h4>
                    <div class="grid grid-cols-2 sm:grid-cols-4 gap-3">
                        <button onclick="filterProducts('mode')" class="subcategory-btn bg-white border-2 border-pink-400 text-pink-600 px-4 py-3 rounded-xl font-semibold hover:bg-pink-50 transition-all transform hover:scale-105 shadow-md">
                            <div class="flex justify-center mb-2">
                                <i class="fas fa-tshirt text-2xl"></i>
                            </div>
                            <div class="text-sm">Tous Mode</div>
                        </button>
                        <button onclick="filterProducts('mode-homme')" class="subcategory-btn bg-white border-2 border-blue-400 text-blue-600 px-4 py-3 rounded-xl font-semibold hover:bg-blue-50 transition-all transform hover:scale-105 shadow-md">
                            <div class="flex justify-center mb-2">
                                <i class="fas fa-male text-2xl"></i>
                            </div>
                            <div class="text-sm">Homme</div>
                        </button>
                        <button onclick="filterProducts('mode-femme')" class="subcategory-btn bg-white border-2 border-pink-500 text-pink-600 px-4 py-3 rounded-xl font-semibold hover:bg-pink-50 transition-all transform hover:scale-105 shadow-md">
                            <div class="flex justify-center mb-2">
                                <i class="fas fa-female text-2xl"></i>
                            </div>
                            <div class="text-sm">Femme</div>
                        </button>
                        <button onclick="filterProducts('mode-enfants')" class="subcategory-btn bg-white border-2 border-purple-400 text-purple-600 px-4 py-3 rounded-xl font-semibold hover:bg-purple-50 transition-all transform hover:scale-105 shadow-md">
                            <div class="flex justify-center mb-2">
                                <i class="fas fa-child text-2xl"></i>
                            </div>
                            <div class="text-sm">Enfants</div>
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Bannière dynamique de catégorie -->
            <div id="category-banner" class="hidden mb-8 rounded-2xl overflow-hidden shadow-2xl transform transition-all"></div>
            
            <!-- Sort Options -->
            <div class="flex flex-col sm:flex-row items-center justify-between gap-4 mb-8 bg-white rounded-2xl shadow-lg p-6">
                <div class="flex items-center space-x-3">
                    <i class="fas fa-sort-amount-down mr-2"></i>
                    <span class="font-semibold text-gray-800">Trier par :</span>
                </div>
                
                <div class="flex flex-wrap gap-2 justify-center sm:justify-end">
                    <button onclick="sortProducts('default')" class="sort-btn active bg-purple-100 text-purple-700 px-4 py-2 rounded-lg font-medium hover:bg-purple-200 transition-all text-sm">
                        <i class="fas fa-star mr-1"></i>
                        Par défaut
                    </button>
                    <button onclick="sortProducts('name-asc')" class="sort-btn bg-gray-100 text-gray-700 px-4 py-2 rounded-lg font-medium hover:bg-gray-200 transition-all text-sm">
                        <i class="fas fa-sort-alpha-down mr-1"></i>
                        Nom A-Z
                    </button>
                    <button onclick="sortProducts('name-desc')" class="sort-btn bg-gray-100 text-gray-700 px-4 py-2 rounded-lg font-medium hover:bg-gray-200 transition-all text-sm">
                        <i class="fas fa-sort-alpha-up mr-1"></i>
                        Nom Z-A
                    </button>
                    <button onclick="sortProducts('price-asc')" class="sort-btn bg-gray-100 text-gray-700 px-4 py-2 rounded-lg font-medium hover:bg-gray-200 transition-all text-sm">
                        <i class="fas fa-sort-numeric-down mr-1"></i>
                        Prix croissant
                    </button>
                    <button onclick="sortProducts('price-desc')" class="sort-btn bg-gray-100 text-gray-700 px-4 py-2 rounded-lg font-medium hover:bg-gray-200 transition-all text-sm">
                        <i class="fas fa-sort-numeric-up mr-1"></i>
                        Prix décroissant
                    </button>
                </div>
            </div>
            
            <!-- Products Grid -->
            <div id="products-grid" class="grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-3 sm:gap-4 md:gap-6">
                <!-- Produits statiques pour l'indexation Google -->
                <div class="product-card group relative overflow-hidden rounded-xl shadow-lg hover:shadow-2xl transition-all transform hover:scale-105 bg-white border border-gray-200">
                    <div class="relative block">
                        <div class="aspect-square overflow-hidden bg-gray-200 group-hover:scale-110 transition-transform">
                            <img loading="lazy" src="public/ima/E2.png" alt="Veste Safari enfant - Mode prestige" class="w-full h-full object-cover">
                        </div>
                    </div>
                    <div class="p-4">
                        <h3 class="text-sm font-semibold text-gray-800 line-clamp-2 mb-2">Veste de Mi-saison Style Safari pour Garçon</h3>
                        <p class="text-lg font-bold text-purple-600 mb-2">15 000 CFA</p>
                        <p class="text-xs text-gray-600 mb-3 line-clamp-2">Look moderne et confortable pour jeunes garçons</p>
                        <button class="w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white py-2 rounded-lg font-semibold text-sm hover:from-purple-700 hover:to-pink-700 transition-all">Ajouter au Panier</button>
                    </div>
                </div>

                <div class="product-card group relative overflow-hidden rounded-xl shadow-lg hover:shadow-2xl transition-all transform hover:scale-105 bg-white border border-gray-200">
                    <div class="relative block">
                        <div class="aspect-square overflow-hidden bg-gray-200 group-hover:scale-110 transition-transform">
                            <img loading="lazy" src="public/ima/air blanc1.png" alt="Sneakers Nike Urban Legend - Chaussures mode" class="w-full h-full object-cover">
                        </div>
                    </div>
                    <div class="p-4">
                        <h3 class="text-sm font-semibold text-gray-800 line-clamp-2 mb-2">Sneakers Nike "Urban Legend" Taille 43</h3>
                        <p class="text-lg font-bold text-purple-600 mb-2">13 000 CFA</p>
                        <p class="text-xs text-gray-600 mb-3 line-clamp-2">Design classique pour l'urbain intemporel</p>
                        <button class="w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white py-2 rounded-lg font-semibold text-sm hover:from-purple-700 hover:to-pink-700 transition-all">Ajouter au Panier</button>
                    </div>
                </div>

                <div class="product-card group relative overflow-hidden rounded-xl shadow-lg hover:shadow-2xl transition-all transform hover:scale-105 bg-white border border-gray-200">
                    <div class="relative block">
                        <div class="aspect-square overflow-hidden bg-gray-200 group-hover:scale-110 transition-transform">
                            <img loading="lazy" src="public/ima/air vert1.png" alt="Air Jordan 1 Mid Wolf Grey - Sneakers premium" class="w-full h-full object-cover">
                        </div>
                    </div>
                    <div class="p-4">
                        <h3 class="text-sm font-semibold text-gray-800 line-clamp-2 mb-2">Air Jordan 1 Mid "Wolf Grey" Taille 43</h3>
                        <p class="text-lg font-bold text-purple-600 mb-2">13 000 CFA</p>
                        <p class="text-xs text-gray-600 mb-3 line-clamp-2">Icône intemporelle du style urbain</p>
                        <button class="w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white py-2 rounded-lg font-semibold text-sm hover:from-purple-700 hover:to-pink-700 transition-all">Ajouter au Panier</button>
                    </div>
                </div>

                <div class="product-card group relative overflow-hidden rounded-xl shadow-lg hover:shadow-2xl transition-all transform hover:scale-105 bg-white border border-gray-200">
                    <div class="relative block">
                        <div class="aspect-square overflow-hidden bg-gray-200 group-hover:scale-110 transition-transform">
                            <img loading="lazy" src="public/ima/adidas1.png" alt="Adidas sneakers - Chaussures sport urbain" class="w-full h-full object-cover">
                        </div>
                    </div>
                    <div class="p-4">
                        <h3 class="text-sm font-semibold text-gray-800 line-clamp-2 mb-2">Sneakers Nike "Urban Legend" Taille 43</h3>
                        <p class="text-lg font-bold text-purple-600 mb-2">12 000 CFA</p>
                        <p class="text-xs text-gray-600 mb-3 line-clamp-2">Confort et style combinés</p>
                        <button class="w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white py-2 rounded-lg font-semibold text-sm hover:from-purple-700 hover:to-pink-700 transition-all">Ajouter au Panier</button>
                    </div>
                </div>

                <div class="product-card group relative overflow-hidden rounded-xl shadow-lg hover:shadow-2xl transition-all transform hover:scale-105 bg-white border border-gray-200">
                    <div class="relative block">
                        <div class="aspect-square overflow-hidden bg-gray-200 group-hover:scale-110 transition-transform">
                            <img loading="lazy" src="imageprestige/I12D.jpg" alt="iPhone 12 128Go - Téléphone reconditionné" class="w-full h-full object-cover">
                        </div>
                    </div>
                    <div class="p-4">
                        <h3 class="text-sm font-semibold text-gray-800 line-clamp-2 mb-2">iPhone 12 – 128 Go – Quasi Neuf</h3>
                        <p class="text-lg font-bold text-purple-600 mb-2">143 000 CFA</p>
                        <p class="text-xs text-gray-600 mb-3 line-clamp-2">5G, batterie excellente, écran 6,1</p>
                        <button class="w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white py-2 rounded-lg font-semibold text-sm hover:from-purple-700 hover:to-pink-700 transition-all">Ajouter au Panier</button>
                    </div>
                </div>

                <div class="product-card group relative overflow-hidden rounded-xl shadow-lg hover:shadow-2xl transition-all transform hover:scale-105 bg-white border border-gray-200">
                    <div class="relative block">
                        <div class="aspect-square overflow-hidden bg-gray-200 group-hover:scale-110 transition-transform">
                            <img loading="lazy" src="imageprestige/I12D.jpg" alt="iPhone XR 128Go - Apple reconditionné" class="w-full h-full object-cover">
                        </div>
                    </div>
                    <div class="p-4">
                        <h3 class="text-sm font-semibold text-gray-800 line-clamp-2 mb-2">iPhone XR – 128 Go – Quasi Neuf</h3>
                        <p class="text-lg font-bold text-purple-600 mb-2">95 000 CFA</p>
                        <p class="text-xs text-gray-600 mb-3 line-clamp-2">État excellent, écran OLED durable</p>
                        <button class="w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white py-2 rounded-lg font-semibold text-sm hover:from-purple-700 hover:to-pink-700 transition-all">Ajouter au Panier</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Floating Cart Button -->
    <div class="cart-float">
        <button onclick="toggleCart()" aria-label="Panier" class="bg-green-500 hover:bg-green-600 text-white p-4 rounded-full shadow-2xl transition-all relative">
            <i class="fas fa-shopping-cart text-2xl"></i>
            <span id="cart-float-badge" class="absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full w-6 h-6 flex items-center justify-center hidden">0</span>
        </button>
    </div>
    
    <!-- Bouton Retour en Haut -->
    <button id="back-to-top" class="back-to-top fixed bottom-24 right-6 left-auto bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white p-4 rounded-full shadow-2xl transition-all transform hover:scale-110 z-50">
        <i class="fas fa-arrow-up text-xl"></i>
    </button>

    <!-- Cart Modal -->
    <div id="cart-modal" class="fixed inset-0 bg-black bg-opacity-50 modal-overlay hidden z-50">
        <div class="flex items-end sm:items-center justify-center min-h-screen p-0 sm:p-4">
            <div class="bg-white rounded-t-3xl sm:rounded-3xl shadow-2xl w-full max-w-4xl h-[100vh] sm:h-[90vh] sm:max-h-[800px] flex flex-col slide-up">
                <!-- Cart Header - Fixed -->
                <div class="gradient-bg text-white p-4 sm:p-6 flex-shrink-0 rounded-t-3xl sm:rounded-t-3xl">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center space-x-3">
                            <div class="bg-white bg-opacity-20 p-2 rounded-full">
                                <i class="fas fa-shopping-cart text-xl sm:text-2xl"></i>
                            </div>
                            <div>
                                <h3 class="text-xl sm:text-2xl font-bold">Mon Panier</h3>
                                <p id="cart-header-count" class="text-sm opacity-90">0 article</p>
                            </div>
                        </div>
                        <button onclick="toggleCart()" class="text-white hover:text-gray-200 text-xl sm:text-2xl p-3 hover:bg-white hover:bg-opacity-20 rounded-full transition-all">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                </div>
                
                <!-- Cart Content - Scrollable -->
                <div class="flex-1 overflow-y-auto" style="max-height: calc(100vh - 120px);">
                    <div id="cart-items" class="p-4 sm:p-6">
                        <!-- Empty State -->
                        <div class="text-center text-gray-500 py-12 sm:py-16">
                            <div class="bg-gray-100 w-20 h-20 sm:w-24 sm:h-24 rounded-full flex items-center justify-center mx-auto mb-4">
                                <i class="fas fa-shopping-cart text-3xl sm:text-4xl text-gray-300"></i>
                            </div>
                            <h5 class="text-lg sm:text-xl font-semibold mb-2">Votre panier est vide</h5>
                            <p class="text-sm mb-6">Découvrez nos produits et ajoutez vos favoris</p>
                            <button onclick="toggleCart()" class="bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white px-6 py-3 rounded-lg font-semibold transition-all transform hover:scale-105">
                                <i class="fas fa-shopping-bag mr-2"></i>
                                Continuer mes achats
                            </button>
                        </div>
                    </div>
                    
                    <!-- Cart Summary - Dans la zone scrollable -->
                    <div id="cart-summary" class="border-t border-gray-200 bg-gray-50 p-4 sm:p-6" style="display: none;">
                        <!-- Total Section -->
                        <div class="bg-white rounded-xl p-4 mb-4 shadow-sm">
                            <div class="flex items-center justify-between mb-2">
                                <span class="text-sm text-gray-600">Articles:</span>
                                <span id="cart-items-count" class="text-sm font-semibold">0</span>
                            </div>
                            <div class="flex items-center justify-between mb-2">
                                <span class="text-sm text-gray-600">Sous-total:</span>
                                <span id="cart-subtotal" class="text-sm font-semibold">0 FCFA</span>
                            </div>
                            <div class="border-t border-gray-200 pt-3">
                                <div class="flex items-center justify-between">
                                    <span class="text-lg font-bold text-gray-800">Total:</span>
                                    <span id="cart-total" class="text-lg font-bold text-purple-600">0 FCFA</span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Customer Form -->
                        <div class="bg-white rounded-xl p-4 mb-4 shadow-sm">
                            <h4 class="font-bold text-gray-800 mb-4 flex items-center">
                                <i class="fas fa-user mr-2 text-purple-600"></i>
                                Informations de livraison
                            </h4>
                            <div class="space-y-3">
                                <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
                                    <div>
                                        <input type="text" id="customer-name" 
                                               class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all text-sm" 
                                               placeholder="Nom complet *">
                                    </div>
                                    <div>
                                        <input type="tel" id="customer-phone" 
                                               class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all text-sm" 
                                               placeholder="WhatsApp *">
                                    </div>
                                </div>
                                
                                <div>
                                    <textarea id="customer-address" rows="2" 
                                              class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all text-sm resize-none" 
                                              placeholder="Adresse complète *"></textarea>
                                </div>
                                
                                <div>
                                    <select id="customer-city" 
                                            class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all text-sm">
                                       <option value="">Sélectionnez votre ville *</option>
<option value="Abidjan">Abidjan</option>
<option value="Yamoussoukro">Yamoussoukro</option>
<option value="Bouaké">Bouaké</option>
<option value="Daloa">Daloa</option>
<option value="San Pedro">San Pedro</option>
<option value="Korhogo">Korhogo</option>
<option value="Man">Man</option>
<option value="Gagnoa">Gagnoa</option>
<option value="Abengourou">Abengourou</option>
<option value="Bondoukou">Bondoukou</option>
<option value="Divo">Divo</option>
<option value="Odienné">Odienné</option>
<option value="Séguéla">Séguéla</option>
<option value="Soubré">Soubré</option>
<option value="Aboisso">Aboisso</option>
<option value="Agboville">Agboville</option>
<option value="Touba">Touba</option>
<option value="Ferkessédougou">Ferkessédougou</option>
<option value="Grand-Bassam">Grand-Bassam</option>
<option value="Adzopé">Adzopé</option>
<option value="Autre">Autre ville</option>

                                    </select>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Order Button -->
                        <button onclick="validateOrder()" 
                                class="w-full bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white py-4 rounded-xl font-bold text-base transition-all transform hover:scale-[1.02] shadow-lg hover:shadow-xl mb-4">
                            <i class="fab fa-whatsapp mr-2 text-xl"></i>
                            Valider ma commande
                        </button>
                        <div id="wa-fallback" class="hidden text-center mb-4">
                            <a id="wa-fallback-link" href="#" target="_blank" rel="noopener noreferrer"
                               class="inline-flex items-center justify-center text-green-600 hover:text-green-700 font-semibold underline">
                                <i class="fab fa-whatsapp mr-2"></i>Ouvrir dans WhatsApp
                            </a>
                        </div>
                        
                        <div class="text-xs text-gray-500 text-center flex items-center justify-center space-x-4 bg-white rounded-lg p-3">
                            <span><i class="fas fa-truck mr-1"></i> Livraison gratuite</span>
                            <span><i class="fas fa-clock mr-1"></i> Sous 24h</span>
                            <span><i class="fas fa-shield-alt mr-1"></i> Sécurisé</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- User Profile Modal -->
    <div id="user-modal" class="fixed inset-0 bg-black bg-opacity-50 modal-overlay hidden z-50" onclick="closeUserModal()">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-3xl shadow-2xl w-full max-w-md max-h-[90vh] flex flex-col slide-up" onclick="event.stopPropagation()">
                <!-- Header - Fixed -->
                <div class="gradient-bg text-white p-6 rounded-t-3xl relative flex-shrink-0">
                    <button onclick="closeUserModal()" class="absolute top-4 right-4 text-white hover:text-gray-200 transition-colors">
                        <i class="fas fa-times text-2xl"></i>
                    </button>
                    <div class="flex items-center space-x-4">
                        <div class="w-20 h-20 bg-white rounded-full flex items-center justify-center shadow-xl">
                            <i class="fas fa-user text-purple-600 text-3xl"></i>
                        </div>
                        <div>
                            <h2 class="text-2xl font-black mb-1">Mon Profil</h2>
                            <p class="text-purple-100 text-sm">Informations du compte</p>
                        </div>
                    </div>
                </div>
                
                <!-- Body - Scrollable -->
                <div class="p-6 overflow-y-auto flex-1">
                    <!-- User Info -->
                    <div class="space-y-4 mb-6">
                        <div class="bg-purple-50 rounded-xl p-4 border border-purple-200">
                            <div class="flex items-center space-x-3 mb-3">
                                <div class="w-10 h-10 bg-purple-600 rounded-lg flex items-center justify-center">
                                    <i class="fas fa-user text-white"></i>
                                </div>
                                <div class="flex-1">
                                    <p class="text-xs text-gray-500 mb-1">Nom complet</p>
                                    <p class="font-bold text-gray-900" id="modal-user-fullname"></p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bg-blue-50 rounded-xl p-4 border border-blue-200">
                            <div class="flex items-center space-x-3 mb-3">
                                <div class="w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center">
                                    <i class="fas fa-envelope text-white"></i>
                                </div>
                                <div class="flex-1">
                                    <p class="text-xs text-gray-500 mb-1">Email</p>
                                    <p class="font-semibold text-gray-900 text-sm break-all" id="modal-user-email"></p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bg-green-50 rounded-xl p-4 border border-green-200">
                            <div class="flex items-center space-x-3 mb-3">
                                <div class="w-10 h-10 bg-green-600 rounded-lg flex items-center justify-center">
                                    <i class="fas fa-phone text-white"></i>
                                </div>
                                <div class="flex-1">
                                    <p class="text-xs text-gray-500 mb-1">Téléphone</p>
                                    <p class="font-semibold text-gray-900" id="modal-user-phone"></p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Quick Actions -->
                    <div class="space-y-3 mb-6">
                        <a href="profile.html" class="w-full bg-gradient-to-r from-purple-500 to-blue-500 hover:from-purple-600 hover:to-blue-600 text-white px-4 py-3 rounded-xl font-semibold transition-all flex items-center justify-between">
                            <span><i class="fas fa-user-circle mr-3"></i>Voir mon profil complet</span>
                            <i class="fas fa-external-link-alt"></i>
                        </a>
                        <button onclick="openOrdersModal()" class="w-full bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-3 rounded-xl font-semibold transition-all flex items-center justify-between">
                            <span><i class="fas fa-shopping-bag mr-3 text-purple-600"></i>Mes commandes</span>
                            <i class="fas fa-chevron-right text-gray-400"></i>
                        </button>
                        <button class="w-full bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-3 rounded-xl font-semibold transition-all flex items-center justify-between">
                            <span><i class="fas fa-heart mr-3 text-pink-600"></i>Mes favoris</span>
                            <i class="fas fa-chevron-right text-gray-400"></i>
                        </button>
                        <button class="w-full bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-3 rounded-xl font-semibold transition-all flex items-center justify-between">
                            <span><i class="fas fa-cog mr-3 text-blue-600"></i>Paramètres</span>
                            <i class="fas fa-chevron-right text-gray-400"></i>
                        </button>
                    </div>
                    
                    <!-- Logout Button -->
                    <button onclick="logout()" class="w-full bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white px-6 py-4 rounded-xl font-bold transition-all transform hover:scale-[1.02] shadow-lg hover:shadow-xl flex items-center justify-center">
                        <i class="fas fa-sign-out-alt mr-3 text-xl"></i>
                        Se déconnecter
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Orders History Modal -->
    <div id="orders-modal" class="fixed inset-0 bg-black bg-opacity-50 modal-overlay hidden z-50" onclick="closeOrdersModal()">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-3xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col slide-up" onclick="event.stopPropagation()">
                <!-- Header - Fixed -->
                <div class="gradient-bg text-white p-6 rounded-t-3xl relative flex-shrink-0">
                    <button onclick="closeOrdersModal()" class="absolute top-4 right-4 text-white hover:text-gray-200 transition-colors">
                        <i class="fas fa-times text-2xl"></i>
                    </button>
                    <div class="flex items-center space-x-4">
                        <div class="w-16 h-16 bg-white rounded-full flex items-center justify-center shadow-xl">
                            <i class="fas fa-shopping-bag text-purple-600 text-2xl"></i>
                        </div>
                        <div>
                            <h2 class="text-2xl font-black mb-1">Mes Commandes</h2>
                            <p class="text-purple-100 text-sm">Historique de vos achats</p>
                        </div>
                    </div>
                </div>
                
                <!-- Body - Scrollable -->
                <div id="orders-content" class="p-6 overflow-y-auto flex-1">
                    <!-- Le contenu sera généré dynamiquement -->
                </div>
            </div>
        </div>
    </div>

    <!-- Contact Section -->
    <section id="contact" class="bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 text-white py-16 relative overflow-hidden">
        <!-- Formes décoratives -->
        <div class="absolute top-0 right-0 w-96 h-96 bg-purple-600 rounded-full mix-blend-multiply filter blur-3xl opacity-10 animate-pulse"></div>
        <div class="absolute bottom-0 left-0 w-96 h-96 bg-orange-500 rounded-full mix-blend-multiply filter blur-3xl opacity-10 animate-pulse" style="animation-delay: 1s;"></div>
        
        <div class="container mx-auto px-4 relative z-10">
            <!-- En-tête -->
            <div class="text-center mb-12">
                <h2 class="text-4xl md:text-5xl font-black mb-4">Contactez-Nous</h2>
                <p class="text-gray-400 text-lg max-w-2xl mx-auto">Notre équipe est disponible pour répondre à toutes vos questions</p>
            </div>
            
            <!-- Cartes de contact -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-16">
                <div class="bg-white/5 backdrop-blur-sm border border-white/10 rounded-2xl p-6 text-center hover:bg-white/10 transition-all transform hover:scale-105 hover:shadow-2xl">
                    <div class="w-16 h-16 bg-gradient-to-br from-green-400 to-green-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-xl">
                        <i class="fab fa-whatsapp text-3xl"></i>
                    </div>
                    <h4 class="text-xl font-bold mb-2">WhatsApp</h4>
                    <p class="text-gray-400 text-sm mb-3">Commandez directement</p>
                    <a href="https://wa.me/2250150241670" class="text-green-400 hover:text-green-300 font-bold text-lg transition-colors">+225 01 50 24 16 70</a>
                </div>
                
                <div class="bg-white/5 backdrop-blur-sm border border-white/10 rounded-2xl p-6 text-center hover:bg-white/10 transition-all transform hover:scale-105 hover:shadow-2xl">
                    <div class="w-16 h-16 bg-gradient-to-br from-orange-400 to-red-500 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-xl">
                        <i class="fas fa-envelope text-3xl"></i>
                    </div>
                    <h4 class="text-xl font-bold mb-2">Email</h4>
                    <p class="text-gray-400 text-sm mb-3">Écrivez-nous</p>
                    <a href="mailto:PrestigeShopExpress@gmail.com" class="text-orange-400 hover:text-orange-300 font-bold text-sm break-all transition-colors">PrestigeShopExpress@gmail.com</a>
                </div>
                
                <div class="bg-white/5 backdrop-blur-sm border border-white/10 rounded-2xl p-6 text-center hover:bg-white/10 transition-all transform hover:scale-105 hover:shadow-2xl">
                    <div class="w-16 h-16 bg-gradient-to-br from-blue-400 to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-xl">
                        <i class="fas fa-map-marker-alt text-3xl"></i>
                    </div>
                    <h4 class="text-xl font-bold mb-2">Localisation</h4>
                    <p class="text-gray-400 text-sm mb-3">Nous trouver</p>
                    <p class="text-blue-400 font-bold text-lg">Abidjan, Côte d'Ivoire</p>
                </div>
            </div>
            
            <!-- Social Media Section -->
            <div class="text-center mb-12">
                <h4 class="text-3xl font-black mb-8">Rejoignez Notre Communauté</h4>
                <div class="flex flex-wrap justify-center gap-6">
                    <a href="https://www.facebook.com/share/1AD8UJ4gQj/?mibextid=wwXIfr" target="_blank" class="group">
                        <div class="w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-700 hover:from-blue-600 hover:to-blue-800 rounded-2xl flex items-center justify-center transition-all transform group-hover:scale-110 group-hover:rotate-6 shadow-xl">
                            <i class="fab fa-facebook-f text-white text-2xl"></i>
                        </div>
                        <p class="text-sm mt-3 text-gray-400 group-hover:text-white transition-colors font-semibold">Facebook</p>
                    </a>
                    
                    <a href="https://www.instagram.com/prestigeshopexpress" target="_blank" class="group">
                        <div class="w-16 h-16 bg-gradient-to-br from-purple-500 via-pink-500 to-orange-500 hover:from-purple-600 hover:via-pink-600 hover:to-orange-600 rounded-2xl flex items-center justify-center transition-all transform group-hover:scale-110 group-hover:rotate-6 shadow-xl">
                            <i class="fab fa-instagram text-white text-2xl"></i>
                        </div>
                        <p class="text-sm mt-3 text-gray-400 group-hover:text-white transition-colors font-semibold">Instagram</p>
                    </a>
                    
                    <a href="https://www.tiktok.com/@prestige.shop.exp" target="_blank" class="group">
                        <div class="w-16 h-16 bg-gradient-to-br from-gray-800 to-black hover:from-gray-900 hover:to-black rounded-2xl flex items-center justify-center transition-all transform group-hover:scale-110 group-hover:rotate-6 shadow-xl">
                            <i class="fab fa-tiktok text-white text-2xl"></i>
                        </div>
                        <p class="text-sm mt-3 text-gray-400 group-hover:text-white transition-colors font-semibold">TikTok</p>
                    </a>
                    
                    <a href="https://wa.me/+2250717869699" target="_blank" class="group">
                        <div class="w-16 h-16 bg-gradient-to-br from-green-400 to-green-600 hover:from-green-500 hover:to-green-700 rounded-2xl flex items-center justify-center transition-all transform group-hover:scale-110 group-hover:rotate-6 shadow-xl">
                            <i class="fab fa-whatsapp text-white text-2xl"></i>
                        </div>
                        <p class="text-sm mt-3 text-gray-400 group-hover:text-white transition-colors font-semibold">WhatsApp</p>
                    </a>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Footer Moderne -->
    <footer class="bg-gray-950 text-white py-12 border-t border-gray-800">
        <div class="container mx-auto px-4">
            <!-- Grille principale -->
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8 mb-8">
                <!-- À propos -->
                <div>
                    <div class="flex items-center space-x-3 mb-4">
                        <div class="w-12 h-12 rounded-full overflow-hidden bg-white shadow-lg">
                            <img src=" https://images.wakelet.com/resize?id=ZSBwvXgiINuUlX8XrC2ml&w=1600&h=actual&q=85" alt="Logo" class="w-full h-full object-cover">
                        </div>
                        <h3 class="text-xl font-bold">Prestige Shop</h3>
                    </div>
                    <p class="text-gray-400 text-sm leading-relaxed mb-4">Votre boutique en ligne de confiance pour des produits de qualité en Côte d'Ivoire.</p>
                    <p class="text-orange-400 font-bold text-sm">✨ Shoppez malin, Shoppez Prestige</p>
                </div>
                
                <!-- Liens rapides -->
                <div>
                    <h4 class="text-lg font-bold mb-4 text-orange-400">Liens Rapides</h4>
                    <ul class="space-y-2 text-sm">
                        <li><a href="#accueil" class="text-gray-400 hover:text-white transition-colors flex items-center">
                            <i class="fas fa-home mr-2"></i>
                            Accueil
                        </a></li>
                        <li><a href="#produits" class="text-gray-400 hover:text-white transition-colors flex items-center">
                            <i class="fas fa-box mr-2"></i>
                            Nos Produits
                        </a></li>
                        <li><a href="#contact" class="text-gray-400 hover:text-white transition-colors flex items-center">
                            <i class="fas fa-envelope mr-2"></i>
                            Contact
                        </a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors flex items-center">
                            <i class="fas fa-info-circle mr-2"></i>
                            À propos
                        </a></li>
                    </ul>
                </div>
                
                <!-- Catégories -->
                <div>
                    <h4 class="text-lg font-bold mb-4 text-orange-400">Catégories</h4>
                    <ul class="space-y-2 text-sm">
                        <li><a href="#produits" onclick="filterProducts('educatif')" class="text-gray-400 hover:text-white transition-colors flex items-center">
                            <i class="fas fa-graduation-cap mr-2"></i>
                            Éducatif
                        </a></li>
                        <li><a href="#produits" onclick="filterProducts('electronique')" class="text-gray-400 hover:text-white transition-colors flex items-center">
                            <i class="fas fa-laptop mr-2"></i>
                            Électronique
                        </a></li>
                        <li><a href="#produits" onclick="filterProducts('fastfood')" class="text-gray-400 hover:text-white transition-colors flex items-center">
                            <i class="fas fa-hamburger mr-2"></i>
                            Fast Food
                        </a></li>
                        <li><a href="#produits" onclick="filterProducts('business')" class="text-gray-400 hover:text-white transition-colors flex items-center">
                            <i class="fas fa-briefcase mr-2"></i>
                            Business
                        </a></li>
                        <li><a href="#produits" onclick="filterProducts('mode')" class="text-gray-400 hover:text-white transition-colors flex items-center">
                            <i class="fas fa-tshirt mr-2"></i>
                            Mode
                        </a></li>
                    </ul>
                </div>                
                <!-- Newsletter -->
                <div>
                    <h4 class="text-lg font-bold mb-4 text-orange-400">Restez Informé</h4>
                    <p class="text-gray-400 text-sm mb-4">Recevez nos offres spéciales</p>
                    <div class="flex gap-2">
                        <input type="email" placeholder="Votre email" class="flex-1 px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-sm focus:ring-2 focus:ring-orange-400 focus:border-transparent transition-all">
                        <button class="bg-orange-500 hover:bg-orange-600 px-4 py-2 rounded-lg transition-all transform hover:scale-105">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>
                    <p class="text-xs text-gray-500 mt-2">En vous inscrivant, vous acceptez notre politique de confidentialité</p>
                </div>
            </div>
            
            <!-- Copyright -->
            <div class="border-t border-gray-800 pt-8">
                <div class="flex flex-col md:flex-row justify-between items-center gap-4">
                    <p class="text-gray-400 text-sm text-center md:text-left">
                        &copy; 2024 <span class="text-orange-400 font-bold">Prestige Shop Express</span>. Tous droits réservés.
                    </p>
                    <div class="flex items-center gap-4 text-sm text-gray-400">
                        <a href="#" class="hover:text-white transition-colors">Conditions d'utilisation</a>
                        <span>•</span>
                        <a href="#" class="hover:text-white transition-colors">Politique de confidentialité</a>
                    </div>
                </div>
                <p class="text-center text-gray-500 text-xs mt-4">Développé avec ❤️ en Côte d'Ivoire</p>
            </div>
        </div>
    </footer>

    <script>
        // ========== BARRE DE PROMOTION ==========
        function closePromoBar() {
            const promoBar = document.getElementById('promo-bar');
            promoBar.style.transform = 'translateY(-100%)';
            setTimeout(() => {
                promoBar.style.display = 'none';
            }, 300);
            // Sauvegarder dans localStorage pour ne pas réafficher
            localStorage.setItem('promoBarClosed', 'true');
        }
        
        // Vérifier si la barre a déjà été fermée
        window.addEventListener('DOMContentLoaded', () => {
            const promoBarClosed = localStorage.getItem('promoBarClosed');
            if (promoBarClosed === 'true') {
                document.getElementById('promo-bar').style.display = 'none';
            }
            
            // Afficher le message de motivation après une minute
            setTimeout(showGoogleLoginPrompt, 60000); // 60 secondes = 1 minute
        });
        
        // ========== BOUTON RETOUR EN HAUT ==========
        const backToTopButton = document.getElementById('back-to-top');
        
        window.addEventListener('scroll', () => {
            if (window.pageYOffset > 300) {
                backToTopButton.classList.add('show');
            } else {
                backToTopButton.classList.remove('show');
            }
        });
        
        backToTopButton.addEventListener('click', () => {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });
        
        // ========== GESTION AUTHENTIFICATION ==========
        async function checkAuth() {
            const isLoggedIn = localStorage.getItem('userLoggedIn') || sessionStorage.getItem('userLoggedIn');
            const userData = localStorage.getItem('userData') || sessionStorage.getItem('userData');
            
            if (isLoggedIn === 'true' && userData) {
                try {
                    const user = JSON.parse(userData);
                    
                    // Récupérer les informations à jour depuis l'API
                    const response = await fetch(`${API_BASE_URL}/user/${user.id}`);
                    const data = await response.json();
                    
                    if (data.success) {
                        const userInfo = data.user;
                        const fullName = `${userInfo.prenom} ${userInfo.nom}`;
                        
                        // Desktop - Afficher le bouton profil
                        document.getElementById('auth-buttons').classList.add('hidden');
                        document.getElementById('user-menu-btn').classList.remove('hidden');
                        document.getElementById('user-fullname-header').textContent = fullName;
                        
                        // Mobile - Afficher le profil
                        document.getElementById('mobile-auth-buttons').classList.add('hidden');
                        document.getElementById('mobile-user-profile').classList.remove('hidden');
                        document.getElementById('mobile-user-fullname').textContent = fullName;
                        document.getElementById('mobile-user-email').textContent = userInfo.email;
                        
                        // Mettre à jour les données locales avec les informations fraîches
                        const updatedUserData = {
                            ...user,
                            nom: userInfo.nom,
                            prenom: userInfo.prenom,
                            email: userInfo.email,
                            statut: userInfo.statut,
                            statut_connexion: userInfo.statut_connexion,
                            derniere_connexion: userInfo.derniere_connexion,
                            ip_connexion: userInfo.ip_connexion,
                            token_session: userInfo.token_session
                        };
                        
                        // Sauvegarder les données mises à jour
                        if (localStorage.getItem('userData')) {
                            localStorage.setItem('userData', JSON.stringify(updatedUserData));
                        } else {
                            sessionStorage.setItem('userData', JSON.stringify(updatedUserData));
                        }
                        
                    } else {
                        // Si l'utilisateur n'existe plus ou est suspendu, déconnecter
                        console.log('Utilisateur non trouvé ou suspendu, déconnexion...');
                        logout();
                    }
                } catch (error) {
                    console.error('Erreur lors de la récupération du profil:', error);
                    // En cas d'erreur, utiliser les données locales
                    const user = JSON.parse(userData);
                    const fullName = `${user.prenom} ${user.nom}`;
                    
                    document.getElementById('auth-buttons').classList.add('hidden');
                    document.getElementById('user-menu-btn').classList.remove('hidden');
                    document.getElementById('user-fullname-header').textContent = fullName;
                    
                    document.getElementById('mobile-auth-buttons').classList.add('hidden');
                    document.getElementById('mobile-user-profile').classList.remove('hidden');
                    document.getElementById('mobile-user-fullname').textContent = fullName;
                    document.getElementById('mobile-user-email').textContent = user.email;
                }
            } else {
                // Desktop - Afficher les boutons connexion/inscription
                document.getElementById('auth-buttons').classList.remove('hidden');
                document.getElementById('user-menu-btn').classList.add('hidden');
                
                // Mobile - Afficher les boutons
                document.getElementById('mobile-auth-buttons').classList.remove('hidden');
                document.getElementById('mobile-user-profile').classList.add('hidden');
            }
        }
        
        // Ouvrir la modale utilisateur
        function openUserModal() {
            const userData = localStorage.getItem('userData') || sessionStorage.getItem('userData');
            
            if (userData) {
                try {
                    const user = JSON.parse(userData);
                    const fullName = `${user.prenom} ${user.nom}`;
                    
                    document.getElementById('modal-user-fullname').textContent = fullName || 'Non renseigné';
                    document.getElementById('modal-user-email').textContent = user.email || 'Non renseigné';
                    document.getElementById('modal-user-phone').textContent = user.phone || 'Non renseigné';
                    
                    // Afficher des informations supplémentaires si disponibles
                    if (user.statut) {
                        const statusElement = document.getElementById('modal-user-status');
                        if (statusElement) {
                            statusElement.textContent = user.statut;
                            statusElement.className = `px-2 py-1 rounded text-xs font-semibold ${
                                user.statut === 'actif' ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'
                            }`;
                        }
                    }
                } catch (error) {
                    console.error('Erreur lors de la lecture des données utilisateur:', error);
                    document.getElementById('modal-user-fullname').textContent = 'Erreur de chargement';
                    document.getElementById('modal-user-email').textContent = 'Erreur de chargement';
                    document.getElementById('modal-user-phone').textContent = 'Erreur de chargement';
                }
            }
            
            document.getElementById('user-modal').classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }
        
        // Fermer la modale utilisateur
        function closeUserModal() {
            document.getElementById('user-modal').classList.add('hidden');
            document.body.style.overflow = 'auto';
        }
        
        // ========== GESTION DU MODAL DES COMMANDES ==========
        
        // Ouvrir le modal des commandes
        async function openOrdersModal() {
            const userData = JSON.parse(localStorage.getItem('userData') || sessionStorage.getItem('userData') || '{}');
            const userId = userData.id;
            
            if (!userId) {
                showNotification('Vous devez être connecté pour voir vos commandes', 'error');
                return;
            }
            
            // Afficher un message de chargement
            const ordersContent = document.getElementById('orders-content');
            ordersContent.innerHTML = `
                <div class="text-center py-12">
                    <div class="animate-spin w-16 h-16 border-4 border-purple-600 border-t-transparent rounded-full mx-auto mb-4"></div>
                    <p class="text-gray-600">Chargement de vos commandes...</p>
                </div>
            `;
            
            // Fermer le modal utilisateur si ouvert
            closeUserModal();
            
            // Ouvrir le modal des commandes
            document.getElementById('orders-modal').classList.remove('hidden');
            document.body.style.overflow = 'hidden';
            
            // Récupérer les commandes depuis la base de données
            try {
                const response = await fetch(`${API_BASE_URL}/commandes/user/${userId}`);
                const data = await response.json();
                
                if (data.success) {
                    // Convertir les données MySQL au format attendu par displayOrders
                    const orders = data.data.map(cmd => ({
                        orderId: cmd.numero_commande,
                        date: cmd.date_commande,
                        customerName: userData.nom + ' ' + userData.prenom,
                        customerPhone: cmd.telephone,
                        customerAddress: cmd.adresse_livraison.split(', ')[0] || cmd.adresse_livraison,
                        customerCity: cmd.adresse_livraison.split(', ')[1] || '',
                        items: parseProductsDetails(cmd.produits_details, cmd.produits, cmd.notes),
                        total: cmd.montant_total,
                        status: translateStatus(cmd.statut),
                        whatsappSent: true
                    }));
                    
                    displayOrders(orders);
                } else {
                    displayOrders([]);
                }
            } catch (error) {
                console.error('Erreur lors du chargement des commandes:', error);
                showNotification('Erreur lors du chargement des commandes', 'error');
                displayOrders([]);
            }
        }
        
        // Traduire le statut de l'anglais au français
        function translateStatus(status) {
            const statusMap = {
                'en_attente': 'En attente',
                'en_cours': 'En livraison',
                'livree': 'Livrée',
                'annulee': 'Annulée'
            };
            return statusMap[status] || 'En attente';
        }
        
        // Parser les produits depuis produits_details (JSON avec images) ou fallback
        function parseProductsDetails(produitsDetails, produits, notes) {
            // Priorité 1: Utiliser produits_details (JSON complet avec images)
            if (produitsDetails) {
                try {
                    const details = typeof produitsDetails === 'string' ? JSON.parse(produitsDetails) : produitsDetails;
                    return details.map(p => ({
                        id: 0,
                        name: p.nom,
                        description: '',
                        price: p.prix || 0,
                        quantity: p.quantite,
                        image: p.image || 'https://via.placeholder.com/100?text=' + encodeURIComponent(p.nom)
                    }));
                } catch (error) {
                    console.error('Erreur parsing produits_details:', error);
                }
            }
            
            // Priorité 2: Parser depuis produits ou notes (sans images)
            return parseProductsFromNotes(produits || notes);
        }
        
        // Parser les produits depuis notes ou produits (fallback)
        function parseProductsFromNotes(produitsStr) {
            if (!produitsStr) return [];
            
            try {
                // Format attendu: "Produit1 (x2), Produit2 (x1)"
                const items = produitsStr.split(', ').map(item => {
                    const match = item.match(/(.+?) \(x(\d+)\)/);
                    if (match) {
                        return {
                            id: 0,
                            name: match[1],
                            description: '',
                            price: 0,
                            quantity: parseInt(match[2]),
                            image: 'https://via.placeholder.com/100?text=' + encodeURIComponent(match[1])
                        };
                    }
                    return null;
                }).filter(item => item !== null);
                
                return items;
            } catch (error) {
                console.error('Erreur parsing produits:', error);
                return [];
            }
        }
        
        // Fermer le modal des commandes
        function closeOrdersModal() {
            document.getElementById('orders-modal').classList.add('hidden');
            document.body.style.overflow = 'auto';
        }
        
        // Afficher les commandes
        function displayOrders(orders) {
            const ordersContent = document.getElementById('orders-content');
            
            if (!orders || orders.length === 0) {
                ordersContent.innerHTML = `
                    <div class="text-center py-12">
                        <div class="w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6">
                            <i class="fas fa-shopping-bag text-gray-300 text-4xl"></i>
                        </div>
                        <h3 class="text-2xl font-bold text-gray-800 mb-3">Aucune commande</h3>
                        <p class="text-gray-500 mb-6">Vous n'avez pas encore passé de commande</p>
                        <button onclick="closeOrdersModal()" class="bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white px-8 py-3 rounded-xl font-bold transition-all transform hover:scale-105 shadow-lg">
                            <i class="fas fa-shopping-cart mr-2"></i>
                            Commencer mes achats
                        </button>
                    </div>
                `;
                return;
            }
            
            ordersContent.innerHTML = `
                <div class="mb-4 flex items-center justify-between">
                    <p class="text-gray-600">
                        <span class="font-bold text-purple-600">${orders.length}</span> commande${orders.length > 1 ? 's' : ''} au total
                    </p>
                </div>
                
                <div class="space-y-4">
                    ${orders.map(order => createOrderCard(order)).join('')}
                </div>
            `;
        }
        
        // Créer une carte de commande
        function createOrderCard(order) {
            const orderDate = new Date(order.date);
            const formattedDate = orderDate.toLocaleDateString('fr-FR', {
                day: '2-digit',
                month: 'long',
                year: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            });
            
            const statusColors = {
                'En attente': 'bg-yellow-100 text-yellow-800 border-yellow-300',
                'Confirmée': 'bg-blue-100 text-blue-800 border-blue-300',
                'En livraison': 'bg-purple-100 text-purple-800 border-purple-300',
                'Livrée': 'bg-green-100 text-green-800 border-green-300',
                'Annulée': 'bg-red-100 text-red-800 border-red-300'
            };
            
            const statusIcons = {
                'En attente': 'fa-clock',
                'Confirmée': 'fa-check-circle',
                'En livraison': 'fa-truck',
                'Livrée': 'fa-check-double',
                'Annulée': 'fa-times-circle'
            };
            
            return `
                <div class="bg-white border-2 border-gray-200 rounded-2xl overflow-hidden hover:shadow-xl transition-all">
                    <!-- En-tête de la commande -->
                    <div class="bg-gradient-to-r from-purple-50 to-blue-50 p-4 border-b-2 border-gray-200">
                        <div class="flex flex-wrap items-center justify-between gap-3">
                            <div class="flex-1 min-w-0">
                                <div class="flex items-center space-x-2 mb-2">
                                    <i class="fas fa-receipt text-purple-600"></i>
                                    <span class="font-bold text-gray-800 text-sm md:text-base">Commande #${order.orderId}</span>
                                </div>
                                <p class="text-xs md:text-sm text-gray-600">
                                    <i class="fas fa-calendar-alt mr-1"></i>
                                    ${formattedDate}
                                </p>
                            </div>
                            <div class="flex flex-col items-end gap-2">
                                <span class="px-3 py-1 rounded-full text-xs font-bold border-2 ${statusColors[order.status] || statusColors['En attente']}">
                                    <i class="fas ${statusIcons[order.status] || statusIcons['En attente']} mr-1"></i>
                                    ${order.status}
                                </span>
                                ${order.whatsappSent ? `
                                    <span class="text-xs text-green-600 flex items-center">
                                        <i class="fab fa-whatsapp mr-1"></i>
                                        Envoyé sur WhatsApp
                                    </span>
                                ` : ''}
                            </div>
                        </div>
                    </div>
                    
                    <!-- Détails de livraison -->
                    <div class="p-4 bg-gray-50 border-b border-gray-200">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-3 text-sm">
                            <div class="flex items-start space-x-2">
                                <i class="fas fa-user text-gray-500 mt-1"></i>
                                <div>
                                    <p class="text-gray-500 text-xs">Client</p>
                                    <p class="font-semibold text-gray-800">${order.customerName}</p>
                                </div>
                            </div>
                            <div class="flex items-start space-x-2">
                                <i class="fas fa-phone text-gray-500 mt-1"></i>
                                <div>
                                    <p class="text-gray-500 text-xs">Téléphone</p>
                                    <p class="font-semibold text-gray-800">${order.customerPhone}</p>
                                </div>
                            </div>
                            <div class="flex items-start space-x-2">
                                <i class="fas fa-map-marker-alt text-gray-500 mt-1"></i>
                                <div>
                                    <p class="text-gray-500 text-xs">Adresse</p>
                                    <p class="font-semibold text-gray-800">${order.customerAddress}</p>
                                </div>
                            </div>
                            <div class="flex items-start space-x-2">
                                <i class="fas fa-city text-gray-500 mt-1"></i>
                                <div>
                                    <p class="text-gray-500 text-xs">Ville</p>
                                    <p class="font-semibold text-gray-800">${order.customerCity}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Articles commandés -->
                    <div class="p-4">
                        <h4 class="font-bold text-gray-800 mb-3 flex items-center">
                            <i class="fas fa-box-open text-purple-600 mr-2"></i>
                            Articles (${order.items.length})
                        </h4>
                        <div class="space-y-3">
                            ${order.items.map(item => `
                                <div class="flex items-center space-x-3 p-3 bg-gray-50 rounded-xl hover:bg-gray-100 transition-all">
                                    <img src="${getAbsoluteImagePath(item.image)}" alt="${item.name}" class="w-16 h-16 object-cover rounded-lg shadow-md"
                                         onerror="this.src='${IMAGE_BASE_URL}/placeholder.png'; this.alt='Image non disponible';">
                                    <div class="flex-1 min-w-0">
                                        <p class="font-semibold text-gray-800 text-sm truncate">${item.name}</p>
                                        <p class="text-xs text-gray-500 truncate">${item.description || ''}</p>
                                        <div class="flex items-center flex-wrap gap-2 mt-1">
                                            <span class="text-xs text-gray-600">Qté: <span class="font-bold">${item.quantity}</span></span>
                                            <span class="text-xs text-purple-600 font-bold">${item.price.toLocaleString()} FCFA</span>
                                            ${item.size ? `<span class=\"text-[11px] px-2 py-0.5 bg-gray-200 rounded-md\">Taille: <strong>${item.size}</strong></span>` : ''}
                                            ${item.color ? `<span class=\"text-[11px] px-2 py-0.5 bg-gray-200 rounded-md\">Couleur: <strong>${item.color}</strong></span>` : ''}
                                        </div>
                                    </div>
                                    <div class="text-right">
                                        <p class="font-bold text-purple-600">${(item.price * item.quantity).toLocaleString()}</p>
                                        <p class="text-xs text-gray-500">FCFA</p>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                    
                    <!-- Total -->
                    <div class="bg-gradient-to-r from-purple-600 to-blue-600 p-4 flex items-center justify-between">
                        <span class="text-white font-bold text-lg">Total</span>
                        <span class="text-white font-black text-2xl">${order.total.toLocaleString()} FCFA</span>
                    </div>
                    
                    <!-- Actions -->
                    <div class="p-4 bg-gray-50 flex flex-wrap gap-2">
                        <button onclick="reorderItems(${order.items.map(item => item.id)})" class="flex-1 bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg font-semibold transition-all text-sm">
                            <i class="fas fa-redo mr-2"></i>
                            Recommander
                        </button>
                        <button onclick="shareOrderOnWhatsApp('${order.orderId}')" class="flex-1 bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg font-semibold transition-all text-sm">
                            <i class="fab fa-whatsapp mr-2"></i>
                            Partager
                        </button>
                    </div>
                </div>
            `;
        }
        
        // Recommander les articles d'une commande
        function reorderItems(itemIds) {
            itemIds.forEach(id => {
                addToCart(id);
            });
            closeOrdersModal();
            toggleCart();
            showNotification('✅ Articles ajoutés au panier !', 'success');
        }
        
        // Partager une commande sur WhatsApp
        function shareOrderOnWhatsApp(orderId) {
            const userEmail = localStorage.getItem('userEmail') || sessionStorage.getItem('userEmail');
            const orders = getUserOrders(userEmail);
            const order = orders.find(o => o.orderId === orderId);
            
            if (!order) return;
            
            let message = `📋 *Détails de ma commande*\n\n`;
            message += `🆔 Commande: ${order.orderId}\n`;
            message += `📅 Date: ${new Date(order.date).toLocaleDateString('fr-FR')}\n`;
            message += `📊 Statut: ${order.status}\n\n`;
            message += `🛒 Articles:\n`;
            
            order.items.forEach((item, index) => {
                message += `${index + 1}. ${item.name} x${item.quantity} - ${(item.price * item.quantity).toLocaleString()} FCFA\n`;
                if (item.size) { message += `   📏 Taille: ${item.size}\n`; }
                if (item.color) { message += `   🎨 Couleur: ${item.color}\n`; }
            });
            
            message += `\n💰 Total: ${order.total.toLocaleString()} FCFA`;
            
            const phoneDigits = (typeof WHATSAPP_NUMBER !== 'undefined' && WHATSAPP_NUMBER ? WHATSAPP_NUMBER.toString().replace(/\D/g, '') : '');
            const waText = encodeURIComponent(message);
            const waUrls = [
                phoneDigits ? `https://wa.me/${phoneDigits}?text=${waText}` : `https://wa.me/?text=${waText}`,
                phoneDigits ? `https://api.whatsapp.com/send?phone=${phoneDigits}&text=${waText}` : `https://api.whatsapp.com/send?text=${waText}`,
                `https://wa.me/?text=${waText}`
            ];

            for (const url of waUrls) {
                try {
                    const a = document.createElement('a');
                    a.href = url;
                    a.target = '_blank';
                    a.rel = 'noopener noreferrer';
                    document.body.appendChild(a);
                    a.click();
                    document.body.removeChild(a);
                    break;
                } catch (e) {
                    try { window.location.href = url; break; } catch (_) {}
                }
            }
        }
        
        async function logout() {
            closeUserModal();
            if (!confirm('Voulez-vous vraiment vous déconnecter ?')) {
                return;
            }
            
            try {
                // Récupérer l'ID utilisateur avant de le supprimer
                const userData = JSON.parse(localStorage.getItem('userData') || sessionStorage.getItem('userData') || '{}');
                const userId = userData.id;
                
                // Appeler l'API de déconnexion
                if (userId) {
                    const response = await fetch(`${API_BASE_URL}/logout`, { credentials: 'include',
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({
                            user_id: userId
                        })
                    });
                    
                    const result = await response.json();
                    if (!result.success) {
                        console.error('Erreur lors de la déconnexion:', result.error);
                    }
                }
                
                // Supprimer toutes les données utilisateur
                localStorage.removeItem('userLoggedIn');
                localStorage.removeItem('userData');
                localStorage.removeItem('userEmail');
                localStorage.removeItem('userFullname');
                localStorage.removeItem('userPhone');
                sessionStorage.removeItem('userLoggedIn');
                sessionStorage.removeItem('userData');
                sessionStorage.removeItem('userEmail');
                sessionStorage.removeItem('userFullname');
                sessionStorage.removeItem('userPhone');
                
                // Rediriger vers welcome.html
                window.location.href = 'welcome.html';
                
            } catch (error) {
                console.error('Erreur lors de la déconnexion:', error);
                // En cas d'erreur, on déconnecte quand même l'utilisateur côté client
                localStorage.removeItem('userLoggedIn');
                localStorage.removeItem('userData');
                sessionStorage.removeItem('userLoggedIn');
                sessionStorage.removeItem('userData');
                window.location.href = 'welcome.html';
            }
        }
        
        // Validation de la commande
        async function validateOrder() {
            const name = document.getElementById('customer-name').value.trim();
            const phone = document.getElementById('customer-phone').value.trim();
            const address = document.getElementById('customer-address').value.trim();
            const city = document.getElementById('customer-city').value;

            // Validation des champs
            if (!name || !phone || !address || !city) {
                showNotification('Veuillez remplir tous les champs obligatoires', 'error');
                return;
            }

            if (cart.length === 0) {
                showNotification('Votre panier est vide', 'error');
                return;
            }

            

            // Vérifier taille/couleur pour les produits à variantes
            for (const item of cart) {
                const p = (typeof products !== 'undefined' ? products : []).find(pr => pr.id === item.id);
                const needsSize = p && p.sizes && p.sizes.length;
                const needsColor = p && p.colors && p.colors.length;
                if ((needsSize && !item.size) || (needsColor && !item.color)) {
                    showNotification('Veuillez sélectionner une taille et une couleur', 'error');
                    return;
                }
            }

            // Calculer le total
            const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);

            // **✅ ENREGISTREMENT DANS LA BASE DE DONNÉES MYSQL**
            const userData = JSON.parse(localStorage.getItem('userData') || sessionStorage.getItem('userData') || '{}');
            const userId = userData.id;

            if (userId) {
                try {
                    const commandeData = {
                        user_id: userId,
                        montant_total: total,
                        adresse_livraison: `${address}, ${city}`,
                        telephone: phone,
                        notes: `Client: ${name} - ${cart.length} article(s)`
                    };

                    console.log('📤 Envoi de la commande au serveur...', commandeData);
                    console.log('🌐 URL de l\'API:', `${API_BASE_URL}/commandes`);

                    const response = await fetch(`${API_BASE_URL}/commandes`, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify(commandeData)
                    });
                    
                    console.log('📥 Réponse HTTP:', response.status, response.statusText);
                    
                    // Vérifier si la réponse est OK
                    if (!response.ok) {
                        throw new Error(`HTTP error! status: ${response.status}`);
                    }
                    
                    const result = await response.json();
                    console.log('📥 Données reçues:', result);

                    if (result.success) {
                        console.log('✅ Commande enregistrée dans MySQL:', result.numero_commande);
                        showNotification(`✅ Commande ${result.numero_commande} enregistrée !`, 'success');
                    } else {
                        console.error('❌ Erreur enregistrement:', result.message);
                        showNotification('⚠️ Commande non enregistrée en BDD, mais WhatsApp OK', 'info');
                    }
                } catch (error) {
                    console.error('❌ Erreur connexion serveur:', error);
                    console.error('🔍 Détails de l\'erreur:', {
                        name: error.name,
                        message: error.message,
                        stack: error.stack
                    });
                    
                    // Vérifier si c'est une erreur de réseau
                    if (error.name === 'TypeError' && error.message.includes('fetch')) {
                        showNotification('⚠️ Impossible de joindre le serveur. Vérifiez votre connexion internet ou réessayez plus tard.', 'error');
                    } else {
                        showNotification('⚠️ Serveur inaccessible, commande envoyée sur WhatsApp', 'info');
                    }
                }
            } else {
                console.warn('⚠️ Utilisateur non connecté, commande non enregistrée en BDD');
                showNotification('💡 Connectez-vous pour sauvegarder vos commandes', 'info');
            }
        }
        
        window.addEventListener('DOMContentLoaded', () => {
            const isLoggedIn = localStorage.getItem('userLoggedIn') || sessionStorage.getItem('userLoggedIn');
            
            // Si connecté, afficher le profil
            if (isLoggedIn === 'true') {
                checkAuth();
            } else {
                // Afficher le message de bienvenue après 1 minute pour les utilisateurs non connectés
                setTimeout(() => {
                    showWelcomePrompt();
                }, 60000); // 1 minute
                
                // Rediriger vers la page de complétion du profil après 3 minutes si l'utilisateur n'est pas connecté
                setTimeout(() => {
                    if (!localStorage.getItem('userLoggedIn') && !sessionStorage.getItem('userLoggedIn')) {
                        window.location.href = 'complete-profile.html';
                    }
                }, 180000); // 3 minutes
            }
        });
        
        // Fonction pour afficher un message discret encourageant l'inscription avec Google
        function showWelcomePrompt() {
            // Vérifier si le message est déjà affiché
            if (document.getElementById('welcome-prompt')) return;
            
            // Créer un message discret en haut de la page
            const promptDiv = document.createElement('div');
            promptDiv.id = 'welcome-prompt';
            promptDiv.innerHTML = `
                <div style="position: fixed; top: 60px; left: 0; right: 0; background: linear-gradient(90deg, #4285f4, #34a853, #fbbc05, #ea4335); color: white; padding: 15px 20px; text-align: center; z-index: 9999; font-weight: 500; box-shadow: 0 4px 12px rgba(0,0,0,0.15);">
                    <div style="max-width: 1200px; margin: 0 auto; display: flex; justify-content: space-between; align-items: center;">
                        <div style="display: flex; align-items: center; gap: 15px;">
                            <div style="font-size: 24px;">🎉</div>
                            <div>
                                <div style="font-size: 16px; font-weight: bold;">Bienvenue chez Prestige Shop Express !</div>
                                <div style="font-size: 14px; opacity: 0.9;">Continuez avec Google pour profiter pleinement de votre expérience d'achat</div>
                            </div>
                        </div>
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <button onclick="loginWithGoogle()" style="background: white; color: #4285f4; padding: 10px 20px; border-radius: 30px; text-decoration: none; font-weight: bold; font-size: 14px; border: none; cursor: pointer; display: flex; align-items: center; gap: 8px;">
                                <i class="fab fa-google"></i>
                                Continuer avec Google
                            </button>
                            <button onclick="this.closest('#welcome-prompt').remove();" style="background: rgba(255,255,255,0.3); color: white; border: none; border-radius: 50%; width: 30px; height: 30px; cursor: pointer;">×</button>
                        </div>
                    </div>
                </div>
            `;
            document.body.appendChild(promptDiv);
            
            // Réserver un espace en haut de la page pour le message et la barre de promotion
            document.body.style.paddingTop = '140px';
        }
        
        // Fonction pour la connexion avec Google
        function loginWithGoogle() {
            // Rediriger vers la page de login avec un paramètre pour activer la connexion Google automatique
            window.location.href = 'login.html?autoGoogleLogin=true';
        }
        
        // Fonction pour gérer la redirection après la connexion Google
        function handleGoogleLoginSuccess(user) {
            // Stocker les informations de l'utilisateur dans le localStorage
            localStorage.setItem('userLoggedIn', 'true');
            localStorage.setItem('userData', JSON.stringify(user));
            
            // Rediriger vers la page de profil ou d'accueil
            window.location.href = 'complete-profile.html';
        }
        
        // Fonction pour afficher un message de motivation après une minute
        function showGoogleLoginPrompt() {
            // Vérifier si l'utilisateur est déjà connecté
            const isLoggedIn = localStorage.getItem('userLoggedIn') || sessionStorage.getItem('userLoggedIn');
            const userData = localStorage.getItem('userData') || sessionStorage.getItem('userData');
            
            // Ne pas afficher le message si l'utilisateur est déjà connecté
            if (isLoggedIn === 'true' && userData) {
                return;
            }
            
            // Vérifier si le message a déjà été vu par cet utilisateur
            if (localStorage.getItem('googleLoginPromptSeen')) {
                return;
            }
            
            // Créer le message de motivation
            const prompt = document.createElement('div');
            prompt.id = 'google-login-prompt';
            prompt.className = 'fixed bottom-6 right-6 bg-gradient-to-r from-blue-500 to-purple-600 text-white p-6 rounded-2xl shadow-2xl z-50 max-w-sm transform transition-all duration-500 ease-out';
            prompt.style.cssText = `
                animation: slideInFromBottom 0.5s ease-out;
                box-shadow: 0 10px 25px rgba(0,0,0,0.3);
                backdrop-filter: blur(10px);
                border: 1px solid rgba(255,255,255,0.2);
            `;
            
            prompt.innerHTML = `
                <div class="flex items-start justify-between mb-3">
                    <h3 class="font-bold text-lg">Connexion rapide !</h3>
                    <button onclick="this.closest('#google-login-prompt').remove(); localStorage.setItem('googleLoginPromptSeen', 'true');" class="text-white hover:text-gray-200 text-xl ml-2">&times;</button>
                </div>
                <p class="mb-4 text-sm opacity-90">Connectez-vous avec Google pour une expérience d'achat optimale</p>
                <div class="flex space-x-3">
                    <button onclick="loginWithGoogle(); document.getElementById('google-login-prompt').remove();" class="flex-1 bg-white text-blue-600 hover:bg-gray-100 font-semibold py-2 px-4 rounded-lg transition-all flex items-center justify-center space-x-2">
                        <i class="fab fa-google"></i>
                        <span>Google</span>
                    </button>
                    <button onclick="this.closest('#google-login-prompt').remove(); localStorage.setItem('googleLoginPromptSeen', 'true');" class="bg-white/20 hover:bg-white/30 text-white font-semibold py-2 px-4 rounded-lg transition-all">
                        Plus tard
                    </button>
                </div>
            `;
            
            document.body.appendChild(prompt);
            
            // Marquer le message comme vu après un certain temps pour éviter de le réafficher
            setTimeout(() => {
                if (prompt.parentNode) {
                    localStorage.setItem('googleLoginPromptSeen', 'true');
                }
            }, 30000); // 30 secondes après l'affichage
        }
        
        // Fonction pour suivre les visites des utilisateurs
        function trackVisitor() {
            try {
                // Créer un identifiant de session unique si ce n'est pas déjà fait
                let sessionId = localStorage.getItem('sessionId');
                if (!sessionId) {
                    sessionId = 'session_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
                    localStorage.setItem('sessionId', sessionId);
                }
                
                // Collecter les informations de visite
                const visitData = {
                    sessionId: sessionId,
                    timestamp: new Date().toISOString(),
                    page: window.location.pathname,
                    referrer: document.referrer,
                    userAgent: navigator.userAgent,
                    language: navigator.language,
                    screenWidth: screen.width,
                    screenHeight: screen.height,
                    url: window.location.href
                };
                
                // Enregistrer la visite localement aussi pour référence
                const visits = JSON.parse(localStorage.getItem('userVisits') || '[]');
                visits.push(visitData);
                localStorage.setItem('userVisits', JSON.stringify(visits));
                
                // Envoyer les données de visite au backend
                fetch(`${API_BASE_URL}/track-visit`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(visitData)
                })
                .then(response => response.json())
                .then(data => {
                    console.log('Visite enregistrée:', data);
                })
                .catch(error => {
                    console.error('Erreur lors de l\'enregistrement de la visite:', error);
                    // Si l'API n'est pas disponible, stocker temporairement dans localStorage
                    const pendingVisits = JSON.parse(localStorage.getItem('pendingVisits') || '[]');
                    pendingVisits.push(visitData);
                    localStorage.setItem('pendingVisits', JSON.stringify(pendingVisits));
                });
                
            } catch (error) {
                console.error('Erreur lors du suivi de la visite:', error);
            }
        }
        
        // Appeler la fonction de suivi quand la page est chargée
        window.addEventListener('load', function() {
            trackVisitor();
        });
        
        // Appeler la fonction de suivi également quand l'utilisateur revient sur la page
        window.addEventListener('focus', function() {
            trackVisitor();
        });
        
        // Configuration
        const WHATSAPP_NUMBER = "+2250717869699"; // Remplacez par votre numéro WhatsApp
        
        // Fonction utilitaire pour détecter si un fichier est une vidéo
        function isVideo(filename) {
            const videoExtensions = ['.mp4', '.webm', '.ogg', '.mov', '.avi', '.mkv'];
            return videoExtensions.some(ext => filename.toLowerCase().endsWith(ext));
        }
        
        // Fonction pour créer un élément média (image ou vidéo)
        function createMediaElement(mediaUrl, index, productName, productId, clickHandler) {
            return createSanitizedMediaElement(mediaUrl, index, productName, productId, clickHandler);
        }
        
        // Base de données des produits avec plusieurs images
        const products = [
            // Catégorie Éducatif
            {
                id: 36,
                name: "Jean Carpenter \"Gothic Cross\"",
                price: 10000,
                category: "mode",
                subcategory: "homme",
                images: [
                    "https://imagesend.fr/uploads/20251220/6bbb07c45dbdf0fc23546cfaf0245f129e380f81.jpg",
                    "https://imagesend.fr/uploads/20251220/e6a379717a1bf0ee9f24bb69f717b264b8442003.jpg",
                    "https://imagesend.fr/uploads/20251220/1331ecc28d3d9430915050a1be7d6a328455a48f.jpg"
            
                ],
                description: "Adoptez un look audacieux et contemporain avec le jean Carpenter \"Gothic Cross\". Conçu pour les hommes qui aiment se démarquer, ce jean allie confort et style avec ses détails uniques inspirés de l'esthétique gothique.",
                sizes: [ "31", "32", "33", "34"],
                colors: ["Bleu Denim", "Bleu foncé", "Noir"]
            },

            {
                id: 63,
                name: "Jean Carpenter \"Geometric Grid\" – Denim Noir Wash",
                price: 10000,
                category: "mode",
                subcategory: "homme",
                images: [
                 "https://imagesend.fr/uploads/20251220/738a96a4762bb9adb695156bccf686c15bc81d10.jpg",
                 "https://imagesend.fr/uploads/20251220/7fe39e3d14004036e9908525ab4cbf045f600740.jpg",
                 "https://imagesend.fr/uploads/20251220/9056ae18a974d645c639df5f5aa271280d17e452.jpg"

                ],
                description: "Élevez votre garde-robe avec ce jean Carpenter au design audacieux.",
                sizes: [ "31", "32", "33", "34"],
                colors: ["Noir délavé","mélange de gris et noir","gris anthracite et noir."],
            },
            {
                id: 64,
                name: "Jean Carpenter \"Urban Camo\" – Style Camouflage Moderne",
                price: 10000,
                category: "mode",
                subcategory: "homme",
                images: [
                 "https://imagesend.fr/uploads/20251220/ddbc702b3900c6adbe235a8ec632f3af3822fca8.jpg",
                 "https://imagesend.fr/uploads/20251220/26cea469ac10011052dcf29e99e028fda43b7e07.jpg"

                ],
                description: "Élevez votre garde-robe avec ce jean Carpenter au design audacieux.",
                sizes: [ "31", "32", "33", "34"],
                colors: ["Noir délavé","mélange de gris et noir","gris anthracite et noir."],
            },

            {
                id: 65,
                name: "Jean Carpenter \"Digital Matrix\" ",
                price: 10000,
                category: "mode",
                subcategory: "homme",
                images: [
                 "https://imagesend.fr/uploads/20251220/e8c445c1bc0121eebd812f0bd0b2961d7b0eb30d.jpg",
                 

                ],
                description: "Élevez votre garde-robe avec ce jean Carpenter au design audacieux.",
                sizes: [ "31", "32", "33", "34"],
            },

            {
                id: 66,
                name: "Jean Carpenter \"Neo-Tribal Fusion\" – Motifs Ethniques Modernes",
                price: 10000,
                category: "mode",
                subcategory: "homme",
                images: [
                 "https://imagesend.fr/uploads/20251220/bc5a4bf1184c0c2d27c14c46f13da47026032506.jpg",
                 

                ],
                description: "Élevez votre garde-robe avec ce jean Carpenter au design audacieux.",
                sizes: [ "31", "32", "33", "34"],
            },

            {
                id: 67,

                name: "Jean Carpenter \"Neo-Tribal Fusion\" – Motifs Ethniques Modernes",
                price: 10000,
                category: "mode",
                subcategory: "homme",
                images: [
                 "https://imagesend.fr/uploads/20251220/6cb66e7b3f53ce933b82bde6ee794ad56902a8e3.jpg",
                 

                ],
                description: "Élevez votre garde-robe avec ce jean Carpenter au design audacieux.",
                sizes: [ "31", "32", "33", "34"],
                
            },
             
            {
                id: 68,
                name: "Nike Shox TL \"Racer / Metallic Silver\"",

                price: 19000,
                category: "mode",
                subcategory: "homme",
                images: [
                 "https://imagesend.fr/uploads/20251219/bd06b6bff1e4ee66afb2de5f30014f204607e629.jpg",
                 "https://imagesend.fr/uploads/20251220/19bdcea21af71b80033323ef4167014a3dd13b5e.jpg",
                 "https://imagesend.fr/uploads/20251220/8f609f752e77e2d0221059e7b4f443f5d472c386.jpg",
                 "https://imagesend.fr/uploads/20251220/f4840c193e70c58689efa4147b7e40f02a0f8dff.jpg"
                 

                ],
                description: " Découvrez les Nike Shox TL \"Racer / Metallic Silver\", une fusion parfaite de style futuriste et de performance. Avec leur design innovant et leur technologie d'amorti Shox, ces sneakers offrent un confort exceptionnel et un look audacieux pour les amateurs de mode urbaine.",
                sizes: [ "40", "41", "42", "43", "44","45"],
                colors: ["Noir","Bleu","dégradé de beige", "Max Orange"],
            },
           
            {
                id: 1,
                name: "Veste de Mi-saison Style Safari pour Garçon",
                price:  15000,
                category: "mode",
                subcategory: "enfants",
                images: [
                    "https://images.wakelet.com/resize?id=2bj9wwE8P72ORKJP7SGa0&w=1600&h=actual&q=85",
                    "https://images.wakelet.com/resize?id=hW45t_xRKuFfH68Lk5VH2&w=1600&h=actual&q=85",
                    "https://images.wakelet.com/resize?id=LMxO_jqMzRmrs53AUGH2O&w=1600&h=actual&q=85"
                   
                    
                ],
                description: "Offrez à votre enfant un look à la fois moderne et intemporel avec cette superbe veste de style saharienne. Conçue pour allier style et confort, cette pièce est l'ajout parfait à la garde-robe d'un jeune garçon dynamique.",
               sizes: ["2 ans", "4 ans", "6 ans", "8 ans", "10 ans"]
                
            },
            {
                id: 2,
                name: "Sneakers Nike \"Urban Legend\" – Le Classique Intemporel \"Taille 43\"",
                price: 13000,
                category: "mode",
                images: [
                    "https://images.wakelet.com/resize?id=cUXtA_gzrn0MsauKGBq3n&w=1600&h=actual&q=85",
                    "https://images.wakelet.com/resize?id=j4pLlhquANIBSvGOURKXj&w=1600&h=actual&q=85"
                ],
                description: "Redécouvrez le plaisir de marcher avec cette paire de sneakers Nike au design emblématique. Inspirée des chaussures de running classiques, elle a été revisitée pour s'imposer comme un incontournable du vestiaire urbain.",
                sizes: ["40", "41", "42", "43", "44", "45"]
            },
            {
                id: 3,
                name: "Air Jordan 1 Mid \"Wolf Grey\" – L'Icône Intemporelle ,\"Taille 43\"",
                price: 13000,
                subcategory: "hommes",
                category: "mode",
                images: [
                    "https://i.imghos.co/zpLEUIFP.png",
                    "https://i.imghos.co/xUPKuXhg.png"
                    
                ],
                description: "Idéal pour les exercices et révisions en mathématiques et physique-chimie. Un outil pratique et fiable pour réussir vos études.",
                sizes: ["40", "41", "42", "43", "44", "45"]
               
            },
            {
                id: 4,
                name: "Sneakers Nike \"Urban Legend\" – Le Classique Intemporel\" taille 43",
                price: 12000,
                category: "mode",
                subcategory: "hommes",
                images: [
                    "https://i.imghos.co/MwHPAywO.png",
                    "https://i.imghos.co/NprTaQka.png"
                ],
                description: "Redécouvrez le plaisir de marcher avec cette paire de sneakers Nike au design emblématique. Inspirée des chaussures de running classiques, elle a été revisitée pour s'imposer comme un incontournable du vestiaire urbain.",
                sizes: ["40", "41", "42", "43", "44"]
            },
            
            // Catégorie Électronique
            {
                id: 5,
                name: "iPhone 12 – 128 Go – Quasi Neuf (AVEC VIDÉO 🎥)",
                price: 143000,
                category: "electronique",
                images: [
                    "https://i.imghos.co/lbANANmJ.jpg",
                    "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4",  // 🎥 VIDÉO DE DÉMO
                    "https://i.imghos.co/MV-zRfzq.jpg"
                   
                ],
                description: "iPhone 12 quasi neuf, écran 6,1, 5G, batterie parfaite et performance rapide. ⭐ AVEC VIDÉO DE DÉMONSTRATION !"
            },
            {
                id: 6,
                name: "iPhone XR – 128 Go – Quasi Neuf",
                price: 95000,
                category: "electronique",
                images: [
                    "https://i.imghos.co/i-HpQfyF.jpg",
                    "https://i.imghos.co/oyFUAJXG.jpg"
                ],
                description: "iPhone XR – Smartphone Apple élégant avec écran Liquid Retina 6,1, Face ID, appareil photo 12 MP, processeur A12 Bionic puissant et design moderne."
            },
            {
                id: 7,
                name: "HP Pavilion 15-er0125od (Core i5 de 11ᵉ génération, 8 Go RAM, 512 Go SSD, écran tactile 15,6)",
                price: 510000,
                category: "electronique",
                images: [
                    "https://i.imghos.co/aYzAQLBI.jpg"
                ],
                description: "HP Core i5 – 15.6\" Full HD, 8 Go RAM, 256 Go SSD, Windows 11, performance fiable pour le travail."
            },
            {
                id: 8,
                name: "PC Portable Dell Inspiron 15 3000 (Core i3 de 11ᵉ génération, 8 Go RAM, 256 Go SSD, écran 15,6)",
                price: 350000,
                category: "electronique",
                images: [
                    "https://i.imghos.co/JCSZIcQG.jpg",
                    "https://i.imghos.co/yYmiSjbc.jpg"
                ],
                description: "Dell Inspiron 15 – PC portable avec écran 15,6\", processeur Intel Core i3 de 11ᵉ génération, 8 Go RAM, 256 Go SSD, Windows 11."
            },
            
            // Catégorie Mode
            {
                id: 9,
                name: "Baskets Adidas Tendance Noir & Rose – Style audacieux et unique",
                price: 24500,
                category: "mode",
                subcategory: "femme",
                images: [
                    "https://i.imghos.co/yDtAzlPP.jpg",
                    "https://i.imghos.co/Gy-JvfNk.jpg",
                    "https://i.imghos.co/GOGtLrdA.jpg"
                ],
                description: "Alliez confort, durabilité et look moderne avec ces baskets Adidas au contraste noir et rose éclatant, parfaites pour le sport ou le quotidien.",
                sizes: ["36", "37", "38", "39", "40"],
            },
            {
                id: 10,
                name: "Baskets Rétro Élégantes – L'icône du style urbain",
                price: 28000,
                category: "mode",
                subcategory: "homme",
                images: [
                    "https://i.imghos.co/BSvuPcyR.jpg",
                    "https://i.imghos.co/vHiPUCGW.jpg"
                ],
                description: "Élégantes et confortables, ces baskets blanc et bleu marine allient style intemporel et polyvalence pour toutes vos tenues quotidiennes."
            },
            {
                id: 11,
                name: "Baskets Hautes Élégance Poudrée – Chic et streetwear",
                price: 23750,
                category: "mode",
                subcategory: "femme",
                images: [
                    "https://i.imghos.co/XlQTcFxl.jpg",
                    "https://i.imghos.co/PKHhzAoQ.jpg"
        
            
                ],
                description: "Élégantes et confortables, ces baskets hautes bleu marine et rose poudré allient style raffiné, originalité et polyvalence pour toutes vos tenues.",

                sizes: ["36", "37", "38", "39", "40"],
                colors: ["Rose poudré", "Bleu marine"],
            },
            {
                id: 12,
                name: "Baskets Blanches Pures – L'icône du style intemporel",
                price: 25250,
                category: "mode",
                subcategory: "homme",
                images: [
                    "https://i.imghos.co/GGkBiVvM.jpg",
                    "https://i.imghos.co/wYoLrvRV.jpg"
                ],
                description: "Classiques et polyvalentes, ces baskets blanches au design épuré allient confort et style minimaliste pour toutes vos tenues.",
                sizes: ["40", "41", "42", "43", "44", "45"],
            },
            
            // Produits supplémentaires pour démontrer la pagination
            {
                id: 13,
                name: "La Tenue Décontractée Chic \"Oasis\":",
                price: 15000,
                category: "mode",
                subcategory: "femme",
                images: [
                    "https://i.imghos.co/jiJoJoIA.png",
                    "https://i.imghos.co/NSyouFIf.png"
                ],
                description:"Élégance Décontractée et Touche d'Ailleurs. L'ensemble \"Vagues d'Été\" est la pièce maîtresse idéale pour une silhouette chic et rafraîchissante, parfaite pour les belles journées ensoleillées ou les soirées douces.",
                sizes: ["S", "M", "L", "XL", "XXL"]
            },
            {
                id: 14,
                name: "iPhone 13 simple/ 128 Go – Quasi Neuf (AVEC VIDÉO DE DÉMO 🎥)",
                price: 190000,
                category: "electronique",
                images: [
                    "https://i.imghos.co/-VPvoqfK.jpg",
                    "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4",  // 🎥 VIDÉO DE DÉMO
                    "https://i.imghos.co/rnq-mDrF.jpg"
                    
                ],
                description: "iPhone 13 simple/ 128 Go – Écran Super Retina XDR, double caméra, processeur A15 Bionic, autonomie longue durée et design élégant. ⭐ AVEC VIDÉO DE DÉMONSTRATION !"
            },
           
            {
                id: 15,
                name: "L'Ensemble \"Afro-Chic\" – Kimono Imprimé & Pantalon Fluide",
                price: 15000,
                category: "mode",
                subcategory: "femme",
                images: [
                    "https://i.imghos.co/MPxOLCK-.png",
                    "https://i.imghos.co/LAPSfgAp.png"
                ],
                description: "Sublimez votre garde-robe avec cet ensemble deux pièces exceptionnel, conçu pour la femme moderne qui ne veut pas choisir entre confort et élégance.",
                sizes: ["S", "M", "L", "XL", "XXL"]
            },
            {
                id: 16,
                name: "La Robe \"Duo Élégance\" : Fusion Batik & Blanc Pur",
                price: 15000,
                category: "mode",
                subcategory: "femme",
                images: [
                    "https://i.imghos.co/nKpMJeto.png",
                    "https://i.imghos.co/UJvsrLrh.png"
                ],
                description: "Découvrez la quintessence du chic afro-contemporain avec cette robe exceptionnelle qui joue sur les contrastes pour sublimer votre silhouette.",
                sizes: ["S", "M", "L", "XL", "XXL"]
            },
           
            {
                id: 18,
                name: "L'Audacieux Fuschia : Chemise Homme Mix-Wax",
                price: 15000,
                category: "mode",
                subcategory: "homme",
                images: [
                    "https://i.imghos.co/HTxvSTjE.png",
                    "https://i.imghos.co/rVniEuOQ.png"
                    
                ],
                description: " Illuminez votre garde-robe avec cette superbe chemise à manches courtes qui marie parfaitement le style contemporain et l'authenticité africaine. Le tissu mix-wax aux motifs vibrants en fuschia et blanc apporte une touche d'originalité et de fraîcheur, idéale pour l'homme moderne qui ose se démarquer.",
                sizes: ["S", "M", "L", "XL", "XXL"]
            },
           
           
            {
                id: 21,
                name: "L'Estivale \"Urban Pop\" – Jaune Éclatant et Touche Marine",
                price: 15000,
                category: "mode",
                subcategory: "homme",
                images: [
                    "https://i.imghos.co/zzQiYspn.png",
                    "https://i.imghos.co/LJKSJYQC.png"
                    
                ],
                description: "Mettez de la lumière dans votre dressing avec cette chemise à manches courtes au design unique. Parfaite pour l'homme qui aime se démarquer, elle joue sur un color block audacieux et maîtrisé.",
                sizes: ["S", "M", "L", "XL", "XXL"]
            },

            {
                id: 22,
                name: "Ensemble Coordonné Chemise et Pantalon Style",
                price: 1000,
                category: "mode",
                subcategory: "femme",
                images: [
                    "https://i.imghos.co/-aoGwtbL.png"
                    
                ],
                description: "Apportez une touche de sophistication décontractée à votre garde-robe avec ce magnifique ensemble deux pièces. Conçu pour la femme moderne qui ne veut pas choisir entre style et confort, cet ensemble se distingue par sa couleur bleu vibrant et ses motifs ornementaux dorés et blancs inspirés du style baroque."
            },
            {
                id: 23,
                name: "Le Classique Revisité – Tunique Col Mao et Pantalon Blanc",
                price: 15000,
                category: "mode",
                subcategory: "homme",
                images: [
                    "https://i.imghos.co/rkbs-nab.png",
                    "https://i.imghos.co/cZRk-ohB.png"
                    
                ],
                description: "Affirmez votre charisme avec cet ensemble \"Sénateur\" d'un blanc immaculé, symbole d'élégance et de raffinement. C'est la tenue idéale pour l'homme moderne qui souhaite allier respect des traditions vestimentaires et coupe contemporaine.",
                sizes: ["S", "M", "L", "XL", "XXL"]
            },

            {
                id: 24,
                name: "Sac à dos Fantaisie LNX – Douceur et originalité",
                price: 8500,
                category: "mode",
                subcategory: "enfants",
                images: [
                 "https://i.imghos.co/nXNOMHAi.jpg",
                 "https://i.imghos.co/VUEgteky.jpg",
                 "https://i.imghos.co/g-DwJzmE.jpg"
                ],
                description: "Léger et pratique, ce sac à dos lila au motif ourson argenté allie style unique et rangement optimisé pour vos journées de cours ou sorties."


            },

            {
             id: 25,
                name: "Sac à dos Fantaisie LNX – Douceur et originalité",
                price: 8500,
                category: "mode",
                subcategory: "enfants",
                images: [
                 "https://i.imghos.co/XTGzuXoc.jpg",
                 "https://i.imghos.co/pFSnzeHd.jpg"
                ],
                description: "Léger et pratique, ce sac à dos lila au motif ourson argenté allie style unique et rangement optimisé pour vos journées de cours ou sorties."
            },

            {
                id: 26,
                name: "Modèle \"L'Alliance\" – Style Afro-Contemporain Asymétrique",
                price: 15000,
                category: "mode",
                subcategory: "homme",
                images: [
                    "https://i.imghos.co/hoRlMbej.png"
                
                    
                ],
                description: " Adoptez un look audacieux et moderne avec cette chemise asymétrique qui marie habilement tradition africaine et design contemporain. Parfaite pour l'homme confiant qui souhaite se démarquer avec élégance.",
                sizes: ["S", "M", "L", "XL", "XXL"]
            },
            {
                id: 27,
                name: "L'Estivale \"Urban Pop\" – Jaune Éclatant et Touche Marine",
                price: 15000,
                category: "mode",
                subcategory: "homme",
                images: [
                    "https://i.imghos.co/BJvFenjH.png",
                    "https://i.imghos.co/eOwdhSGK.png"
                    
                ],
                description: "Apportez une touche de fraîcheur et de dynamisme à votre garde-robe estivale avec cette chemise jaune vif rehaussée de détails bleu marine. Parfaite pour l'homme moderne qui aime se démarquer avec élégance.",
                sizes: ["S", "M", "L", "XL", "XXL"]
            },

            {
                id: 28,
                name: "Calculatrice Scientifique Casio",
                price: 6500,
                category: "educatif",
                images: [
                    "https://i.imghos.co/bsMxxfGR.jpg"
                    
                ],
                description: "Fiable et pratique, cette calculatrice scientifique Casio offre toutes les fonctions essentielles pour réussir vos calculs en cours de mathématiques, physique et autres disciplines scientifiques. Idéale pour les étudiants et les examens."
            },
            {
                id: 29,
                name: "Calculatrice Scientifique TRIO",
                price: 6000,
                category: "educatif",
                images: [
                    "https://i.imghos.co/udDlzXLH.jpg"
                    
                ],
                description: "Pratique et complète, la calculatrice scientifique TRIO propose toutes les fonctions nécessaires pour vos cours et examens. Un outil fiable et accessible, idéal pour les étudiants."
            },
            {
                id: 30,
                name: "Tenue \"Petit Urbain\" – Veste Bleu Nuit à 4 Poches",
                price: 9000,
                category: "mode",
                subcategory: "enfants",
                images: [
                    "https://i.imghos.co/eMMvSwMJ.png",
                ],
                description: "Habillez votre garçon avec style grâce à cet ensemble en jean \"Total Look\" qui allie robustesse et élégance moderne. C'est la tenue idéale pour la rentrée, les sorties en famille ou simplement pour être le plus beau de la cour de récréation.",
                sizes: ["2 ans", "4 ans", "6 ans", "8 ans", "10 ans"]
            },

            {
                id: 31,
                name: "iPhone 11 simple dans carton/ 64 Go",
                price:125000 ,
                category: "electronique",
                images: [
                    "https://i.imghos.co/JfPwAyob.jpg",
                    "https://i.imghos.co/kEAcVniF.jpg"
                ],
                description: "Performant et élégant, avec écran Liquid Retina HD 6,1, puce A13 Bionic, double appareil photo 12 MP et design raffiné en noir. Stockage 64 Go, parfait pour une utilisation fluide au quotidien.",
                colors: ["Noir" ,"Blanc", "Rouge", "Vert" ]
            },
            
            // Catégorie Fast Food
            {
                id: 32,
                name: "Burger Royal Deluxe - Avec Frites & Boisson",
                price: 2500,
                category: "fastfood",
                images: [
                    "https://images.unsplash.com/photo-1568901346375-23c9450c58cd?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80"
                ],
                description: "Savoureux burger avec viande de bœuf grillée, fromage cheddar, laitue, tomate, oignon, cornichons et sauce spéciale. Servi avec frites croustillantes et boisson au choix."
            },
            {
                id: 33,
                name: "Pizza Pepperoni Maxi - Famille",
                price: 7500,
                category: "fastfood",
                images: [
                    "https://images.unsplash.com/photo-1513104890138-7c749659a591?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80"
                ],
                description: "Pizza géante au pepperoni épicé, sauce tomate maison, mozzarella fondante et herbes aromatiques. Parfaite pour partager en famille (jusqu'à 4 personnes)."
            },
            {
                id: 34,
                name: "Wrap Poulet Grillé - Healthy Choice",
                price: 3200,
                category: "fastfood",
                images: [
                    "https://images.unsplash.com/photo-1593560708920-61dd98c46a4e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80"
                ],
                description: "Wrap tendre au poulet grillé, avocat, laitue, tomate et sauce yogurt. Option plus légère pour un repas équilibré et savoureux."
            },
            {
                id: 35,
                name: "Combo Chicken Wings - 12 Pièces",
                price: 4500,
                category: "fastfood",
                images: [
                    "https://images.unsplash.com/photo-1606755962773-d324e0a13086?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80"
                ],
                description: "12 ailes de poulet croustillantes, marinées dans notre sauce spéciale. Servies avec sauce au choix : BBQ, piquante ou fromagère. Accompagnées de frites et boisson."
            },
            

            {
                id: 37,
                name: "L'Élégance \"Afro-Urban\" – Chemise Homme à Contraste",
                price: 15000,
                category: "mode",
                subcategory: "homme",
                images: [
                    "https://i.imghos.co/SjXSRCam.png"
                ],
                description: "Démarquez-vous avec cette chemise unique qui revisite le vestiaire masculin avec créativité. Conçue pour l'homme de caractère, elle joue sur un contraste saisissant entre l'uni et l'imprimé.",
                sizes: ["S", "M", "L", "XL", "XXL"]
            },
            {
                id: 38,
                name: "La Robe \"Éclat Africain\" – Jaune & M",
                price: 15000,
                category: "mode",
                subcategory: "femme",
                images: [
                    "https://i.imghos.co/VZLASJPe.png",
                    "https://i.imghos.co/yzwYmnzc.png"
                ],
                description: "Rayonnez de beauté et de culture avec cette robe exceptionnelle qui marie harmonieusement le jaune vif à des motifs traditionnels africains. Parfaite pour la femme moderne qui souhaite affirmer son style avec élégance et originalité.",
                sizes: ["S", "M", "L", "XL", "XXL"]
            },
            {
                id: 39,
                name: "L'Ensemble \"Little Gentleman\" – Veste Tartan & Chemise Graphique",
                price: 15000,
                category: "mode",
                subcategory: "enfants",
                images: [
                    "https://i.imghos.co/lbVrpSvw.png",
                    "https://i.imghos.co/wZmCt-op.png"
                ],
                description: "Offrez à votre enfant un look à la fois élégant et décontracté avec cet ensemble deux pièces haut de gamme.",
                sizes: ["2 ans", "4 ans", "6 ans", "8 ans", "10 ans"]
            },
            {
                id: 40,
                name: "Veste Safari Rouge Brique, L'Ensemble Aventurier Chic",
                price: 15000,
                category: "mode",
                subcategory: "enfants",
                images: [
                    "https://i.imghos.co/rdxglWYF.png",
                    "https://i.imghos.co/tIfMvPxW.png"
                ],
                description: "Un look audacieux et structuré pour les jeunes garçons stylés.",
                sizes: ["2 ans", "4 ans", "6 ans", "8 ans", "10 ans"]
            },
            {
                id: 41,
                name: "Chemise Manches Courtes Rouge Éclat, Le Modèle \"Red Speckle\"",
                price: 5000,
                category: "mode",
                subcategory: "enfants",
                images: [
                    "https://i.imghos.co/AAnnqYLJ.png",
                    "https://i.imghos.co/wNXDivKU.png"
                ],
                description:" Un classique revisité pour un style estival vibrant et moderne.",
                sizes: ["2 ans", "4 ans", "6 ans", "8 ans", "10 ans"]

            },
            {
                id: 42,
                name: "Chemisette Blanche \"Little Gentleman\"",
                price: 5000,
                category: "mode",
                subcategory: "enfants",
                images: [
                    "https://i.imghos.co/swDPwDHM.png",
                    "https://i.imghos.co/Sh-tcllq.png"
                ],
                description: "Une chemisette blanche classique, parfaite pour un look estival élégant et décontracté.",
                sizes: ["2 ans", "4 ans", "6 ans", "8 ans", "10 ans"]

            },
            {
                id: 43,
                name: "Robe Fille en Brocart à Motifs Rouges et Nœud Satiné",
                price: 10000,
                category: "mode",
                subcategory: "enfants",
                images: [
                    "https://i.imghos.co/znlVCWnf.png",
                    "https://i.imghos.co/wmPpIOZZ.png"
                ],
                description: "Cette pièce d'exception est conçue pour faire briller votre petite princesse lors des grands événements (Noël, mariages, anniversaires, fêtes de fin d'année).",
                sizes: ["2 ans", "4 ans", "6 ans", "8 ans", "10 ans"]
            },
            {
                id: 44,
                name: "Robe de Fête \"Douceur Florale\"",
                price: 10000,
                category: "mode",
                subcategory: "enfants",
                images: [
                    "https://i.imghos.co/IlvftKMK.png",
                    "https://i.imghos.co/DJCnVgJI.png"
                ],
                description: "Faites de chaque événement un moment magique avec cette robe digne d'un conte de fées.",
                sizes: ["2 ans", "4 ans", "6 ans", "8 ans", "10 ans"]
            },
            {
                id: 45,
                name: "Robe de Princesse \"Éclat Rouge & Tulle\"",
                price: 10000,
                category: "mode",
                subcategory: "enfants",
                images: [
                    "https://i.imghos.co/R-kmuvPq.png",
                    "https://i.imghos.co/uZPOlKOk.png"
                ],
                description: "Offrez-lui une allure de star avec cette robe rouge spectaculaire !",
                sizes: ["2 ans", "4 ans", "6 ans", "8 ans", "10 ans"]
            },
            {
                id: 46,
                name: "Robe de Cérémonie Fille \"Princesse Gold & Rose\"",
                price: 10000,
                category: "mode",
                subcategory: "enfants",
                images: [
                    "https://i.imghos.co/MGyVszSQ.png",
                    "https://i.imghos.co/JEjrWzaR.png"
                ],
                description: "Transformez chaque occasion spéciale en un moment magique avec notre sublime robe \"Princesse Gold & Rose\". Conçue pour faire briller les yeux de votre petite fille, cette tenue allie l'élégance des paillettes à la douceur du tulle",
                sizes: ["2 ans", "4 ans", "6 ans", "8 ans", "10 ans"]
            },
            {
                id: 47,
                name: "Robe de Cérémonie Fille \"Princesse Rubis & Dentelle\"",
                price: 10000,
                category: "mode",
                subcategory: "enfants",
                images: [
                 "https://i.imghos.co/hRwLYc-u.png",
                 "https://i.imghos.co/DvxdNDrP.png"
                ],
                description: "Illuminez les grandes occasions avec la robe \"Princesse Rubis & Dentelle\". Une tenue éclatante qui allie la pureté du blanc à l'intensité d'un rouge vibrant, parfaite pour faire de votre fille la star de l'événement.",
                sizes: ["2 ans", "4 ans", "6 ans", "8 ans", "10 ans"]
            },
            {
                id: 48,
                name: "Sandales Spirale \"Butterfly Dream\"",
                price: 10000,
                category: "mode",
                subcategory: "femme",
                images: [
                 "https://i.imghos.co/yXnNqAZr.png",
                 "https://i.imghos.co/rrJ-sqfa.png"
                ],
                description:"Illuminez chaque pas avec nos nouvelles sandales \"Prestige Papillon\". Conçues pour la femme moderne et audacieuse, ces chaussures sont le mélange parfait entre glamour et féérie.",

                sizes: ["36", "37", "38", "39", "40", "41"]
            },

            {
                id: 49,
                name: "Sandales \"Prestige Onyx\"",
                price: 10000,
                category: "mode",
                subcategory: "femme",
                images: [
                 "https://i.imghos.co/WghFAjmM.png",
                 "https://i.imghos.co/muIuZnJq.png"
                ],
                description: "Révélez votre côté \"femme fatale\" avec les sandales \"Midnight Butterfly\" de chez Prestige Shop Express. L'alliance intemporelle du noir profond et de l'éclat des cristaux crée un contraste saisissant, parfait pour vos soirées les plus chics.",
                sizes: ["36", "37", "38", "39", "40", "41"]
            },
            {
                id: 50,
                name: "Sandales à Brides Croisées \"L'Élégante\" ",
                price: 10000,
                category: "mode",
                subcategory: "femme",
                images: [
                 "https://i.imghos.co/kVuTTmnz.png",
                 "https://i.imghos.co/-AwnPUuX.png"
                ],
                description: "Ces sandales à talons noires sont l'incarnation parfaite de la féminité et de l'élégance. Conçues pour celles qui recherchent à la fois style et maintien, elles deviendront rapidement la pièce maîtresse de votre garde-robe.",
                sizes: ["36", "37", "38", "39", "40", "41"]
            },
            {
                id: 51,
                name: "Sandales à Talons \"Golden Grace\"",
                price: 10000,
                category: "mode",
                subcategory: "femme",
                images: [
                 "https://i.imghos.co/-WVmAQhZ.png",
                 "https://i.imghos.co/BsBMxQgL.png"
                ],
                description: "Talons Hauts \"Beige Prestige\" à Brides Fines",
                sizes: ["36", "37", "38", "39", "40", "41"]
            },
            {
                id: 52,
                name: "Sandales à Talons \"Camel Prestige\"",
                price: 10000,
                category: "mode",
                subcategory: "femme",
                images: [
                 "https://i.imghos.co/aphUjFww.png",
                 "https://i.imghos.co/wQhpNitL.png"
                ],
                description: "Apportez une touche de caractère à votre style avec les sandales \"Camel Prestige\". Cette déclinaison signée Amitin offre une teinte marron chaud (cognac) riche et profonde, idéale pour réchauffer vos tenues, du jean brut décontracté à la robe de soirée sophistiquée.",
                sizes: ["36", "37", "38", "39", "40", "41"]
            },
            {
                id: 53,
                name: "Costume Garçon Col Mao & Cargo – Look Urbain & Chic",
                price: 15000,
                category: "mode",
                subcategory: "enfants",
                images: [
                 "https://i.imghos.co/xzBruJgd.png",
                 "https://i.imghos.co/SRqAtdKT.png"
                ],
                description: "Offrez à votre garçon un look à la fois moderne et élégant avec ce costume deux pièces. Parfait pour les occasions spéciales ou les événements festifs, il allie confort et style urbain."
            },
            {
                id: 54,
                name: "Nike Air Max Plus",
                price: 19000,
                category: "mode",
                subcategory: "homme",
                images: [
                 "https://i.imghos.co/jQgKIEhi.png",
                 "https://i.imghos.co/uUgLJtNa.png"
                ],
                description:"Découvrez le confort ultime et le style audacieux avec les Nike Air Max Plus. Ces baskets emblématiques offrent un design distinctif avec des lignes fluides et une technologie d'amorti avancée, parfaite pour les amateurs de sneakers à la recherche de performance et d'esthétique.",
                sizes: ["40", "41", "42", "43", "44"]
            },

            {
                id: 55,
                name: "Robe Longue Asymétrique \"Sunset Éclat\" – Orange Floral & Design Fluide",
                price: 85000,
                category: "mode",
                subcategory: "femme",
                images: [
                 "https://i.imghos.co/YDIDhRSs.png"
                 
                ],
                description: "Sublimez votre silhouette avec cette robe longue asymétrique aux teintes chaudes et vibrantes. Parfaite pour les occasions spéciales ou les soirées d'été, elle allie élégance et confort avec son design fluide et ses motifs floraux éclatants.",
                sizes: ["S", "M", "L", "XL", "XXL"]

            },
            {
                id: 56,
                name: "Adidas Campus 00s Noir et Blanc",
                price: 15000,
                category: "mode",
                subcategory: "homme",
                images: [
                 "https://i.imghos.co/IvJoMYyS.png",
                 "https://i.imghos.co/HTRQWzNE.png"

                ],
                description: "Alliez confort et style rétro avec les Adidas Campus 00s Noir et Blanc. Ces baskets emblématiques offrent une silhouette classique revisitée, parfaite pour un look urbain et décontracté au quotidien.",
                sizes: ["37","38","40", "41", "42", "43", "44"]
            },
            {
                id: 57,
                name: "Robe Longue Sirène \"Chocolat Sculpté\"",
                price: 8500,
                category: "mode",
                subcategory: "femme",
                images: [
                 "https://i.imghos.co/teEQWhTI.png",
                 "public/ima/F15V.mp4",
                ],
                description: "Faites une entrée remarquée avec cette robe longue sirène au coloris chocolat riche et profond. Parfaite pour les occasions spéciales, elle épouse vos courbes avec élégance tout en offrant un confort optimal grâce à son tissu extensible de haute qualité.",
                sizes: [ "S", "M", "L", "XL", "XXL"],
                colors: ["Chocolat", "Noir", "blanc"],
                 sizes: ["S", "M", "L", "XL", "XXL"],
                 colors: ["Chocolat", "jaune", "blanc"]

            },
            {
                id: 58,
                name: "Ensemble Casual Chic Automne 3 Pièces - Polo Ralph Lauren",
                price: 15000,
                category: "mode",
                subcategory: "enfants",
                images: [
                 "https://i.imghos.co/SOwyBwgY.png",
                 "https://i.imghos.co/oGkHNkPV.png"

                ],
                description:" Adoptez un look décontracté et élégant avec cet ensemble casual chic automne 3 pièces pour garçons. Composé d'un polo Ralph Lauren, d'un pantalon chino beige et d'une veste légère, cet ensemble est parfait pour les journées fraîches de la saison.",
                sizes: [  "2 ans", "4 ans", "6 ans", "8 ans", "10 ans"]
            
            },
            {
                id: 59,
                name: "Surchemise Camel & Bermuda Cargo Rouge",
                price: 15000,
                category: "mode",
                subcategory: "enfants",
                images: [
                 "https://i.imghos.co/ElUfhIrt.png",
                 "https://i.imghos.co/FEOhcdnR.png"

                ],
                description: " Adoptez un look tendance et confortable avec cet ensemble estival pour garçons. La surchemise camel légère associée au bermuda cargo rouge vif crée un contraste dynamique, parfait pour les journées ensoleillées et les aventures estivales.",
                sizes: [  "2 ans", "4 ans", "6 ans", "8 ans", "10 ans"]
            },

            {
                id: 60,
                name: "Sac à Main \"Lady Chic\"",
                price: 7500,
                category: "mode",
                subcategory: "femme",
                images: [
                 "https://i.imghos.co/ZsEquSeC.png",
                 "https://i.imghos.co/isIoPqUJ.png"

                ],
                description: "Sublimez votre allure avec l'accessoire ultime de la saison. Une fusion parfaite entre élégance intemporelle et design moderne.",
                colors: ["Bleue","Noir","Rouge","Marron","Blanc","Rose"]
            },
            {
                id: 61,
                name: "Sac à Main \"Classic Elegance\"",
                price: 7500,
                category: "mode",
                subcategory: "femme",
                images: [
                 "https://i.imghos.co/MjPXaNpG.png",
                 "https://i.imghos.co/R-FpEfBU.png"

                ],
                description: "Découvrez le sac à main \"Classic Elegance\", l'accessoire parfait pour sublimer toutes vos tenues. Alliant sophistication intemporelle et fonctionnalité moderne, ce sac est conçu pour la femme élégante et active.",
                colors: ["Noir","Blanc","Beige","Rouge","Vert","Marron","Bleu" ,"Rose"]
            },

            { 
                id: 62,
                name: "Sac à Main \"Urban Sophistication\"",
                price: 7500,
                category: "mode",
                subcategory: "femme",
                images: [
                 "https://i.imghos.co/XONRPTOg.png",
                 "https://i.imghos.co/ZMJ-zQFc.png"

                ],
                description: "Adoptez un style urbain chic avec le sac à main \"Urban Sophistication\". Conçu pour la femme moderne, ce sac allie praticité et élégance avec son design épuré et ses finitions soignées.",
                colors: ["Gris","Noir","Bleu Marine","Rouge Bordeaux"]
            },

            {
              id: 71,
                name: "Urban Glow Sandals",
                price:14000,
                category: "mode",
                subcategory: "femme",
                images: [
                 "https://imagesend.fr/uploads/20251220/41053306d772bb5fed708dd02c10fb6f25d57a0b.jpg",
                

                ],
                description: "Affirmez votre style avec ces sandales compensées uniques, mélange parfait entre l'esthétique streetwear et le glamour.",
                sizes: ["36", "37", "38", "39", "40", "41"]
            },

            {
                id: 69,
                name: "Sunset Breeze Sandals",
                price: 15000,
                category: "mode",
                subcategory: "femme",
                images: [
                 "https://imagesend.fr/uploads/20251220/7b6f9969ba2730fd3c8d94b9d540f924a635ca5c.jpg",
                 
                 "https://imagesend.fr/uploads/20251220/339e645c12887dac59365bf017b7b4361e78bd3b.jpg"
                

                ],
                description: "Affirmez votre style avec ces sandales compensées uniques, mélange parfait entre l'esthétique streetwear et le glamour.",
                sizes: ["36", "37", "38", "39", "40", "41"],
                colors: ["Blanc", "Noir"]
            },

            {
                id: 70,
                name: "Luxe Streetwear Wedges",
                price: 14000,
                category: "mode",
                subcategory: "femme",
                images: [
                 "https://imagesend.fr/uploads/20251219/e07cfe7767847cbadee11055c5857ee4d20b8459.jpg",
                 
            
                

                ],
                description: "Affirmez votre style avec ces sandales compensées uniques, mélange parfait entre l'esthétique streetwear et le glamour.",
                sizes: ["36", "37", "38", "39", "40", "41"],
                colors: ["Beige", "Noir", "Rouge"]
            },
            {
               id: 72,
               name: "Nike Air Force 1 Low",
               price: 19000,
               category: "mode",
               subcategory: "femme",
               images: [
                "https://imagesend.fr/uploads/20251219/8e92993b2538dfa7c88ec6ef7aa20b28feaba76d.jpg",
                
               ],
                description: "Offrez-vous un look sport-chic avec les Nike Air Force 1 Low. Conçus pour vous faire sentir comme jamais auparavant, ces sneakers offrent un mix parfait de style et de performance.",
               sizes: ["36", "37", "38", "39", "40", "41", "42", "43", "44"],
               
            },
            {
                id: 73,
                name: "Adidas Campus 00s",
                price: 19000,
                category: "mode",
                subcategory: "femme",
                images: [
                 "https://imagesend.fr/uploads/20251220/5354ead4bfc5d983ce2b54a750623bb8ded82c10.jpg",
                 
                ],
                 description: " Un mélange parfait de style rétro et de confort moderne, particulièrement apprécié pour son look bicolore doux et original.",
                sizes: ["36", "37", "38", "39", "40", "41", "42", "43", "44"],
               
            },
            {
               id: 74,
               name: "Air Jordan 13 Retro \"Black Cat\"",
               price: 20000,
               category: "mode",
               subcategory: "femme",
               images: [
                "https://imagesend.fr/uploads/20251220/c34168f48c68a7c3e42441231048c407c7af3674.jpg",
                
               ],
                description: " Une chaussure au design agressif mais sophistiqué, très appréciée pour sa polyvalence et son côté mystérieux.",
               sizes: ["36", "37", "38", "39", "40", "41"],
              
            },

            {
                id: 75,
                name: "Air Jordan 1 Mid",
                price: 18000,
                category: "mode",
                subcategory: "femme",
                images: [
                 "https://imagesend.fr/uploads/20251220/baf7a4e012938a6c4a38d55923103e099106c361.jpg",
                 
                ],
                 description: "Conçus pour offrir une performance optimale tout en restant sobres et minimalistes, les Air Jordan 1 Mid sont une référence dans le monde du streetwear.",   
                sizes: ["36", "37", "38", "39", "40", "41", "42", "43", "44"],
                
            },
            {
                id: 76,
                name: "Vans Knu Skool",
                price: 18000,
                category: "mode",
                subcategory: "homme",
                images: [
                 "https://imagesend.fr/uploads/20251220/697e9d8ab0b1366f77a10c95cccd0881fd113dd8.jpg",
                 
                ],
                 description: "Les Vans Knit Skool sont conçus pour offrir un confort maximal tout en conservant un look streetstyle impeccable. Idéal pour les jours chauds, ces baskets sont faites pour être portées toute la journée.", 
                sizes: ["36", "37", "38", "39", "40", "41", "42", "43", "44"],
                
            },
            
            {
                id: 77,
                name: "Asics Gel-Kayano 14",
                price: 19000,
                category: "mode",
                subcategory: "homme",
                images: [
                 "https://imagesend.fr/uploads/20251220/f9863d9bd03cf8cf242feee57c80c3d02cbc0d52.jpg",
                 "https://imagesend.fr/uploads/20251220/16d0b813fa7adfa5ee1221f36ef2ca83bff14c55.jpg",
                 "https://imagesend.fr/uploads/20251220/157d975582138db0e6e2ec4d26ad4d4fcf2574a7.jpg"
                 
                ],
                 description: " Les Asics Gel-Kayano 14 sont conçus pour offrir un confort optimal tout en conservant un design élégant et sportif. Idéales pour les courses et les entraînements, ces chaussures sont également adaptées aux déplacements quotidiens.",
                sizes: ["36", "37", "38", "39", "40", "41", "42", "43", "44"],
                colors: [ "Vert", "Gris","Noir"],
                
            },

            {
                id: 78,
                name: "Nike SB Dunk Low",
                price: 19000,
                category: "mode",
                subcategory: "homme",
                images: [
                 "https://imagesend.fr/uploads/20251219/0f55687cf9f1178fc76e919d05e763ee3a11112a.jpg",
                 
                ],
                 description: "Les Nike SB Dunk Low sont conçus pour offrir un confort optimal tout en conservant un design élégant et sportif. Idéales pour les courses et les entraînements, ces chaussures sont également adaptées aux déplacements quotidiens.",
                sizes: ["36", "37", "38", "39", "40", "41", "42", "43", "44"],
                
            },

            {
                id: 79,
                name: "Short Denim \"Fire Face\"",
                price: 8000,
                category: "mode",
                subcategory: "homme",
                images: [
                 "https://imagesend.fr/uploads/20251221/c352ce34e58ca88f136b5457d9e72290d94017e1.jpg",
                 
                ],
                 description: "Le Short Denim \"Fire Face\" est un accessoire essentiel pour tous les fans de streetwear. Conçu avec un look streetstyle impeccable, ce short denim est idéal pour ajouter un touche de personnalité à votre look quotidien.",
                sizes: ["31", "32", "33", "34"],
                
            },
            
            {
                id: 80,
                name: "Short Denim Jacket",
                price: 8000,
                category: "mode",
                subcategory: "homme",
                images: [
                 "https://imagesend.fr/uploads/20251221/b37404664c3324c4b29f267c5b486e669080d1f3.jpg",
                 
                ],
                 description: "Le Long Denim Jacket est un accessoire essentiel pour tous les fans de streetwear. Conçu avec un look streetstyle impeccable, ce pull denim est idéal pour ajouter un touche de personnalité à votre look quotidien.",
                sizes: ["31", "32", "33", "34"],
                
            },

            {
                id: 81,
                name: "Short Denim",
                price: 8000,
                category: "mode",
                subcategory: "homme",
                images: [
                 "https://imagesend.fr/uploads/20251221/311a979a18d3a53548d3e798083a47a9f222b907.jpg",
                 
                ],
                 description: "Le Short Denim est un accessoire essentiel pour tous les fans de streetwear. Conçu avec un look streetstyle impeccable, ce short denim est idéal pour ajouter un touche de personnalité à votre look quotidien.",
                sizes: ["31", "32", "33", "34"],
                
            },
            {
                id: 82,
                name: "Short Denim Jacket",
                price: 8000,
                category: "mode",
                subcategory: "homme",
                images: [
                 "https://imagesend.fr/uploads/20251221/08bcc2b70b30a65697edf153675836e155c52131.jpg",
                 
                ],
                 description: "Le Short Denim Jacket est un accessoire essentiel pour tous les fans de streetwear. Conçu avec un look streetstyle impeccable, ce short denim est idéal pour ajouter un touche de personnalité à votre look quotidien.",
                sizes: ["31", "32", "33", "34"],
                
            },
            {
                id: 83,
                name: "Short Denim Jacket",
                price: 8000,
                category: "mode",
                subcategory: "homme",
                images: [
                 "https://imagesend.fr/uploads/20251221/56aff2466507d707d4771f05e592dbe7c46d3e02.jpg",
                 
                ],
                 description: "Le Short Denim Jacket est un accessoire essentiel pour tous les fans de streetwear. Conçu avec un look streetstyle impeccable, ce short denim est idéal pour ajouter un touche de personnalité à votre look quotidien.",
                sizes: ["31", "32", "33", "34"],
                
            },

            {
                id: 84,
                name: "Short Denim Jacket",
                price: 8000,
                category: "mode",
                subcategory: "homme",
                images: [
                 "https://imagesend.fr/uploads/20251221/372d36e4c3e64088e9e3535733f124938867172a.jpg",
                 
                ],
                 description: "Le Short Denim Jacket est un accessoire essentiel pour tous les fans de streetwear. Conçu avec un look streetstyle impeccable, ce short denim est idéal pour ajouter un touche de personnalité à votre look quotidien.",
                sizes: ["31", "32", "33", "34"],
                
            },
            {
                id:85,
                name: "Short Denim Jacket",
                price: 8000,
                category: "mode",
                subcategory: "homme",
                images: [
                 "https://imagesend.fr/uploads/20251221/c504d43bd9ed8c5b84688ab9823b588b77a6e7a0.jpg",
                 
                ],
                 description: "Le Short Denim Jacket est un accessoire essentiel pour tous les fans de streetwear. Conçu avec un look streetstyle impeccable, ce short denim est idéal pour ajouter un touche de personnalité à votre look quotidien.",
                sizes: ["31", "32", "33", "34"],
                
            },

            {
                id: 86,
                name: "Short Denim Jacket",
                price: 8000,
                category: "mode",
                subcategory: "homme",
                images: [
                 "https://imagesend.fr/uploads/20251221/347d9b964b128af10abbc527406d5f19819bc50d.jpg",
                 
                ],
                 description: "Le Short Denim Jacket est un accessoire essentiel pour tous les fans de streetwear. Conçu avec un look streetstyle impeccable, ce short denim est idéal pour ajouter un touche de personnalité à votre look quotidien.",
                sizes: ["31", "32", "33", "34"],
                
            },
            {
                id: 87,
                name: "Ensemble de Survêtement Puma",
                price: 18000,
                category: "mode",
                subcategory: "homme",
                images: [
                 "https://imagesend.fr/uploads/20251221/0aeaf90cb39f5609525dee957dcffbb4c7866c5b.jpg",
                 
                ],
                 description: " Alliez confort et style avec cet ensemble de survêtement Puma au design moderne. Parfait pour vos sorties quotidiennes ou vos moments de détente, ce complet se distingue par sa coupe ajustée et son jeu de couleurs bicolore audacieux. Un indispensable du vestiaire streetwear pour un look décontracté sans compromis.",
                sizes: ["XL", "XXL"],
            },
            {
                id: 88,
                name: "Ensemble de Survêtement Nike",
                name: "",
                price: 18000,
                category: "mode",
                subcategory: "homme",
                images: [
                 "https://imagesend.fr/uploads/20251221/36176fd1ec09ff217242325193afdd8c1293bb28.jpg",
                 "https://imagesend.fr/uploads/20251221/a97c8037193e98483387d8c9b8f8c59ea6d77a3b.jpg",
                 "https://imagesend.fr/uploads/20251221/7da1d7d5b230092a2d61ebf868d0b84bf9fd8a37.jpg",
                 "https://imagesend.fr/uploads/20251221/6619d163b66a3461ba41eb5dbaa460c51ccb1b7d.jpg"
                 
                ],
                 description: "Alliez confort et style avec cet ensemble de survêtement Puma au design moderne. Parfait pour vos sorties quotidiennes ou vos moments de détente, ce complet se distingue par sa coupe ajustée et son jeu de couleurs bicolore audacieux. Un indispensable du vestiaire streetwear pour un look décontracté sans compromis.",
                sizes: ["XL", "XXL"],
                colors: [" Tout-Bleu", " Bleu-Rouge","Noir-vert","Gris-Noir"],
            },
            {
                id: 89,
                name: "Ensemble de Survêtement Adidas",
                price: 18000,
                category: "mode",
                subcategory: "homme",
                images: [
                 "https://imagesend.fr/uploads/20251221/5f9c9346879cfa52609f1d62f4be78f7a8aaa024.jpg",
                 "https://imagesend.fr/uploads/20251221/f5e789dc175c4aafb6b9495f4025748ad46e06ec.jpg"
                 
                ],
                 description: "Alliez confort et style avec cet ensemble de survêtement Puma au design moderne. Parfait pour vos sorties quotidiennes ou vos moments de détente, ce complet se distingue par sa coupe ajustée et son jeu de couleurs bicolore audacieux. Un indispensable du vestiaire streetwear pour un look décontracté sans compromis.",
                sizes: ["XL", "XXL"],
                colors: ["Vert Eau","Beige Sable"],
            },
            {
                id: 90,
                name: "Ensemble de Survêtement Under Armour Tech Fleece",
                price: 18000,
                category: "mode",
                subcategory: "homme",
                images: [
                 "https://imagesend.fr/uploads/20251221/0aeaf90cb39f5609525dee957dcffbb4c7866c5b.jpg",
                 "https://imagesend.fr/uploads/20251221/829fa2361a269bb7038e6b89078f7645e9317722.jpg",
                 "https://imagesend.fr/uploads/20251221/7da1d7d5b230092a2d61ebf868d0b84bf9fd8a37.jpg",
                 
                ],
                 description: "Alliez confort et style avec cet ensemble de survêtement Puma au design moderne. Parfait pour vos sorties quotidiennes ou vos moments de détente, ce complet se distingue par sa coupe ajustée et son jeu de couleurs bicolore audacieux. Un indispensable du vestiaire streetwear pour un look décontracté sans compromis.",
                sizes: ["XL", "XXL"],
                colors: ["Menthe Givrée","Gris Sable",""],
            },
            {
                id: 91,
                name: "Ensemble Survêtement Luxe",
                price: 18000,
                category: "mode",
                subcategory: "homme",
                images: [
                 "https://imagesend.fr/uploads/20251221/acae8edd654e5dee5a73794b3053855e6a0596ae.jpg",
                 "https://imagesend.fr/uploads/20251221/87f5c439918ac5a208b6da897f0b96cafb109b7b.jpg"
                 
                 
                ],
                 description: "Alliez confort et style avec cet ensemble de survêtement Puma au design moderne. Parfait pour vos sorties quotidiennes ou vos moments de détente, ce complet se distingue par sa coupe ajustée et son jeu de couleurs bicolore audacieux. Un indispensable du vestiaire streetwear pour un look décontracté sans compromis.",
                sizes: ["XL", "XXL"],
                colors: ["Bleu Marine","marron chocolat"],
            },

            {
                id: 92,
                name: "Ensemble Survêtement Luxe",
                price: 18000,
                category: "mode",
                subcategory: "homme",
                images: [
                 "https://imagesend.fr/uploads/20251221/7f39afdd011e21079e01e9154ae4b356107ac90f.jpg",

                 "https://imagesend.fr/uploads/20251221/58f183f59cd22c509710f45b8a3de49688fae103.jpg",
                 "https://imagesend.fr/uploads/20251221/7358c0a4886e7cd65d0046fb6a8588d9889a2929.jpg"

                 
                ],
                 description: "Alliez confort et style avec cet ensemble de survêtement Puma au design moderne. Parfait pour vos sorties quotidiennes ou vos moments de détente, ce complet se distingue par sa coupe ajustée et son jeu de couleurs bicolore audacieux. Un indispensable du vestiaire streetwear pour un look décontracté sans compromis.",
                sizes: ["XL", "XXL"],
                colors: ["Rouge Vif","Gris Sauge","Vert Olive"],
            },
                
            
           

            
            
        

        ];

// Variables globales
let cart = [];
let currentFilter = 'all';
let currentSort = 'default';
let searchTimeout = null;
let isSearchFocused = false;
let productsPerPage = 8; // Nombre de produits par page
let currentPage = 1;
let isLoadingMore = false;

// Initialisation
document.addEventListener('DOMContentLoaded', function() {
    displayProducts();
    updateCartUI();
    checkAuth();
    showCategoryBanner('all'); // Afficher la bannière par défaut
});

// Fonction de tri des produits
function sortProductsArray(productsArray, sortType) {
    const sortedProducts = [...productsArray];
    switch(sortType) {
        case 'name-asc': return sortedProducts.sort((a, b) => a.name.localeCompare(b.name, 'fr'));
        case 'name-desc': return sortedProducts.sort((a, b) => b.name.localeCompare(a.name, 'fr'));
        case 'price-asc': return sortedProducts.sort((a, b) => a.price - b.price);
        case 'price-desc': return sortedProducts.sort((a, b) => b.price - a.price);
        case 'default':
        default: return sortedProducts;
    }
}

// Affichage des produits
function displayProducts(filter = 'all', reset = true) {
    if (reset) {
        currentPage = 1;
        currentFilter = filter;
    }
    
    const grid = document.getElementById('products-grid');
    
    // Cas spécial pour la catégorie Business
    if (filter === 'business') {
        if (reset) {
            grid.innerHTML = `
                <div class="col-span-full py-16 text-center">
                    <div class="max-w-3xl mx-auto px-4">
                        <div class="inline-flex items-center justify-center w-24 h-24 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-full mb-8 shadow-lg">
                            <i class="fas fa-briefcase text-white text-4xl"></i>
                        </div>
                        <h2 class="text-3xl md:text-4xl font-bold text-gray-800 mb-6">Prestige Business Starter</h2>
                        <h3 class="text-xl md:text-2xl font-semibold text-indigo-600 mb-8">Démarre ton business avec un petit capital</h3>
                        
                        <div class="bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 mb-8 rounded-r-lg inline-block">
                            <p class="font-bold text-lg">🟡 Bientôt disponible</p>
                        </div>
                        
                        <p class="text-gray-600 mb-6 text-lg max-w-2xl mx-auto">
                            Une nouvelle section dédiée aux jeunes entrepreneurs.<br>
                            Des produits en gros, accessibles, disponibles localement,<br>
                            pour t'aider à lancer ton activité sans commander en Chine.
                        </p>
                        
                        <div class="bg-blue-50 border border-blue-200 rounded-xl p-6 mb-8 max-w-2xl mx-auto">
                            <p class="text-blue-800 font-semibold">
                                🔔 En cours de lancement – Inscris-toi pour être informé en priorité
                            </p>
                        </div>
                        
                        <div class="flex justify-center mt-8">
                            <button onclick="showNotification('Merci pour votre intérêt ! Nous vous contacterons dès le lancement.', 'info')" class="bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white font-semibold py-4 px-10 rounded-full shadow-lg transition-all transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-opacity-50 text-lg">
                                <i class="far fa-bell mr-2"></i>
                                Être informé
                            </button>
                        </div>
                    </div>
                </div>
            `;
        }
        return;
    }
    
    let filteredProducts;
    
    // Gérer les sous-catégories mode
    if (filter.startsWith('mode-')) {
        const subcategory = filter.replace('mode-', '');
        filteredProducts = products.filter(p => p.category === 'mode' && p.subcategory === subcategory);
    } else if (filter === 'all') {
        filteredProducts = products;
    } else {
        filteredProducts = products.filter(p => p.category === filter);
    }
    
    filteredProducts = sortProductsArray(filteredProducts, currentSort);
    
    const endIndex = currentPage * productsPerPage;
    const productsToShow = filteredProducts.slice(0, endIndex);
    
    if (reset) grid.innerHTML = '';
    
    const newProductsHTML = productsToShow
        .slice(reset ? 0 : (currentPage - 1) * productsPerPage)
        .map(product => createProductCard(product))
        .join('');
    
    if (reset) grid.innerHTML = newProductsHTML;
    else grid.insertAdjacentHTML('beforeend', newProductsHTML);
    
    const newProducts = reset 
        ? productsToShow 
        : productsToShow.slice((currentPage - 1) * productsPerPage);
    
    newProducts.forEach(product => initializeCarousel(product.id));
}
// Chargement automatique au scroll
window.addEventListener('scroll', () => {
    const grid = document.getElementById('products-grid');
    if (!grid) return;
    
    const lastProduct = grid.lastElementChild;
    if (!lastProduct) return;
    
    const lastProductOffset = lastProduct.offsetTop + lastProduct.clientHeight;
    const pageOffset = window.pageYOffset + window.innerHeight;
    
    if (pageOffset > lastProductOffset - 300) { // 300px avant la fin de la grille
        loadMoreProducts();
    }
});

// Charger plus de produits avec animation rapide
function loadMoreProducts() {
    // Ne rien faire si on est sur la catégorie Business
    if (currentFilter === 'business') return;
    
    if (isLoadingMore) return;
    
    let filteredProducts;
    // Gérer les sous-catégories mode
    if (currentFilter.startsWith('mode-')) {
        const subcategory = currentFilter.replace('mode-', '');
        filteredProducts = products.filter(p => p.category === 'mode' && p.subcategory === subcategory);
    } else if (currentFilter === 'all') {
        filteredProducts = products;
    } else {
        filteredProducts = products.filter(p => p.category === currentFilter);
    }
    
    if (currentPage * productsPerPage >= filteredProducts.length) return; // Plus de produits
    
    isLoadingMore = true;
    currentPage++;
    displayProducts(currentFilter, false);
    
    // Animation des nouvelles cartes
    const newCards = document.querySelectorAll('.product-card');
    const startIndex = (currentPage - 1) * productsPerPage;
    
    for (let i = startIndex; i < newCards.length; i++) {
        if (newCards[i]) {
            newCards[i].style.opacity = '0';
            newCards[i].style.transform = 'translateY(20px)';
            
            setTimeout(() => {
                newCards[i].style.transition = 'all 0.4s ease';
                newCards[i].style.opacity = '1';
                newCards[i].style.transform = 'translateY(0)';
            }, (i - startIndex) * 80);
        }
    }
    
    isLoadingMore = false;
}


       

        // Fonction de tri des produits
        function sortProducts(sortType) {
            currentSort = sortType;
            currentPage = 1; // Reset à la première page
            displayProducts(currentFilter, true);
            
            // Mise à jour des boutons actifs
            document.querySelectorAll('.sort-btn').forEach(btn => {
                btn.classList.remove('active', 'bg-purple-100', 'text-purple-700');
                btn.classList.add('bg-gray-100', 'text-gray-700');
            });
            event.target.classList.remove('bg-gray-100', 'text-gray-700');
            event.target.classList.add('active', 'bg-purple-100', 'text-purple-700');
            
            // Notification du tri appliqué
            const sortNames = {
                'default': 'Tri par défaut',
                'name-asc': 'Tri par nom A-Z',
                'name-desc': 'Tri par nom Z-A',
                'price-asc': 'Tri par prix croissant',
                'price-desc': 'Tri par prix décroissant'
            };
            
            showNotification(`${sortNames[sortType]} appliqué !`, 'success');
        }

        // Toggle des sous-catégories Mode
        function toggleModeSubcategories() {
            const subcategoriesDiv = document.getElementById('mode-subcategories');
            const chevron = document.getElementById('mode-chevron');
            
            if (subcategoriesDiv.classList.contains('hidden')) {
                // Afficher les sous-catégories
                subcategoriesDiv.classList.remove('hidden');
                chevron.style.transform = 'rotate(180deg)';
                
                // Afficher tous les produits mode par défaut
                filterProducts('mode');
            } else {
                // Masquer les sous-catégories
                subcategoriesDiv.classList.add('hidden');
                chevron.style.transform = 'rotate(0deg)';
            }
        }

        // Filtrage des produits
        function filterProducts(category) {
            currentFilter = category;
            currentPage = 1; // Reset à la première page
            displayProducts(category, true);
            
            // Mise à jour des boutons actifs pour les catégories principales
            document.querySelectorAll('.category-card').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Mise à jour des boutons de sous-catégories
            document.querySelectorAll('.subcategory-btn').forEach(btn => {
                btn.classList.remove('ring-4', 'ring-pink-300', 'bg-pink-100', 'bg-blue-100', 'bg-purple-100');
            });
            
            // Afficher la bannière de catégorie
            showCategoryBanner(category);
            
            // Si c'est une sous-catégorie mode, activer le bouton correspondant
            if (category.startsWith('mode-')) {
                const subcategoriesDiv = document.getElementById('mode-subcategories');
                const chevron = document.getElementById('mode-chevron');
                if (subcategoriesDiv.classList.contains('hidden')) {
                    subcategoriesDiv.classList.remove('hidden');
                    chevron.style.transform = 'rotate(180deg)';
                }
                // Activer la carte Mode principale
                const modeButtons = document.querySelectorAll('.category-card');
                modeButtons[3]?.classList.add('active'); // 4ème bouton = Mode
                
                if (event && event.target) {
                    event.target.classList.add('ring-4');
                    if (category === 'mode-homme') {
                        event.target.classList.add('ring-blue-300', 'bg-blue-100');
                    } else if (category === 'mode-femme') {
                        event.target.classList.add('ring-pink-300', 'bg-pink-100');
                    } else if (category === 'mode-enfants') {
                        event.target.classList.add('ring-purple-300', 'bg-purple-100');
                    }
                }
            } else if (category === 'mode') {
                // Afficher les sous-catégories si on clique sur Mode
                const subcategoriesDiv = document.getElementById('mode-subcategories');
                const chevron = document.getElementById('mode-chevron');
                if (subcategoriesDiv.classList.contains('hidden')) {
                    subcategoriesDiv.classList.remove('hidden');
                    chevron.style.transform = 'rotate(180deg)';
                }
                const modeButtons = document.querySelectorAll('.category-card');
                modeButtons[3]?.classList.add('active');
            } else if (category === 'all') {
                // Masquer les sous-catégories mode et activer "Tous"
                const subcategoriesDiv = document.getElementById('mode-subcategories');
                const chevron = document.getElementById('mode-chevron');
                if (!subcategoriesDiv.classList.contains('hidden')) {
                    subcategoriesDiv.classList.add('hidden');
                    chevron.style.transform = 'rotate(0deg)';
                }
                const categoryCards = document.querySelectorAll('.category-card');
                categoryCards[0]?.classList.add('active');
            } else if (category === 'educatif') {
                // Masquer les sous-catégories mode et activer Éducatif
                const subcategoriesDiv = document.getElementById('mode-subcategories');
                const chevron = document.getElementById('mode-chevron');
                if (!subcategoriesDiv.classList.contains('hidden')) {
                    subcategoriesDiv.classList.add('hidden');
                    chevron.style.transform = 'rotate(0deg)';
                }
                const categoryCards = document.querySelectorAll('.category-card');
                categoryCards[1]?.classList.add('active');
            } else if (category === 'electronique') {
                // Masquer les sous-catégories mode et activer Électronique
                const subcategoriesDiv = document.getElementById('mode-subcategories');
                const chevron = document.getElementById('mode-chevron');
                if (!subcategoriesDiv.classList.contains('hidden')) {
                    subcategoriesDiv.classList.add('hidden');
                    chevron.style.transform = 'rotate(0deg)';
                }
                const categoryCards = document.querySelectorAll('.category-card');
                categoryCards[2]?.classList.add('active');
            } else if (category === 'fastfood') {
                // Masquer les sous-catégories mode et activer Fast Food
                const subcategoriesDiv = document.getElementById('mode-subcategories');
                const chevron = document.getElementById('mode-chevron');
                if (!subcategoriesDiv.classList.contains('hidden')) {
                    subcategoriesDiv.classList.add('hidden');
                    chevron.style.transform = 'rotate(0deg)';
                }
                const categoryCards = document.querySelectorAll('.category-card');
                categoryCards[3]?.classList.add('active');
            }
            
            // Faire défiler vers les produits
            setTimeout(() => {
                document.getElementById('produits').scrollIntoView({ 
                    behavior: 'smooth',
                    block: 'start'
                });
            }, 100);
        }
        
        // Afficher une bannière dynamique pour chaque catégorie
        function showCategoryBanner(category) {
            const bannerDiv = document.getElementById('category-banner');
            
            const banners = {
                'all': {
                    gradient: 'from-purple-600 via-blue-600 to-purple-600',
                    image: 'https://images.unsplash.com/photo-1542838132-92c53300491e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=80&h=80&q=80',
                    title: 'Toute Notre Collection',
                    subtitle: 'Découvrez tous nos produits de qualité au meilleur prix',
                    badge: '🎁 Livraison offerte dès 40 000 FCFA'
                },
                'educatif': {
                    gradient: 'from-blue-500 via-cyan-500 to-blue-600',
                    image: 'https://images.unsplash.com/photo-1590857652129-825d4c181ff5?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=80&h=80&q=80',
                    title: 'Fournitures Éducatives',
                    subtitle: 'Tout pour la réussite scolaire de vos enfants',
                    badge: '📚 Qualité garantie pour l\'école'
                },
                'electronique': {
                    gradient: 'from-green-500 via-teal-500 to-green-600',
                    image: 'https://images.unsplash.com/photo-1593642632823-8f785ba67e45?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=80&h=80&q=80',
                    title: 'High-Tech & Électronique',
                    subtitle: 'Les dernières technologies à portée de main',
                    badge: '⚡ Produits garantis 1 an'
                },
                'mode': {
                    gradient: 'from-pink-500 via-purple-600 to-pink-600',
                    image: 'https://images.unsplash.com/photo-1521334884684-d80222895326?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=80&h=80&q=80',
                    title: 'Mode & Tendances',
                    subtitle: 'Restez stylé avec nos collections homme, femme et enfants',
                    badge: '✨ Nouveautés chaque semaine'
                },
                'mode-homme': {
                    gradient: 'from-blue-600 via-indigo-600 to-blue-700',
                    image: 'https://images.unsplash.com/photo-1529973702732-317a0051c370?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=80&h=80&q=80',
                    title: 'Mode Homme',
                    subtitle: 'Style masculin moderne et élégant',
                    badge: '👔 Collection premium'
                },
                'mode-femme': {
                    gradient: 'from-pink-500 via-rose-500 to-pink-600',
                    image: 'https://images.unsplash.com/photo-1515886657613-9f3515b0c78f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=80&h=80&q=80',
                    title: 'Mode Femme',
                    subtitle: 'Élégance et féminité à tous les prix',
                    badge: '👗 Tendances 2024'
                },
                'mode-enfants': {
                    gradient: 'from-purple-500 via-violet-500 to-purple-600',
                    image: 'https://images.unsplash.com/photo-1515886657613-9f3515b0c78f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=80&h=80&q=80',
                    title: 'Mode Enfants',
                    subtitle: 'Confort et style pour vos petits',
                    badge: '🎈 Qualité et douceur'
                },
                'fastfood': {
                    gradient: 'from-orange-500 via-red-600 to-orange-600',
                    image: 'https://images.unsplash.com/photo-1565299624946-b28f40a0ae38?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=80&h=80&q=80',
                    title: 'Fast Food',
                    subtitle: 'Burgers, pizzas & snacks savoureux',
                    badge: '🍔 Dégustez maintenant !'
                },
                'business': {
                    gradient: 'from-indigo-500 via-purple-600 to-indigo-700',
                    image: 'https://images.unsplash.com/photo-1556761175-5973dc0f32e7?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=80&h=80&q=80',
                    title: 'Prestige Business Starter',
                    subtitle: 'Démarre ton business avec un petit capital',
                    badge: '🟡 Bientôt disponible'
                }
            };            
            const banner = banners[category] || banners['all'];
            
            bannerDiv.innerHTML = `
                <div class="relative bg-gradient-to-r ${banner.gradient} p-8 text-white overflow-hidden category-banner-animate">
                    <!-- Motif de fond -->
                    <div class="absolute inset-0 opacity-10">
                        <div class="absolute inset-0" style="background-image: repeating-linear-gradient(45deg, transparent, transparent 35px, rgba(255,255,255,.1) 35px, rgba(255,255,255,.1) 70px);"></div>
                    </div>
                    
                    <!-- Particules flottantes -->
                    <div class="particle"></div>
                    <div class="particle"></div>
                    <div class="particle"></div>
                    <div class="particle"></div>
                    
                    <!-- Formes décoratives -->
                    <div class="absolute -top-10 -right-10 w-40 h-40 bg-white/10 rounded-full blur-2xl animate-pulse"></div>
                    <div class="absolute -bottom-10 -left-10 w-40 h-40 bg-white/10 rounded-full blur-2xl animate-pulse" style="animation-delay: 1s;"></div>
                    
                    <!-- Contenu -->
                    <div class="relative z-10 flex flex-col md:flex-row items-center justify-between gap-6">
                        <div class="flex items-center gap-6">
                            <div class="w-20 h-20 bg-white/20 backdrop-blur-sm rounded-2xl flex items-center justify-center shadow-xl banner-icon">
                                ${getCategoryIcon(category)}
                            </div>
                            <div>
                                <h3 class="text-3xl md:text-4xl font-black mb-2 animate-fadeIn">${banner.title}</h3>
                                <p class="text-lg opacity-90 animate-fadeIn" style="animation-delay: 0.2s;">${banner.subtitle}</p>
                            </div>
                        </div>
                        <div class="bg-white/20 backdrop-blur-md px-6 py-3 rounded-xl border-2 border-white/30 shadow-lg banner-badge hover:scale-110 transition-transform cursor-default">
                            <span class="text-xl font-bold">${banner.badge}</span>
                        </div>
                    </div>
                </div>
            `;
            
            bannerDiv.classList.remove('hidden');
            
            // Note: navigator.vibrate nécessite une interaction utilisateur
            // Retiré pour éviter l'avertissement de la console
        }

        // Utilitaires pour les catégories
        function getCategoryColor(category) {
            const colors = {
                'educatif': 'blue-500',
                'electronique': 'green-500',
                'mode': 'pink-500',
                'fastfood': 'orange-500'
            };
            return colors[category] || 'gray-500';
        }

        function getCategoryName(category) {
            const names = {
                'educatif': 'Éducatif',
                'electronique': 'Électronique',
                'mode': 'Mode',
                'fastfood': 'Fast Food',
                'business': 'Business'
            };
            return names[category] || category;
        }
        function getCategoryIcon(category) {
            const icons = {
                'all': '<i class="fas fa-th-large text-4xl"></i>',
                'educatif': '<i class="fas fa-graduation-cap text-4xl"></i>',
                'electronique': '<i class="fas fa-laptop text-4xl"></i>',
                'mode': '<i class="fas fa-tshirt text-4xl"></i>',
                'mode-homme': '<i class="fas fa-male text-4xl"></i>',
                'mode-femme': '<i class="fas fa-female text-4xl"></i>',
                'mode-enfants': '<i class="fas fa-child text-4xl"></i>',
                'fastfood': '<i class="fas fa-hamburger text-4xl"></i>',
                'business': '<i class="fas fa-briefcase text-4xl"></i>'
            };
            return icons[category] || '<i class="fas fa-box text-4xl"></i>';
        }
        // Ajouter au panier
        function addToCart(productId) {
            const product = products.find(p => p.id === productId);
            const existingItem = cart.find(item => item.id === productId);
            
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({
                    ...product,
                    quantity: 1
                });
            }
            
            updateCartUI();
            showNotification('Produit ajouté au panier !', 'success');
        }

        // Supprimer du panier
        function removeFromCart(keyOrId) {
            const keyStr = String(keyOrId);
            cart = cart.filter(item => String(item._key || item.id) !== keyStr);
            updateCartUI();
            displayCart();
        }

        // Modifier la quantité
        function updateQuantity(keyOrId, change) {
            const keyStr = String(keyOrId);
            const item = cart.find(item => String(item._key || item.id) === keyStr);
            if (item) {
                item.quantity += change;
                if (item.quantity <= 0) {
                    removeFromCart(keyStr);
                } else {
                    updateCartUI();
                    displayCart();
                }
            }
        }

        // Mise à jour de l'interface du panier
        function updateCartUI() {
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            const badge = document.getElementById('cart-badge');
            const floatBadge = document.getElementById('cart-float-badge');
            
            if (totalItems > 0) {
                badge.textContent = totalItems;
                badge.classList.remove('hidden');
                floatBadge.textContent = totalItems;
                floatBadge.classList.remove('hidden');
            } else {
                badge.classList.add('hidden');
                floatBadge.classList.add('hidden');
            }
        }

        // Toggle du panier
        function toggleCart() {
            const modal = document.getElementById('cart-modal');
            if (modal.classList.contains('hidden')) {
                displayCart();
                modal.classList.remove('hidden');
                document.body.style.overflow = 'hidden';
            } else {
                modal.classList.add('hidden');
                document.body.style.overflow = 'auto';
            }
        }

        // Affichage du contenu du panier
        function displayCart() {
            const cartItems = document.getElementById('cart-items');
            const cartTotal = document.getElementById('cart-total');
            const cartSubtotal = document.getElementById('cart-subtotal');
            const cartItemsCount = document.getElementById('cart-items-count');
            const cartHeaderCount = document.getElementById('cart-header-count');
            const cartSummary = document.getElementById('cart-summary');
            
            if (cart.length === 0) {
                cartItems.innerHTML = `
                    <div class="text-center text-gray-500 py-16">
                        <div class="bg-gray-100 w-24 h-24 rounded-full flex items-center justify-center mx-auto mb-4">
                            <i class="fas fa-shopping-cart text-4xl text-gray-300"></i>
                        </div>
                        <h5 class="text-xl font-semibold mb-2">Votre panier est vide</h5>
                        <p class="text-sm mb-6">Découvrez nos produits et ajoutez vos favoris</p>
                        <button onclick="toggleCart()" class="bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white px-6 py-3 rounded-lg font-semibold transition-all transform hover:scale-105">
                            <i class="fas fa-shopping-bag mr-2"></i>
                            Continuer mes achats
                        </button>
                    </div>
                `;
                
                // Masquer le résumé quand le panier est vide
                if (cartSummary) {
                    cartSummary.style.display = 'none';
                }
                return;
            }

            // Afficher le résumé quand il y a des articles
            if (cartSummary) {
                cartSummary.style.display = 'block';
            }

            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            
            cartItemsCount.textContent = `${totalItems}`;
            cartHeaderCount.textContent = `${totalItems} article${totalItems > 1 ? 's' : ''}`;

            cartItems.innerHTML = cart.map(item => `
                <div class="bg-white rounded-2xl shadow-lg border border-gray-100 p-6 mb-6 hover:shadow-xl transition-all">
                    <div class="flex items-start space-x-4">
                        <!-- Image du produit -->
                        <div class="flex-shrink-0 relative">
                            <div class="w-24 h-24 rounded-xl overflow-hidden border-2 border-gray-200">
                                <img src="${getAbsoluteImagePath(item.image || (item.images && item.images[0]) || '/images/prestige-shop.png')}" alt="${item.name}" 
                                     class="w-full h-full object-cover cursor-pointer hover:scale-105 transition-transform" 
                                     onclick="openImageZoom(${item.id}, 0)"
                                     onerror="this.src='${IMAGE_BASE_URL}/placeholder.png'; this.alt='Image non disponible';">
                            </div>
                            <div class="absolute -top-2 -right-2 bg-purple-500 text-white text-sm font-bold px-2 py-1 rounded-full min-w-[24px] text-center">
                                ${item.quantity}
                            </div>
                        </div>
                         
                        <!-- Informations du produit -->
                        <div class="flex-1 min-w-0">
                            <div class="flex items-start justify-between mb-2">
                                <h4 class="font-bold text-gray-800 text-lg line-clamp-2 flex-1 mr-4">${item.name}</h4>
                                <button onclick="removeFromCart('${item._key || item.id}')" 
                                        class="text-gray-400 hover:text-red-500 p-2 rounded-full hover:bg-red-50 transition-all"
                                        title="Supprimer">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                            ${item.size || item.color ? `
                            <div class="text-sm text-gray-600 mb-2">
                                ${item.size ? `<span class=\"mr-3\"><span class=\"font-semibold\">Taille:</span> ${item.size}</span>` : ''}
                                ${item.color ? `<span><span class=\"font-semibold\">Couleur:</span> ${item.color}</span>` : ''}
                            </div>
                            ` : ''}
                            
                            <p class="text-gray-600 text-sm mb-4 line-clamp-2">${item.description}</p>
                            
                            <!-- Prix et contrôles -->
                            <div class="flex items-center justify-between">
                                <div class="text-purple-600 font-bold text-lg">
                                    ${item.price.toLocaleString()} FCFA
                                </div>
                                
                                <div class="flex items-center space-x-4">
                                    <div class="flex items-center bg-gray-100 rounded-xl">
                                        <button onclick="updateQuantity('${item._key || item.id}', -1)" 
                                                class="bg-white hover:bg-gray-50 w-10 h-10 rounded-l-xl flex items-center justify-center transition-colors border-r border-gray-200">
                                            <i class="fas fa-minus text-gray-600"></i>
                                        </button>
                                        <span class="w-12 text-center font-bold bg-white h-10 flex items-center justify-center">${item.quantity}</span>
                                        <button onclick="updateQuantity('${item._key || item.id}', 1)" 
                                                class="bg-white hover:bg-gray-50 w-10 h-10 rounded-r-xl flex items-center justify-center transition-colors border-l border-gray-200">
                                            <i class="fas fa-plus text-gray-600"></i>
                                        </button>
                                    </div>
                                    
                                    <div class="text-right">
                                        <div class="font-bold text-purple-600 text-lg">
                                            ${(item.price * item.quantity).toLocaleString()} FCFA
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `).join('');

            cartTotal.textContent = `${total.toLocaleString()} FCFA`;
            cartSubtotal.textContent = `${total.toLocaleString()} FCFA`;
        }

        // Validation de la commande
        async function validateOrder() {
            const name = document.getElementById('customer-name').value.trim();
            const phone = document.getElementById('customer-phone').value.trim();
            const address = document.getElementById('customer-address').value.trim();
            const city = document.getElementById('customer-city').value;

            // Validation des champs
            if (!name || !phone || !address || !city) {
                showNotification('Veuillez remplir tous les champs obligatoires', 'error');
                return;
            }

            if (cart.length === 0) {
                showNotification('Votre panier est vide', 'error');
                return;
            }

            const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);

            // ========== ENREGISTREMENT DANS LA BASE DE DONNÉES ==========
            const userData = JSON.parse(localStorage.getItem('userData') || sessionStorage.getItem('userData') || '{}');
            const userId = userData.id;

            if (userId) {
                try {
                    // Prepare product details for database (avec image, taille, couleur)
                    const produitsDetails = cart.map(item => ({
                        nom: item.name,
                        quantite: item.quantity,
                        prix: item.price,
                        image: item.image || (item.images && item.images[0]) || '/images/prestige-shop.png',
                        taille: item.size || null,
                        couleur: item.color || null
                    }));

                    const commandeData = {
                        user_id: userId,
                        montant_total: total,
                        adresse_livraison: `${address}, ${city}`,
                        telephone: phone,
                        notes: `Client: ${name} - Produits: ${produitsDetails.map(p => `${p.nom} (x${p.quantite})`).join(', ')}`,
                        produits: produitsDetails
                    };

                    console.log('📤 Envoi de la commande au serveur...', commandeData);
                    console.log('🌐 URL de l\'API:', `${API_BASE_URL}/commandes`);

                    // Ajout d'un timeout pour la requête
                    const controller = new AbortController();
                    const timeoutId = setTimeout(() => controller.abort(), 10000); // 10 secondes timeout

                    const response = await fetch(`${API_BASE_URL}/commandes`, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify(commandeData),
                        signal: controller.signal
                    });
                    
                    clearTimeout(timeoutId);
                    console.log('📥 Réponse HTTP:', response.status, response.statusText);
                    
                    // Vérifier si la réponse est OK
                    if (!response.ok) {
                        throw new Error(`HTTP error! status: ${response.status}`);
                    }
                    
                    const result = await response.json();
                    console.log('📥 Données reçues:', result);

                    if (result.success) {
                        console.log('✅ Commande enregistrée dans MySQL:', result.numero_commande);
                        showNotification(`✅ Commande ${result.numero_commande} enregistrée !`, 'success');
                    } else {
                        console.error('❌ Erreur enregistrement:', result.message);
                        showNotification('⚠️ Commande non enregistrée en BDD, mais WhatsApp OK', 'info');
                    }
                } catch (error) {
                    console.error('❌ Erreur connexion serveur:', error);
                    showNotification('⚠️ Serveur inaccessible, commande envoyée sur WhatsApp', 'info');
                }
            } else {
                console.warn('⚠️ Utilisateur non connecté, commande non enregistrée en BDD');
                showNotification('💡 Connectez-vous pour sauvegarder vos commandes', 'info');
            }

            // Génération du message WhatsApp
            let message = `🛍️ *NOUVELLE COMMANDE - Prestige Shop Express*\n\n`;
            message += `👤 *Client:* ${name}\n`;
            message += `📱 *WhatsApp:* ${phone}\n`;
            message += `📍 *Adresse:* ${address}\n`;
            message += `🏙️ *Ville:* ${city}\n\n`;
            message += `🛒 *Détails de la commande:*\n`;
            message += `━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\n`;

            const originBase = window.location && window.location.origin ? window.location.origin : '';
            cart.forEach((item, index) => {
                message += `${index + 1}. *${item.name}*\n`;
                message += `   📦 Quantité: ${item.quantity}\n`;
                message += `   💰 Prix unitaire: ${item.price.toLocaleString()} FCFA\n`;
                message += `   💵 Sous-total: ${(item.price * item.quantity).toLocaleString()} FCFA\n`;
                if (item.size) { message += `   📏 Taille: ${item.size}\n`; }
                if (item.color) { message += `   🎨 Couleur: ${item.color}\n`; }
                message += `   📝 ${item.description}\n`;
                const mainImg = item.images && item.images[0] ? (originBase ? new URL(item.images[0], originBase).href : item.images[0]) : '';
                if (mainImg) { message += `   🖼️ Image: ${mainImg}\n`; }
                if (item.images.length > 1) {
                    message += `   📸 Images supplémentaires:\n`;
                    item.images.slice(1).forEach((img) => {
                        const url = originBase ? new URL(img, originBase).href : img;
                        message += `      • ${url}\n`;
                    });
                }
                message += `\n`;
            });

            message += `━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\n`;
            message += `💰 *TOTAL GÉNÉRAL: ${total.toLocaleString()} FCFA*\n\n`;
            message += `📞 Merci de me contacter pour confirmer la commande et organiser la livraison !\n\n`;
            message += `🙏 Merci de votre confiance !`;

            // ========== ENREGISTREMENT DE LA COMMANDE DANS LE PROFIL ==========
            const userEmail = localStorage.getItem('userEmail') || sessionStorage.getItem('userEmail');
            if (userEmail) {
                saveOrderToProfile({
                    orderId: generateOrderId(),
                    date: new Date().toISOString(),
                    customerName: name,
                    customerPhone: phone,
                    customerAddress: address,
                    customerCity: city,
                    items: cart.map(item => ({
                        id: item.id,
                        name: item.name,
                        price: item.price,
                        quantity: item.quantity,
                        image: item.images[0],
                        description: item.description,
                        size: item.size || null,
                        color: item.color || null
                    })),
                    total: total,
                    status: 'En attente',
                    whatsappSent: true
                }, userEmail);
            }

            // Ouverture de WhatsApp avec méthodes et fallbacks robustes
            const phoneDigits = (WHATSAPP_NUMBER || '').toString().replace(/\D/g, '');
            const waText = encodeURIComponent(message);
            const waUrls = [
                phoneDigits ? `https://wa.me/${phoneDigits}?text=${waText}` : `https://wa.me/?text=${waText}`,
                phoneDigits ? `https://api.whatsapp.com/send?phone=${phoneDigits}&text=${waText}` : `https://api.whatsapp.com/send?text=${waText}`,
                `https://wa.me/?text=${waText}`
            ];

            let opened = false;
            for (const url of waUrls) {
                try {
                    // Essayer avec lien temporaire (souvent moins bloqué)
                    const a = document.createElement('a');
                    a.href = url;
                    a.target = '_blank';
                    a.rel = 'noopener noreferrer';
                    document.body.appendChild(a);
                    a.click();
                    document.body.removeChild(a);
                    opened = true;
                    break;
                } catch (e) {
                    // Essayer la redirection de la fenêtre courante
                    try {
                        window.location.href = url;
                        opened = true;
                        break;
                    } catch (e2) {}
                }
            }
            // Afficher un lien de secours si l'ouverture automatique a échoué
            if (!opened) {
                const fb = document.getElementById('wa-fallback');
                const fbl = document.getElementById('wa-fallback-link');
                if (fb && fbl) {
                    fbl.href = waUrls[0];
                    fb.classList.remove('hidden');
                    showNotification('Cliquez sur "Ouvrir dans WhatsApp" si l\'ouverture est bloquée', 'info');
                }
            }
            
            // Vider le panier après la commande
            cart = [];
            updateCart();
            toggleCart();
            
            showNotification('✅ Commande enregistrée et envoyée sur WhatsApp !', 'success');
            
            // Rediriger vers "Mes commandes" après un court délai si l'utilisateur est connecté
            setTimeout(() => {
                const userEmail = localStorage.getItem('userEmail') || sessionStorage.getItem('userEmail');
                if (userEmail) {
                    openOrdersModal();
                } else {
                    // Si pas connecté, afficher un message d'information
                    showNotification('💡 Connectez-vous pour voir vos commandes dans votre profil', 'info');
                }
            }, 1500);
        }

        // Générer un ID unique pour la commande
        function generateOrderId() {
            const timestamp = Date.now();
            const random = Math.floor(Math.random() * 10000);
            return `PSE-${timestamp}-${random}`;
        }

        // Sauvegarder la commande dans le profil utilisateur
        function saveOrderToProfile(order, userEmail) {
            try {
                // Récupérer les commandes existantes
                const ordersKey = `orders_${userEmail}`;
                let orders = JSON.parse(localStorage.getItem(ordersKey) || '[]');
                
                // Ajouter la nouvelle commande au début du tableau
                orders.unshift(order);
                
                // Limiter à 50 commandes maximum
                if (orders.length > 50) {
                    orders = orders.slice(0, 50);
                }
                
                // Sauvegarder dans localStorage
                localStorage.setItem(ordersKey, JSON.stringify(orders));
                
                console.log('Commande enregistrée avec succès:', order.orderId);
            } catch (error) {
                console.error('Erreur lors de la sauvegarde de la commande:', error);
            }
        }

        // Récupérer les commandes d'un utilisateur
        function getUserOrders(userEmail) {
            try {
                const ordersKey = `orders_${userEmail}`;
                return JSON.parse(localStorage.getItem(ordersKey) || '[]');
            } catch (error) {
                console.error('Erreur lors de la récupération des commandes:', error);
                return [];
            }
        }

        // Système de notifications
        function showNotification(message, type = 'success') {
            const notification = document.createElement('div');
            notification.className = `fixed top-4 right-4 z-50 px-6 py-4 rounded-lg shadow-lg text-white font-semibold transform transition-all duration-300 ${
                type === 'success' ? 'bg-green-500' : 
                type === 'error' ? 'bg-red-500' : 
                type === 'info' ? 'bg-blue-500' : 'bg-green-500'
            }`;
            notification.innerHTML = `
                <div class="flex items-center space-x-2">
                    <i class="fas fa-${
                        type === 'success' ? 'check-circle' : 
                        type === 'error' ? 'exclamation-circle' : 
                        type === 'info' ? 'info-circle' : 'check-circle'
                    }"></i>
                    <span>${message}</span>
                </div>
            `;
            
            document.body.appendChild(notification);
            
            // Animation d'entrée
            setTimeout(() => {
                notification.style.transform = 'translateX(0)';
            }, 100);
            
            // Suppression automatique
            setTimeout(() => {
                notification.style.transform = 'translateX(100%)';
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.parentNode.removeChild(notification);
                    }
                }, 300);
            }, 3000);
        }

        // Fermeture du modal en cliquant à l'extérieur
        document.getElementById('cart-modal').addEventListener('click', function(e) {
            if (e.target === this) {
                toggleCart();
            }
        });

        // Variables pour les carousels
        let carouselStates = {};
        let zoomState = { isOpen: false, productId: null, currentIndex: 0 };

        // Initialisation du carousel
        function initializeCarousel(productId) {
            const product = products.find(p => p.id === productId);
            if (!product || product.images.length <= 1) return;
            
            carouselStates[productId] = { currentIndex: 0 };
            
            // Ajouter la navigation tactile
            const container = document.querySelector(`#carousel-${productId}`).closest('.carousel-container');
            if (container) {
                addTouchNavigation(container, productId);
                
                // Ajouter des gestionnaires d'événements supplémentaires pour mobile
                const prevBtn = container.querySelector('.carousel-prev');
                const nextBtn = container.querySelector('.carousel-next');
                
                if (prevBtn) {
                    // Gestionnaire tactile spécifique
                    prevBtn.addEventListener('touchstart', function(e) {
                        e.stopPropagation();
                        this.style.transform = 'translateY(-50%) scale(1.1)';
                        this.style.background = 'rgba(0,0,0,0.95)';
                    }, { passive: true });
                    
                    prevBtn.addEventListener('touchend', function(e) {
                        e.stopPropagation();
                        e.preventDefault();
                        this.style.transform = 'translateY(-50%) scale(1.15)';
                        this.style.background = 'rgba(0,0,0,0.9)';
                        previousImage(productId);
                        
                        // Reset style après un délai
                        setTimeout(() => {
                            this.style.transform = 'translateY(-50%)';
                            this.style.background = 'rgba(0,0,0,0.7)';
                        }, 150);
                    }, { passive: false });
                }
                
                if (nextBtn) {
                    // Gestionnaire tactile spécifique
                    nextBtn.addEventListener('touchstart', function(e) {
                        e.stopPropagation();
                        this.style.transform = 'translateY(-50%) scale(1.1)';
                        this.style.background = 'rgba(0,0,0,0.95)';
                    }, { passive: true });
                    
                    nextBtn.addEventListener('touchend', function(e) {
                        e.stopPropagation();
                        e.preventDefault();
                        this.style.transform = 'translateY(-50%) scale(1.15)';
                        this.style.background = 'rgba(0,0,0,0.9)';
                        nextImage(productId);
                        
                        // Reset style après un délai
                        setTimeout(() => {
                            this.style.transform = 'translateY(-50%)';
                            this.style.background = 'rgba(0,0,0,0.7)';
                        }, 150);
                    }, { passive: false });
                }
            }
        }
        
        // Navigation tactile pour le carousel
        function addTouchNavigation(container, productId) {
            let startX = 0;
            let startY = 0;
            let currentX = 0;
            let isDragging = false;
            let hasMoved = false;
            let dragDistance = 0;
            const track = container.querySelector('.carousel-track');
            const state = carouselStates[productId] || { currentIndex: 0 };
            
            // Variables pour l'animation de défilement
            let initialTransform = 0;
            let isAnimating = false;
            
            container.addEventListener('touchstart', (e) => {
                if (isAnimating) return;
                
                startX = e.touches[0].clientX;
                startY = e.touches[0].clientY;
                currentX = startX;
                isDragging = true;
                hasMoved = false;
                dragDistance = 0;
                
                // Récupérer la position actuelle du carousel
                initialTransform = -state.currentIndex * 100;
                
                // Désactiver la transition pendant le drag
                if (track) {
                    track.style.transition = 'none';
                }
                
                // Ajouter une classe pour indiquer le drag
                container.classList.add('dragging');
            }, { passive: true });
            
            container.addEventListener('touchmove', (e) => {
                if (!isDragging || isAnimating) return;
                
                currentX = e.touches[0].clientX;
                const currentY = e.touches[0].clientY;
                const diffX = currentX - startX;
                const diffY = Math.abs(currentY - startY);
                
                // Si le mouvement horizontal est plus important que vertical
                if (Math.abs(diffX) > diffY && Math.abs(diffX) > 10) {
                    e.preventDefault();
                    hasMoved = true;
                    dragDistance = diffX;
                    
                    // Calculer le pourcentage de déplacement
                    const containerWidth = container.offsetWidth;
                    const dragPercent = (diffX / containerWidth) * 100;
                    
                    // Appliquer la transformation en temps réel avec résistance aux bords
                    let newTransform = initialTransform + dragPercent;
                    
                    // Ajouter une résistance aux bords
                    const product = products.find(p => p.id === productId);
                    const maxIndex = product ? product.images.length - 1 : 0;
                    
                    if (state.currentIndex === 0 && diffX > 0) {
                        // Résistance au début
                        newTransform = initialTransform + (dragPercent * 0.3);
                    } else if (state.currentIndex === maxIndex && diffX < 0) {
                        // Résistance à la fin
                        newTransform = initialTransform + (dragPercent * 0.3);
                    }
                    
                    if (track) {
                        track.style.transform = `translateX(${newTransform}%)`;
                    }
                    
                    // Feedback visuel sur les indicateurs
                    updateDragIndicators(container, diffX, containerWidth);
                }
            }, { passive: false });
            
            container.addEventListener('touchend', (e) => {
                if (!isDragging || isAnimating) return;
                
                isDragging = false;
                container.classList.remove('dragging');
                
                // Réactiver la transition
                if (track) {
                    track.style.transition = 'transform 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94)';
                }
                
                if (!hasMoved) {
                    // Simple tap - revenir à la position normale
                    if (track) {
                        track.style.transform = `translateX(${initialTransform}%)`;
                    }
                    return;
                }
                
                const containerWidth = container.offsetWidth;
                const threshold = containerWidth * 0.25; // 25% de la largeur pour déclencher
                const velocity = Math.abs(dragDistance);
                
                // Décider si on change d'image
                let shouldChange = Math.abs(dragDistance) > threshold || velocity > 50;
                
                if (shouldChange) {
                    isAnimating = true;
                    
                    if (dragDistance > 0) {
                        // Swipe vers la droite - image précédente
                        previousImage(productId);
                    } else {
                        // Swipe vers la gauche - image suivante
                        nextImage(productId);
                    }
                    
                    // Feedback haptique
                    if (window.navigator && window.navigator.vibrate) {
                        window.navigator.vibrate(50);
                    }
                    
                    // Réinitialiser l'animation après la transition
                    setTimeout(() => {
                        isAnimating = false;
                    }, 300);
                } else {
                    // Revenir à la position actuelle
                    if (track) {
                        track.style.transform = `translateX(${initialTransform}%)`;
                    }
                }
                
                // Nettoyer les indicateurs
                cleanupDragIndicators(container);
            }, { passive: true });
            
            // Empêcher le comportement par défaut sur les boutons de navigation
            const navButtons = container.querySelectorAll('.carousel-nav');
            navButtons.forEach(button => {
                button.addEventListener('touchstart', (e) => {
                    e.stopPropagation();
                }, { passive: true });
                
                button.addEventListener('touchend', (e) => {
                    e.stopPropagation();
                    e.preventDefault();
                }, { passive: false });
            });
        }
        
        // Feedback visuel pendant le drag
        function updateDragIndicators(container, dragDistance, containerWidth) {
            const dots = container.querySelectorAll('.carousel-dot');
            const dragPercent = Math.abs(dragDistance) / containerWidth;
            
            dots.forEach((dot, index) => {
                const isActive = dot.classList.contains('active');
                
                if (isActive) {
                    // Réduire l'opacité du dot actuel pendant le drag
                    dot.style.opacity = Math.max(0.3, 1 - dragPercent * 2);
                } else {
                    // Augmenter l'opacité du prochain dot
                    const isNext = (dragDistance < 0 && index === getNextIndex(container)) ||
                                  (dragDistance > 0 && index === getPrevIndex(container));
                    
                    if (isNext) {
                        dot.style.opacity = Math.min(1, 0.3 + dragPercent * 2);
                    }
                }
            });
        }
        
        // Nettoyer les indicateurs après le drag
        function cleanupDragIndicators(container) {
            const dots = container.querySelectorAll('.carousel-dot');
            dots.forEach(dot => {
                dot.style.opacity = '';
            });
        }
        
        // Obtenir l'index suivant
        function getNextIndex(container) {
            const productId = parseInt(container.querySelector('.carousel-track').id.replace('carousel-', ''));
            const product = products.find(p => p.id === productId);
            const state = carouselStates[productId] || { currentIndex: 0 };
            
            if (!product) return 0;
            return (state.currentIndex + 1) % product.images.length;
        }
        
        // Obtenir l'index précédent
        function getPrevIndex(container) {
            const productId = parseInt(container.querySelector('.carousel-track').id.replace('carousel-', ''));
            const product = products.find(p => p.id === productId);
            const state = carouselStates[productId] || { currentIndex: 0 };
            
            if (!product) return 0;
            return (state.currentIndex - 1 + product.images.length) % product.images.length;
        }

        // Navigation du carousel - image précédente
        function previousImage(productId) {
            const product = products.find(p => p.id === productId);
            if (!product) return;
            
            const state = carouselStates[productId];
            if (!state) {
                carouselStates[productId] = { currentIndex: 0 };
            }
            
            state.currentIndex = (state.currentIndex - 1 + product.images.length) % product.images.length;
            updateCarousel(productId);
            
            // Feedback visuel pour mobile
            if (window.navigator && window.navigator.vibrate) {
                window.navigator.vibrate(50);
            }
        }

        // Navigation du carousel - image suivante
        function nextImage(productId) {
            const product = products.find(p => p.id === productId);
            if (!product) return;
            
            const state = carouselStates[productId];
            if (!state) {
                carouselStates[productId] = { currentIndex: 0 };
            }
            
            state.currentIndex = (state.currentIndex + 1) % product.images.length;
            updateCarousel(productId);
            
            // Feedback visuel pour mobile
            if (window.navigator && window.navigator.vibrate) {
                window.navigator.vibrate(50);
            }
        }

        // Aller à une image spécifique
        function goToImage(productId, index) {
            const state = carouselStates[productId];
            state.currentIndex = index;
            updateCarousel(productId);
        }

        // Mise à jour du carousel
        function updateCarousel(productId) {
            const track = document.getElementById(`carousel-${productId}`);
            const state = carouselStates[productId];
            
            if (track) {
                track.style.transform = `translateX(-${state.currentIndex * 100}%)`;
                
                // Mise à jour des indicateurs
                const container = track.closest('.carousel-container');
                const dots = container.querySelectorAll('.carousel-dot');
                dots.forEach((dot, index) => {
                    dot.classList.toggle('active', index === state.currentIndex);
                });
            }
        }

        // Ouverture du zoom d'image ou vidéo
        function openImageZoom(productId, startIndex = 0) {
            const product = products.find(p => p.id === productId);
            if (!product) return;
            
            // Mémoriser l'état d'ouverture des panneaux de recherche
            window.wasSearchOpen = false;
            window.wasMobileSearchOpen = false;
            try {
                const sr = document.getElementById('search-results');
                const msr = document.getElementById('mobile-search-results');
                window.wasSearchOpen = sr && !sr.classList.contains('hidden');
                window.wasMobileSearchOpen = msr && !msr.classList.contains('hidden');
            } catch(e) {}
            window.suppressHideSearchWhileZoomOpen = true;

            zoomState = { isOpen: true, productId, currentIndex: startIndex };
            
            const overlay = document.createElement('div');
            overlay.className = 'zoom-overlay';
            overlay.id = 'zoom-overlay';
            
            const currentMedia = product.images[startIndex];
            const mediaContent = isVideo(currentMedia) ? 
                `<video src="${currentMedia}" class="zoom-video" id="zoom-media" controls autoplay loop playsinline>
                    Votre navigateur ne supporte pas les vidéos HTML5.
                </video>` :
                `<img src="${currentMedia}" alt="${product.name}" class="zoom-image" id="zoom-media">`;
            
            overlay.innerHTML = `
                <div class="zoom-content" id="zoom-content">
                    ${mediaContent}
                    <button class="zoom-close" onclick="closeImageZoom()">
                        <i class="fas fa-times"></i>
                    </button>
                    
                    ${product.images.length > 1 ? `
                        <button class="zoom-nav zoom-prev" onclick="previousZoomImage()">
                            <i class="fas fa-chevron-left"></i>
                        </button>
                        <button class="zoom-nav zoom-next" onclick="nextZoomImage()">
                            <i class="fas fa-chevron-right"></i>
                        </button>
                        
                        <div class="zoom-indicator" id="zoom-indicator">
                            ${startIndex + 1} / ${product.images.length}
                            ${isVideo(currentMedia) ? ' <i class="fas fa-video ml-2"></i>' : ''}
                        </div>
                    ` : ''}
                </div>
            `;
            
            document.body.appendChild(overlay);
            document.body.style.overflow = 'hidden';
            
            // Ajouter la navigation tactile au zoom
            if (product.images.length > 1) {
                addZoomTouchNavigation(overlay);
            }
            
            // Fermeture en cliquant à l'extérieur
            overlay.addEventListener('click', function(e) {
                if (e.target === overlay) {
                    closeImageZoom();
                }
            });
            
            // Fermeture avec la touche Escape
            document.addEventListener('keydown', handleZoomKeydown);
        }

        // Fermeture du zoom
        function closeImageZoom() {
            const overlay = document.getElementById('zoom-overlay');
            if (overlay) {
                overlay.remove();
                document.body.style.overflow = 'auto';
                zoomState.isOpen = false;
                document.removeEventListener('keydown', handleZoomKeydown);
                // Restaurer le panneau de recherche si nécessaire
                setTimeout(() => {
                    try {
                        if (window.wasSearchOpen) {
                            const sr = document.getElementById('search-results');
                            if (sr) sr.classList.remove('hidden');
                        }
                        if (window.wasMobileSearchOpen) {
                            const msr = document.getElementById('mobile-search-results');
                            if (msr) msr.classList.remove('hidden');
                        }
                    } finally {
                        window.wasSearchOpen = false;
                        window.wasMobileSearchOpen = false;
                        window.suppressHideSearchWhileZoomOpen = false;
                    }
                }, 0);
            }
        }

        // Navigation dans le zoom - image précédente
        function previousZoomImage() {
            if (!zoomState.isOpen) return;
            
            const product = products.find(p => p.id === zoomState.productId);
            if (!product) return;
            
            zoomState.currentIndex = (zoomState.currentIndex - 1 + product.images.length) % product.images.length;
            updateZoomImage();
        }

        // Navigation dans le zoom - image suivante
        function nextZoomImage() {
            if (!zoomState.isOpen) return;
            
            const product = products.find(p => p.id === zoomState.productId);
            if (!product) return;
            
            zoomState.currentIndex = (zoomState.currentIndex + 1) % product.images.length;
            updateZoomImage();
        }

        // Navigation tactile pour le zoom - Version corrigée pour mobile
        function addZoomTouchNavigation(overlay) {
            let startX = 0;
            let startY = 0;
            let currentX = 0;
            let isDragging = false;
            let hasMoved = false;
            let dragDistance = 0;
            let isAnimating = false;
            let startTime = 0;
            let lastMoveTime = 0;
            let velocity = 0;
            let touchStarted = false;
            
            const zoomContent = overlay.querySelector('.zoom-content');
            let zoomMedia = overlay.querySelector('#zoom-media');
            
            // Configuration tactile optimisée pour mobile
            overlay.style.touchAction = 'manipulation';
            if (zoomContent) {
                zoomContent.style.touchAction = 'manipulation';
            }
            if (zoomMedia) {
                zoomMedia.style.touchAction = 'manipulation';
            }
            
            // Gestionnaire touchstart sur l'overlay entier
            overlay.addEventListener('touchstart', (e) => {
                // Récupérer l'élément média actuel
                zoomMedia = overlay.querySelector('#zoom-media');
                
                // Ignorer si animation en cours ou multi-touch
                if (isAnimating || e.touches.length > 1) return;
                
                // Ignorer si le touch commence sur un bouton ou vidéo en lecture
                if (e.target.closest('.zoom-close') || e.target.closest('.zoom-nav')) {
                    return;
                }
                
                touchStarted = true;
                startX = e.touches[0].clientX;
                startY = e.touches[0].clientY;
                currentX = startX;
                isDragging = false; // Ne pas commencer le drag immédiatement
                hasMoved = false;
                dragDistance = 0;
                startTime = Date.now();
                lastMoveTime = startTime;
                velocity = 0;
                
                // Préparer le média pour le drag potentiel
                if (zoomMedia) {
                    zoomMedia.style.willChange = 'transform, opacity';
                }
                
            }, { passive: true });
            
            // Gestionnaire touchmove
            overlay.addEventListener('touchmove', (e) => {
                if (!touchStarted || isAnimating || e.touches.length > 1) return;
                
                // Récupérer l'élément média actuel
                zoomMedia = overlay.querySelector('#zoom-media');
                
                const currentTime = Date.now();
                currentX = e.touches[0].clientX;
                const currentY = e.touches[0].clientY;
                const diffX = currentX - startX;
                const diffY = currentY - startY;
                const absDiffX = Math.abs(diffX);
                const absDiffY = Math.abs(diffY);
                
                // Calculer la vélocité
                const timeDiff = currentTime - lastMoveTime;
                if (timeDiff > 0) {
                    velocity = absDiffX / timeDiff;
                }
                lastMoveTime = currentTime;
                
                // Déterminer si c'est un mouvement horizontal significatif
                const isHorizontalSwipe = absDiffX > 15 && absDiffX > absDiffY * 1.5;
                
                if (isHorizontalSwipe && !isDragging) {
                    // Commencer le drag horizontal
                    isDragging = true;
                    overlay.classList.add('dragging');
                    
                    // Désactiver les transitions pendant le drag
                    if (zoomMedia) {
                        zoomMedia.style.transition = 'none';
                    }
                    
                    // Empêcher le scroll de la page
                    e.preventDefault();
                } else if (!isDragging && absDiffY > 15) {
                    // Mouvement vertical - permettre le comportement par défaut
                    return;
                }
                
                if (isDragging) {
                    // Empêcher le comportement par défaut pendant le drag horizontal
                    e.preventDefault();
                    
                    hasMoved = true;
                    dragDistance = diffX;
                    
                    // Calculer le pourcentage de déplacement
                    const overlayWidth = overlay.offsetWidth;
                    const dragPercent = (diffX / overlayWidth) * 100;
                    
                    // Appliquer la transformation en temps réel avec résistance améliorée
                    let newTransform = diffX;
                    let newOpacity = 1;
                    
                    // Ajouter une résistance progressive aux bords
                    const product = products.find(p => p.id === zoomState.productId);
                    const maxIndex = product ? product.images.length - 1 : 0;
                    
                    if (zoomState.currentIndex === 0 && diffX > 0) {
                        // Résistance au début avec courbe progressive
                        const resistance = Math.min(0.4, Math.abs(diffX) / overlayWidth);
                        newTransform = diffX * (0.3 - resistance * 0.2);
                        newOpacity = Math.max(0.6, 1 - resistance);
                    } else if (zoomState.currentIndex === maxIndex && diffX < 0) {
                        // Résistance à la fin avec courbe progressive
                        const resistance = Math.min(0.4, Math.abs(diffX) / overlayWidth);
                        newTransform = diffX * (0.3 - resistance * 0.2);
                        newOpacity = Math.max(0.6, 1 - resistance);
                    } else {
                        // Mouvement normal avec légère réduction d'opacité
                        const dragRatio = Math.min(0.3, Math.abs(dragPercent) / 100);
                        newOpacity = Math.max(0.7, 1 - dragRatio);
                    }
                    
                    if (zoomMedia) {
                        zoomMedia.style.transform = `translateX(${newTransform}px)`;
                        zoomMedia.style.opacity = newOpacity;
                    }
                    
                    // Feedback visuel amélioré sur l'indicateur
                    updateZoomDragIndicator(diffX, overlayWidth, velocity);
                }
            }, { passive: false });
            
            // Gestionnaire touchend
            overlay.addEventListener('touchend', (e) => {
                if (!touchStarted) return;
                
                // Récupérer l'élément média actuel
                zoomMedia = overlay.querySelector('#zoom-media');
                
                touchStarted = false;
                
                if (!isDragging || isAnimating) {
                    // Nettoyer si pas de drag
                    if (zoomMedia) {
                        zoomMedia.style.willChange = 'auto';
                    }
                    return;
                }
                
                isDragging = false;
                overlay.classList.remove('dragging');
                
                // Réactiver les transitions avec une courbe plus fluide
                if (zoomMedia) {
                    zoomMedia.style.transition = 'all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94)';
                    zoomMedia.style.willChange = 'auto';
                }
                
                if (!hasMoved) {
                    // Simple tap - revenir à la position normale
                    if (zoomMedia) {
                        zoomMedia.style.transform = '';
                        zoomMedia.style.opacity = '';
                    }
                    cleanupZoomDragIndicator();
                    return;
                }
                
                const overlayWidth = overlay.offsetWidth;
                const threshold = overlayWidth * 0.25; // 25% de la largeur pour déclencher
                const velocityThreshold = 0.5; // Seuil de vélocité pour un swipe rapide
                
                // Décider si on change d'image basé sur la distance ET la vélocité
                const distanceCondition = Math.abs(dragDistance) > threshold;
                const velocityCondition = velocity > velocityThreshold && Math.abs(dragDistance) > 30;
                const shouldChange = distanceCondition || velocityCondition;
                
                if (shouldChange) {
                    isAnimating = true;
                    
                    if (dragDistance > 0) {
                        // Swipe vers la droite - image précédente
                        previousZoomImage();
                        showZoomChangeNotification('← Image précédente');
                    } else {
                        // Swipe vers la gauche - image suivante
                        nextZoomImage();
                        showZoomChangeNotification('Image suivante →');
                    }
                    
                    // Feedback haptique adaptatif
                    if (window.navigator && window.navigator.vibrate) {
                        // Vibration plus forte pour un swipe rapide
                        const vibrationDuration = velocityCondition ? 100 : 50;
                        window.navigator.vibrate(vibrationDuration);
                    }
                    
                    // Réinitialiser l'animation après la transition
                    setTimeout(() => {
                        isAnimating = false;
                        zoomMedia = overlay.querySelector('#zoom-media');
                        if (zoomMedia) {
                            zoomMedia.style.transform = '';
                            zoomMedia.style.opacity = '';
                        }
                    }, 300);
                } else {
                    // Revenir à la position normale avec animation élastique
                    if (zoomMedia) {
                        zoomMedia.style.transition = 'all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55)';
                        zoomMedia.style.transform = '';
                        zoomMedia.style.opacity = '';
                        
                        // Remettre la transition normale après l'animation
                        setTimeout(() => {
                            zoomMedia = overlay.querySelector('#zoom-media');
                            if (zoomMedia) {
                                zoomMedia.style.transition = 'all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94)';
                            }
                        }, 400);
                    }
                }
                
                // Nettoyer l'indicateur
                setTimeout(() => {
                    cleanupZoomDragIndicator();
                }, 100);
            }, { passive: true });
            
            // Gestionnaire touchcancel pour nettoyer l'état
            overlay.addEventListener('touchcancel', (e) => {
                touchStarted = false;
                isDragging = false;
                overlay.classList.remove('dragging');
                
                zoomMedia = overlay.querySelector('#zoom-media');
                if (zoomMedia) {
                    zoomMedia.style.transition = 'all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94)';
                    zoomMedia.style.transform = '';
                    zoomMedia.style.opacity = '';
                    zoomMedia.style.willChange = 'auto';
                }
                
                cleanupZoomDragIndicator();
            }, { passive: true });
            
            // Gestion des gestes multi-touch
            overlay.addEventListener('touchstart', (e) => {
                if (e.touches.length > 1) {
                    touchStarted = false;
                    isDragging = false;
                    overlay.classList.remove('dragging');
                    zoomMedia = overlay.querySelector('#zoom-media');
                    if (zoomMedia) {
                        zoomMedia.style.transform = '';
                        zoomMedia.style.opacity = '';
                        zoomMedia.style.transition = 'all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94)';
                        zoomMedia.style.willChange = 'auto';
                    }
                    cleanupZoomDragIndicator();
                }
            }, { passive: true });
        }
        
        // Feedback visuel pendant le drag du zoom - Version améliorée
        function updateZoomDragIndicator(dragDistance, overlayWidth, velocity = 0) {
            const indicator = document.getElementById('zoom-indicator');
            if (!indicator) return;
            
            const dragPercent = Math.abs(dragDistance) / overlayWidth;
            const product = products.find(p => p.id === zoomState.productId);
            if (!product) return;
            
            // Animation de l'opacité basée sur le drag et la vélocité
            const baseOpacity = Math.max(0.4, 1 - dragPercent * 1.5);
            const velocityBoost = Math.min(0.3, velocity * 0.5);
            indicator.style.opacity = Math.min(1, baseOpacity + velocityBoost);
            
            // Échelle dynamique basée sur l'intensité du drag
            const scale = Math.max(0.9, 1 + dragPercent * 0.3);
            indicator.style.transform = `translateX(-50%) scale(${scale})`;
            
            // Feedback directionnel amélioré avec icônes et couleurs
            if (dragDistance > 0 && zoomState.currentIndex > 0) {
                // Vers la gauche (image précédente)
                const intensity = Math.min(1, dragPercent * 3);
                indicator.innerHTML = `
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <i class="fas fa-chevron-left" style="opacity: ${0.5 + intensity * 0.5}"></i>
                        <span>${zoomState.currentIndex} / ${product.images.length}</span>
                        <div style="width: 4px; height: 4px; background: currentColor; border-radius: 50%; opacity: ${intensity}"></div>
                    </div>
                `;
                indicator.style.color = '#10b981'; // Vert
                indicator.style.background = `rgba(16, 185, 129, ${0.1 + intensity * 0.2})`;
                indicator.style.borderColor = `rgba(16, 185, 129, ${0.3 + intensity * 0.4})`;
            } else if (dragDistance < 0 && zoomState.currentIndex < product.images.length - 1) {
                // Vers la droite (image suivante)
                const intensity = Math.min(1, dragPercent * 3);
                indicator.innerHTML = `
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <div style="width: 4px; height: 4px; background: currentColor; border-radius: 50%; opacity: ${intensity}"></div>
                        <span>${zoomState.currentIndex + 2} / ${product.images.length}</span>
                        <i class="fas fa-chevron-right" style="opacity: ${0.5 + intensity * 0.5}"></i>
                    </div>
                `;
                indicator.style.color = '#3b82f6'; // Bleu
                indicator.style.background = `rgba(59, 130, 246, ${0.1 + intensity * 0.2})`;
                indicator.style.borderColor = `rgba(59, 130, 246, ${0.3 + intensity * 0.4})`;
            } else {
                // Pas de changement possible - feedback de résistance
                const intensity = Math.min(1, dragPercent * 2);
                const direction = dragDistance > 0 ? 'left' : 'right';
                indicator.innerHTML = `
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <i class="fas fa-ban" style="opacity: ${0.5 + intensity * 0.5}"></i>
                        <span>${zoomState.currentIndex + 1} / ${product.images.length}</span>
                        <i class="fas fa-ban" style="opacity: ${0.5 + intensity * 0.5}"></i>
                    </div>
                `;
                indicator.style.color = '#ef4444'; // Rouge
                indicator.style.background = `rgba(239, 68, 68, ${0.1 + intensity * 0.2})`;
                indicator.style.borderColor = `rgba(239, 68, 68, ${0.3 + intensity * 0.4})`;
                
                // Animation de secousse pour indiquer la résistance
                if (intensity > 0.5) {
                    const shake = Math.sin(Date.now() * 0.02) * 2 * intensity;
                    indicator.style.transform = `translateX(calc(-50% + ${shake}px)) scale(${scale})`;
                }
            }
            
            // Effet de pulsation pour les swipes rapides
            if (velocity > 0.5) {
                indicator.style.boxShadow = `0 0 ${10 + velocity * 20}px rgba(255, 255, 255, 0.3)`;
            }
        }
        
        // Nettoyer l'indicateur après le drag du zoom
        function cleanupZoomDragIndicator() {
            const indicator = document.getElementById('zoom-indicator');
            if (!indicator) return;
            
            // Animation de retour à la normale
            indicator.style.transition = 'all 0.3s ease';
            indicator.style.opacity = '';
            indicator.style.color = '';
            indicator.style.background = '';
            indicator.style.borderColor = '';
            indicator.style.transform = 'translateX(-50%) scale(1)';
            indicator.style.boxShadow = '';
            
            // Remettre le texte normal
            const product = products.find(p => p.id === zoomState.productId);
            if (product) {
                indicator.innerHTML = `${zoomState.currentIndex + 1} / ${product.images.length}`;
            }
            
            // Supprimer la transition après l'animation
            setTimeout(() => {
                if (indicator) {
                    indicator.style.transition = '';
                }
            }, 300);
        }
        
        // Notification de changement d'image dans le zoom
        function showZoomChangeNotification(message) {
            // Créer une notification temporaire
            const notification = document.createElement('div');
            notification.className = 'fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-50 bg-black bg-opacity-80 text-white px-6 py-3 rounded-full font-semibold text-lg backdrop-blur-sm border border-white border-opacity-20';
            notification.style.pointerEvents = 'none';
            notification.innerHTML = `
                <div class="flex items-center space-x-2">
                    <span>${message}</span>
                </div>
            `;
            
            document.body.appendChild(notification);
            
            // Animation d'apparition
            notification.style.opacity = '0';
            notification.style.transform = 'translate(-50%, -50%) scale(0.8)';
            
            setTimeout(() => {
                notification.style.transition = 'all 0.2s ease-out';
                notification.style.opacity = '1';
                notification.style.transform = 'translate(-50%, -50%) scale(1)';
            }, 10);
            
            // Disparition automatique
            setTimeout(() => {
                notification.style.transition = 'all 0.2s ease-in';
                notification.style.opacity = '0';
                notification.style.transform = 'translate(-50%, -50%) scale(0.8)';
                
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.parentNode.removeChild(notification);
                    }
                }, 200);
            }, 1000);
        }

        // Mise à jour du média dans le zoom
        function updateZoomImage() {
            const product = products.find(p => p.id === zoomState.productId);
            if (!product) return;
            
            const currentMedia = product.images[zoomState.currentIndex];
            const zoomContent = document.getElementById('zoom-content');
            const indicator = document.getElementById('zoom-indicator');
            
            if (zoomContent) {
                // Créer le nouveau média (image ou vidéo)
                const mediaContent = isVideo(currentMedia) ? 
                    `<video src="${currentMedia}" class="zoom-video" id="zoom-media" controls autoplay loop playsinline>
                        Votre navigateur ne supporte pas les vidéos HTML5.
                    </video>` :
                    `<img src="${currentMedia}" alt="${product.name}" class="zoom-image" id="zoom-media">`;
                
                // Remplacer l'ancien média
                const oldMedia = document.getElementById('zoom-media');
                if (oldMedia) {
                    const temp = document.createElement('div');
                    temp.innerHTML = mediaContent;
                    const newMedia = temp.firstChild;
                    
                    // Réinitialiser les styles
                    newMedia.style.transform = '';
                    newMedia.style.opacity = '';
                    
                    oldMedia.parentNode.replaceChild(newMedia, oldMedia);
                }
            }
            
            if (indicator) {
                indicator.innerHTML = `${zoomState.currentIndex + 1} / ${product.images.length}
                    ${isVideo(currentMedia) ? '<i class="fas fa-video ml-2"></i>' : ''}`;
                indicator.style.color = '';
                indicator.style.opacity = '';
            }
        }

        // Gestion des touches du clavier pour le zoom
        function handleZoomKeydown(e) {
            if (!zoomState.isOpen) return;
            
            switch(e.key) {
                case 'Escape':
                    closeImageZoom();
                    break;
                case 'ArrowLeft':
                    e.preventDefault();
                    previousZoomImage();
                    break;
                case 'ArrowRight':
                    e.preventDefault();
                    nextZoomImage();
                    break;
            }
        }

        // Menu mobile
        function toggleMobileMenu() {
            const menu = document.getElementById('mobile-menu');
            const button = event.target.closest('button');
            const icon = button.querySelector('i');
            
            if (menu.classList.contains('hidden')) {
                menu.classList.remove('hidden');
                icon.classList.remove('fa-bars');
                icon.classList.add('fa-times');
            } else {
                menu.classList.add('hidden');
                icon.classList.remove('fa-times');
                icon.classList.add('fa-bars');
            }
        }
        
        function closeMobileMenu() {
            const menu = document.getElementById('mobile-menu');
            const button = document.querySelector('[onclick="toggleMobileMenu()"]');
            const icon = button.querySelector('i');
            
            menu.classList.add('hidden');
            icon.classList.remove('fa-times');
            icon.classList.add('fa-bars');
        }

        // Navigation fluide
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // ===== SYSTÈME DE RECHERCHE =====
        
        // Fonction de recherche principale
        function normalizeText(str) {
            try {
                return (str || '').toString().toLowerCase().normalize('NFD').replace(/\p{Diacritic}/gu, '').trim();
            } catch (e) {
                return (str || '').toString().toLowerCase().trim();
            }
        }
        function searchProducts(query) {
            if (!query || query.trim().length < 1) {
                return [];
            }
            const searchTerm = normalizeText(query);
            
            return products.filter(product => {
                const nameMatch = normalizeText(product.name).includes(searchTerm);
                const descMatch = normalizeText(product.description).includes(searchTerm);
                const categoryMatch = normalizeText(getCategoryName(product.category)).includes(searchTerm);
                const keywords = getProductKeywords(product);
                const keywordMatch = keywords.some(keyword => normalizeText(keyword).includes(searchTerm));
                
                return nameMatch || descMatch || categoryMatch || keywordMatch;
            });
        }
        
        // Mots-clés pour améliorer la recherche
        function getProductKeywords(product) {
            const keywordMap = {
                1: ['école', 'étudiant', 'cahier', 'stylo', 'crayon', 'fourniture'],
                2: ['math', 'mathématiques', 'calcul', 'exercice', 'cours'],
                3: ['jeu', 'enfant', 'logique', 'réflexion', 'puzzle'],
                4: ['calculatrice', 'scientifique', 'calcul', 'université'],
                5: ['écouteur', 'musique', 'audio', 'bluetooth', 'sans fil'],
                6: ['montre', 'smartwatch', 'connectée', 'sport', 'santé'],
                7: ['enceinte', 'haut-parleur', 'musique', 'portable', 'bluetooth'],
                8: ['chargeur', 'batterie', 'téléphone', 'sans fil', 'rapide'],
                9: ['chaussure', 'basket', 'sport', 'sneaker', 'mode'],
                10: ['sac', 'dos', 'école', 'travail', 'transport'],
                11: ['montre', 'temps', 'élégant', 'classique', 'accessoire'],
                12: ['lunettes', 'soleil', 'protection', 'UV', 'style'],
                13: ['tablette', 'numérique', 'apprentissage', 'interactif', 'enfant'],
                14: ['casque', 'gaming', 'jeu', 'audio', 'micro'],
                15: ['veste', 'vêtement', 'mode', 'style', 'tendance'],
                16: ['dessin', 'art', 'créativité', 'crayon', 'couleur'],
                17: ['powerbank', 'batterie', 'portable', 'chargeur', 'autonomie'],
                18: ['basket', 'sport', 'running', 'premium', 'performance'],
                19: ['microscope', 'science', 'observation', 'laboratoire', 'étude'],
                20: ['webcam', 'caméra', 'visio', 'streaming', 'HD']
            };
            
            return keywordMap[product.id] || [];
        }
        
        // Gestion de la recherche desktop
        function handleSearch() {
            const input = document.getElementById('search-input');
            const clearBtn = document.getElementById('clear-search');
            const query = input.value.trim();
            
            // Afficher/masquer le bouton de suppression
            if (query.length > 0) {
                clearBtn.classList.remove('hidden');
            } else {
                clearBtn.classList.add('hidden');
            }
            
            // Débounce pour éviter trop de requêtes
            clearTimeout(searchTimeout);
            searchTimeout = setTimeout(() => {
                performSearch(query, false);
            }, 150);
        }
        
        // Gestion de la recherche mobile
        function handleMobileSearch() {
            const input = document.getElementById('mobile-search-input');
            const clearBtn = document.getElementById('mobile-clear-search');
            const query = input.value.trim();
            
            // Afficher/masquer le bouton de suppression
            if (query.length > 0) {
                clearBtn.classList.remove('hidden');
            } else {
                clearBtn.classList.add('hidden');
            }
            
            // Débounce pour éviter trop de requêtes
            clearTimeout(searchTimeout);
            searchTimeout = setTimeout(() => {
                performSearch(query, true);
            }, 150);
        }
        
        // Exécution de la recherche
        function performSearch(query, isMobile = false) {
            const resultsContainer = isMobile ? 
                document.getElementById('mobile-search-content') : 
                document.getElementById('search-content');
            
            // Recherche dès la première lettre
            if (!query || query.length < 1) {
                resultsContainer.innerHTML = '';
                if (isMobile) {
                    document.getElementById('mobile-search-results').classList.add('hidden');
                }
                return;
            }
            
            const results = searchProducts(query);
            displaySearchResults(results, query, isMobile);
        }
        
        // Affichage des résultats de recherche - VERSION AMÉLIORÉE
        function displaySearchResults(results, query, isMobile = false) {
            const resultsContainer = isMobile ? 
                document.getElementById('mobile-search-content') : 
                document.getElementById('search-content');
            
            if (results.length === 0) {
                resultsContainer.innerHTML = `
                    <div class="p-6 text-center text-gray-500">
                        <div class="bg-gray-100 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4">
                            <i class="fas fa-search text-4xl text-gray-300"></i>
                        </div>
                        <p class="font-bold text-lg mb-2">Aucun produit trouvé</p>
                        <p class="text-sm">Essayez avec d'autres mots-clés</p>
                        <p class="text-xs mt-2 text-gray-400">Suggestions: fournitures, électronique, mode</p>
                    </div>
                `;
            } else {
                // Limiter à 5 résultats pour l'aperçu rapide
                const displayResults = results.slice(0, 5);
                
                resultsContainer.innerHTML = `
                    <div class="${isMobile ? 'p-2' : 'p-3'}">
                        <!-- En-tête des résultats -->
                        <div class="flex items-center justify-between mb-4 px-2">
                            <div class="flex items-center space-x-2">
                                <div class="bg-purple-100 p-2 rounded-lg">
                                    <i class="fas fa-search text-purple-600"></i>
                                </div>
                                <div>
                                    <p class="font-bold text-gray-800">${results.length} résultat${results.length > 1 ? 's' : ''}</p>
                                    <p class="text-xs text-gray-500">pour "${query}"</p>
                                </div>
                            </div>
                            ${results.length > 5 ? `
                                <button onclick="showAllResults('${query}', ${isMobile})" 
                                        class="text-purple-600 hover:text-purple-700 text-xs font-medium">
                                    Tout voir →
                                </button>
                            ` : ''}
                        </div>
                        
                        <!-- Filtres rapides par catégorie (si plusieurs catégories) -->
                        ${getSearchCategoryFilters(results, query, isMobile)}
                        
                        <!-- Liste de cartes produits - Style Amazon -->
                        <div class="flex flex-col gap-3">
                            ${displayResults.map(product => createSearchProductCard(product, query, isMobile)).join('')}
                        </div>
                        
                        <!-- Bouton voir tous les résultats -->
                        ${results.length > 5 ? `
                            <div class="mt-4 pt-3 border-t border-gray-200">
                                <button onclick="showAllResults('${query}', ${isMobile})" 
                                        class="w-full bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white py-3 px-4 rounded-xl font-bold transition-all transform active:scale-95 shadow-lg">
                                    <i class="fas fa-th mr-2"></i>
                                    Voir tous les ${results.length} résultats
                                </button>
                            </div>
                        ` : ''}
                    </div>
                `;
                
                // Ajouter les gestionnaires d'événements pour mobile après création du DOM
                if (isMobile) {
                    setTimeout(() => {
                        addMobileSearchEventListeners();
                    }, 100);
                }
            }
            
            // Afficher les résultats
            if (isMobile) {
                document.getElementById('mobile-search-results').classList.remove('hidden');
            } else {
                document.getElementById('search-results').classList.remove('hidden');
            }
        }
        
        // Créer des filtres rapides par catégorie pour les résultats de recherche
        function getSearchCategoryFilters(results, query, isMobile = false) {
            // Compter les produits par catégorie
            const categoryCounts = {};
            results.forEach(product => {
                categoryCounts[product.category] = (categoryCounts[product.category] || 0) + 1;
            });
            
            const categories = Object.keys(categoryCounts);
            
            // N'afficher les filtres que s'il y a plusieurs catégories
            if (categories.length <= 1) return '';
            
            return `
                <div class="mb-3 px-2">
                    <div class="flex flex-wrap gap-2">
                        ${categories.map(category => `
                            <button onclick="filterSearchResults('${category}', '${query}', ${isMobile})" 
                                    class="search-category-filter bg-${getCategoryColor(category)} bg-opacity-10 hover:bg-opacity-20 text-${getCategoryColor(category).replace('500', '700')} px-3 py-1.5 rounded-full text-xs font-semibold transition-all border border-${getCategoryColor(category)} border-opacity-30">
                                <i class="fas fa-${category === 'educatif' ? 'graduation-cap' : category === 'electronique' ? 'laptop' : 'tshirt'} mr-1"></i>
                                ${getCategoryName(category)} (${categoryCounts[category]})
                            </button>
                        `).join('')}
                    </div>
                </div>
            `;
        }
        
        // Filtrer les résultats de recherche par catégorie
        function filterSearchResults(category, query, isMobile = false) {
            const results = searchProducts(query).filter(p => p.category === category);
            displaySearchResults(results, query, isMobile);
        }
        
        // Créer une carte produit pour les résultats de recherche - COMPACTE
        function createSearchProductCard(product, query, isMobile = false) {
            const rating = (4.2 + Math.random() * 0.8).toFixed(1);
            const reviewCount = Math.floor(Math.random() * 100) + 15;
            const discount = Math.random() > 0.6 ? Math.floor(Math.random() * 30) + 10 : 0;
            const originalPrice = discount > 0 ? Math.floor(product.price / (1 - discount / 100)) : product.price;
            const imageSrc = getProductMainImage(product);
            const inStock = (product.stock == null || product.stock > 0);

            return `
                <div class="search-result-item flex items-center gap-3 p-3 rounded-xl border border-gray-100 bg-white hover:bg-gray-50 transition-all">
                    <!-- Vignette -->
                    <div class="w-20 h-20 sm:w-24 sm:h-24 rounded-lg overflow-hidden bg-gray-100 flex-shrink-0">
                        <img src="${imageSrc}" alt="${product.name}" class="w-full h-full object-cover" onerror="this.src='${IMAGE_BASE_URL}/placeholder.png'; this.alt='Image non disponible';">
                    </div>

                    <!-- Infos -->
                    <div class="flex-1 min-w-0">
                        <div class="flex items-center gap-2 mb-1">
                            <span class="text-[10px] sm:text-xs px-2 py-0.5 rounded-full bg-${getCategoryColor(product.category)} bg-opacity-10 text-${getCategoryColor(product.category).replace('500','700')} border border-${getCategoryColor(product.category)} border-opacity-30">
                                ${getCategoryName(product.category)}
                            </span>
                            <span class="text-[10px] sm:text-xs px-2 py-0.5 rounded-full ${inStock ? 'bg-green-100 text-green-700 border border-green-200' : 'bg-red-100 text-red-700 border border-red-200'}">
                                ${inStock ? 'En stock' : 'Indisponible'}
                            </span>
                        </div>
                        <h3 class="text-sm sm:text-base font-semibold text-gray-900 leading-snug line-clamp-2">
                            ${highlightSearchTerm(product.name, query)}
                        </h3>
                        <p class="text-xs text-gray-600 line-clamp-1 mt-1">
                            ${highlightSearchTerm(product.description, query)}
                        </p>
                        <div class="flex items-center gap-3 mt-2">
                            <div class="flex items-baseline gap-2">
                                <span class="text-lg sm:text-xl font-extrabold text-purple-600">${product.price.toLocaleString()} FCFA</span>
                                ${discount > 0 ? `<span class="text-xs text-gray-400 line-through">${originalPrice.toLocaleString()} FCFA</span>` : ''}
                            </div>
                            <div class="hidden sm:flex items-center text-xs text-gray-600">
                                <i class="fas fa-star text-yellow-400 mr-1"></i>${rating} · ${reviewCount}
                            </div>
                        </div>
                    </div>

                    <!-- Actions -->
                    <div class="flex flex-col sm:flex-row items-stretch sm:items-center gap-2">
                        <button onclick="addToCartFromSearch(${product.id}, ${isMobile}); event.stopPropagation();" class="bg-purple-600 hover:bg-purple-700 text-white px-3 py-2 rounded-lg text-xs font-semibold">
                            <i class="fas fa-cart-plus mr-1"></i> Ajouter
                        </button>
                        <button onclick="quickView(${product.id})" class="bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-2 rounded-lg text-xs font-semibold">
                            <i class="fas fa-eye mr-1"></i> Voir
                        </button>
                    </div>
                </div>
            `;
        }
        
        // Surligner les termes de recherche - VERSION AMÉLIORÉE
        function highlightSearchTerm(text, term) {
            if (!term || term.length < 1) return text;
            
            // Échapper les caractères spéciaux regex
            const escapedTerm = term.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
            const regex = new RegExp(`(${escapedTerm})`, 'gi');
            return text.replace(regex, '<mark class="bg-yellow-200 px-1 rounded">$1</mark>');
        }
        
        // Afficher un indicateur de chargement pendant la recherche
        function showSearchLoading(isMobile = false) {
            const resultsContainer = isMobile ? 
                document.getElementById('mobile-search-content') : 
                document.getElementById('search-content');
            
            resultsContainer.innerHTML = `
                <div class="p-8 text-center">
                    <div class="inline-block animate-spin rounded-full h-12 w-12 border-4 border-purple-200 border-t-purple-600 mb-4"></div>
                    <p class="text-gray-600 font-medium">Recherche en cours...</p>
                </div>
            `;
        }
        
        // Gestionnaire de touch pour les résultats de recherche mobile
        function handleSearchResultTouch(element, isStart) {
            if (isStart) {
                element.style.transform = 'scale(0.98)';
                element.style.backgroundColor = '#f3e8ff';
                element.style.borderColor = '#a855f7';
            } else {
                element.style.transform = 'scale(1)';
                element.style.backgroundColor = '';
                element.style.borderColor = '';
            }
        }
        






        // let searchTimeout;




        // Gestionnaires d'événements pour mobile
        function addMobileSearchEventListeners() {
            const searchItems = document.querySelectorAll('.search-result-item[data-is-mobile="true"]');
            
            searchItems.forEach(item => {
                let touchStartTime = 0;
                let touchStartY = 0;
                let touchStartX = 0;
                let hasMoved = false;
                
                // Gestionnaire touchstart
                item.addEventListener('touchstart', function(e) {
                    touchStartTime = Date.now();
                    touchStartY = e.touches[0].clientY;
                    touchStartX = e.touches[0].clientX;
                    hasMoved = false;
                    
                    // Feedback visuel immédiat
                    this.style.transform = 'scale(0.98)';
                    this.style.backgroundColor = '#f3e8ff';
                    this.style.borderColor = '#a855f7';
                    this.style.boxShadow = '0 4px 12px rgba(168, 85, 247, 0.15)';
                }, { passive: true });
                
                // Gestionnaire touchmove
                item.addEventListener('touchmove', function(e) {
                    const currentY = e.touches[0].clientY;
                    const currentX = e.touches[0].clientX;
                    const diffY = Math.abs(currentY - touchStartY);
                    const diffX = Math.abs(currentX - touchStartX);
                    
                    // Si le mouvement est significatif, annuler le clic
                    if (diffY > 10 || diffX > 10) {
                        hasMoved = true;
                        // Retirer le feedback visuel
                        this.style.transform = '';
                        this.style.backgroundColor = '';
                        this.style.borderColor = '';
                        this.style.boxShadow = '';
                    }
                }, { passive: true });
                
                // Gestionnaire touchend
                item.addEventListener('touchend', function(e) {
                    const touchDuration = Date.now() - touchStartTime;
                    
                    // Retirer le feedback visuel avec animation
                    this.style.transition = 'all 0.2s ease';
                    this.style.transform = '';
                    this.style.backgroundColor = '';
                    this.style.borderColor = '';
                    this.style.boxShadow = '';
                    
                    // Remettre la transition normale après l'animation
                    setTimeout(() => {
                        this.style.transition = '';
                    }, 200);
                    
                    // Si c'est un tap rapide et sans mouvement, déclencher l'action
                    if (!hasMoved && touchDuration < 500) {
                        e.preventDefault();
                        const productId = parseInt(this.dataset.productId);
                        
                        // Feedback haptique
                        if (window.navigator && window.navigator.vibrate) {
                            window.navigator.vibrate(50);
                        }
                        
                        // Déclencher la sélection avec un petit délai pour l'animation
                        setTimeout(() => {
                            selectSearchResult(productId, true);
                        }, 100);
                    }
                }, { passive: false });
                
                // Gestionnaire touchcancel
                item.addEventListener('touchcancel', function(e) {
                    // Nettoyer le feedback visuel
                    this.style.transform = '';
                    this.style.backgroundColor = '';
                    this.style.borderColor = '';
                    this.style.boxShadow = '';
                }, { passive: true });
            });
        }
        
        // Ajouter au panier depuis la recherche avec gestion des variantes
        function addToCartFromSearch(productId, isMobile = false) {
            const product = products.find(p => p.id === productId);
            if (product && ((product.sizes && product.sizes.length) || (product.colors && product.colors.length))) {
                // Ouvrir le sélecteur taille/couleur si variantes
                openOptionModal(productId);
                return;
            }
            // Sinon ajouter directement
            addToCart(productId);
            
            // Animation du bouton (utiliser window.event pour compatibilité)
            const button = window.event ? window.event.target.closest('button') : null;
            if (button) {
                // Sauvegarder les styles originaux
                const originalBg = button.style.backgroundColor;
                const originalText = button.innerHTML;
                
                // Animation de succès
                button.style.transform = 'scale(1.05)';
                button.style.backgroundColor = '#10b981';
                button.innerHTML = '<i class="fas fa-check mr-1"></i>Ajouté !';
                
                // Feedback haptique
                if (window.navigator && window.navigator.vibrate) {
                    window.navigator.vibrate([50, 30, 50]);
                }
                
                // Retour à la normale après 1 seconde
                setTimeout(() => {
                    button.style.transform = '';
                    button.style.backgroundColor = originalBg;
                    button.innerHTML = originalText;
                }, 1000);
            }
            
            // Notification
            if (isMobile) {
                showMobileNotification('✅ Produit ajouté au panier !', 'success');
            } else {
                showNotification('✅ Produit ajouté au panier !', 'success');
            }
        }
        
        // Notification optimisée pour mobile
        function showMobileNotification(message, type = 'success') {
            const notification = document.createElement('div');
            notification.className = `fixed top-20 left-1/2 transform -translate-x-1/2 z-50 px-6 py-4 rounded-xl shadow-2xl text-white font-bold text-lg ${
                type === 'success' ? 'bg-green-500' : 'bg-red-500'
            } border-2 border-white`;
            
            notification.innerHTML = `
                <div class="flex items-center space-x-3">
                    <i class="fas fa-${type === 'success' ? 'check-circle' : 'exclamation-circle'} text-2xl"></i>
                    <span>${message}</span>
                </div>
            `;
            
            notification.style.opacity = '0';
            notification.style.transform = 'translate(-50%, -20px) scale(0.8)';
            
            document.body.appendChild(notification);
            
            // Animation d'entrée
            setTimeout(() => {
                notification.style.transition = 'all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55)';
                notification.style.opacity = '1';
                notification.style.transform = 'translate(-50%, 0) scale(1)';
            }, 10);
            
            // Animation de sortie
            setTimeout(() => {
                notification.style.transition = 'all 0.3s ease-in';
                notification.style.opacity = '0';
                notification.style.transform = 'translate(-50%, -20px) scale(0.8)';
                
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.parentNode.removeChild(notification);
                    }
                }, 300);
            }, 2500);
        }
        
        // Sélection d'un résultat de recherche
        function selectSearchResult(productId, isMobile = false) {
            // Fermer les résultats de recherche
            hideSearchResults(isMobile);
            
            // Fermer le menu mobile si ouvert
            if (isMobile) {
                closeMobileMenu();
            }
            
            // Ouvrir directement le zoom de l'image du produit
            const product = products.find(p => p.id === productId);
            if (product) {
                // Ouvrir le zoom immédiatement
                openImageZoom(productId, 0);
                
                // Notification pour mobile
                if (isMobile) {
                    showMobileNotification(`🔍 ${product.name} - Zoom ouvert !`, 'success');
                } else {
                    showNotification(`🔍 Zoom ouvert pour ${product.name}`, 'success');
                }
            }
        }
        
        // Mettre en évidence un produit
        function highlightProduct(productId) {
            // Trouver la carte du produit
            const productCards = document.querySelectorAll('.product-card');
            productCards.forEach((card, index) => {
                const product = products.find(p => p.id === productId);
                if (product) {
                    const productIndex = products.indexOf(product);
                    if (index === productIndex) {
                        // Animation de mise en évidence
                        card.style.transform = 'scale(1.05)';
                        card.style.boxShadow = '0 25px 50px rgba(147, 51, 234, 0.3)';
                        card.style.border = '3px solid #9333ea';
                        
                        // Retour à la normale après 3 secondes
                        setTimeout(() => {
                            card.style.transform = '';
                            card.style.boxShadow = '';
                            card.style.border = '';
                        }, 3000);
                    }
                }
            });
        }
        
        // Afficher tous les résultats - VERSION AMÉLIORÉE
        function showAllResults(query, isMobile = false) {
            hideSearchResults(isMobile);
            
            // Filtrer les produits et les afficher
            let results = searchProducts(query);
            
            // Appliquer le tri actuel aux résultats de recherche
            results = sortProductsArray(results, currentSort);
            
            const grid = document.getElementById('products-grid');
            
            // Réinitialiser les filtres
            currentFilter = 'search';
            document.querySelectorAll('.category-btn').forEach(btn => {
                btn.classList.remove('active', 'bg-purple-600');
            });
            
            // Afficher les résultats
            if (results.length > 0) {
                grid.innerHTML = results.map(product => createProductCard(product)).join('');
                
                // Initialiser les carousels
                results.forEach(product => {
                    initializeCarousel(product.id);
                });
                
                // Créer un en-tête de résultats de recherche amélioré
                const loadMoreContainer = document.getElementById('load-more-container');
                if (loadMoreContainer) {
                    // Compter les catégories
                    const categoryCounts = {};
                    results.forEach(product => {
                        categoryCounts[product.category] = (categoryCounts[product.category] || 0) + 1;
                    });
                    
                    loadMoreContainer.innerHTML = `
                        <div class="bg-gradient-to-r from-purple-50 to-blue-50 rounded-2xl p-6 shadow-lg border border-purple-100">
                            <!-- En-tête -->
                            <div class="text-center mb-4">
                                <div class="inline-flex items-center space-x-3 bg-white px-6 py-3 rounded-full shadow-md mb-3">
                                    <i class="fas fa-search text-purple-600 text-xl"></i>
                                    <span class="font-bold text-gray-800 text-lg">Résultats de recherche</span>
                                </div>
                                <p class="text-gray-700 font-semibold text-xl">
                                    ✨ ${results.length} produit${results.length > 1 ? 's' : ''} trouvé${results.length > 1 ? 's' : ''} pour 
                                    <span class="text-purple-600">"${query}"</span>
                                </p>
                            </div>
                            
                            <!-- Statistiques par catégorie -->
                            <div class="flex flex-wrap justify-center gap-3 mb-4">
                                ${Object.keys(categoryCounts).map(category => `
                                    <div class="bg-white px-4 py-2 rounded-full shadow-md border border-${getCategoryColor(category)} border-opacity-30">
                                        <i class="fas fa-${category === 'educatif' ? 'graduation-cap' : category === 'electronique' ? 'laptop' : 'tshirt'} text-${getCategoryColor(category)} mr-2"></i>
                                        <span class="font-semibold text-gray-700">${getCategoryName(category)}: </span>
                                        <span class="font-bold text-${getCategoryColor(category)}">${categoryCounts[category]}</span>
                                    </div>
                                `).join('')}
                            </div>
                            
                            <!-- Boutons d'action -->
                            <div class="flex flex-wrap justify-center gap-3">
                                <button onclick="clearSearch(); clearMobileSearch()" 
                                        class="bg-white hover:bg-gray-50 text-gray-700 px-6 py-3 rounded-xl font-bold transition-all shadow-md hover:shadow-lg transform hover:scale-105">
                                    <i class="fas fa-times mr-2"></i>
                                    Effacer la recherche
                                </button>
                                <button onclick="window.scrollTo({top: 0, behavior: 'smooth'})" 
                                        class="bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-xl font-bold transition-all shadow-md hover:shadow-lg transform hover:scale-105">
                                    <i class="fas fa-arrow-up mr-2"></i>
                                    Retour en haut
                                </button>
                            </div>
                        </div>
                    `;
                }
                
                // Faire défiler vers les produits
                document.getElementById('produits').scrollIntoView({ behavior: 'smooth' });
                
                // Afficher un message de résultats avec animation
                showNotification(`🎉 ${results.length} produit${results.length > 1 ? 's' : ''} trouvé${results.length > 1 ? 's' : ''} pour "${query}"`, 'success');
            }
        }
        
        // Créer une carte de produit (fonction utilitaire) - Style Application Mobile
        function createProductCard(product) {
            const isPopular = Math.random() > 0.6;
            const rating = (4.2 + Math.random() * 0.8).toFixed(1);
            const reviewCount = Math.floor(Math.random() * 100) + 15;
            
            return `
                <div class="product-card bg-white rounded-2xl shadow-sm hover:shadow-2xl overflow-hidden flex flex-col h-full border border-gray-100 transition-all duration-300 hover:scale-[1.03] hover:-translate-y-1 group">
                    <!-- Image Container - Style App Mobile -->
                    <div class="relative carousel-container h-36 sm:h-40 flex-shrink-0 bg-gradient-to-br from-gray-50 to-gray-100">
                        <div class="carousel-track" id="carousel-${product.id}">
                            ${product.images.map((media, index) => 
                                createMediaElement(media, index, product.name, product.id, `quickView(${product.id})`)
                            ).join('')}
                        </div>
                        
                        ${product.images.length > 1 ? `
                            <button class="carousel-nav carousel-prev opacity-0 group-hover:opacity-100" 
                                    onclick="previousImage(${product.id})" 
                                    ontouchend="event.preventDefault(); previousImage(${product.id})">
                                <i class="fas fa-chevron-left"></i>
                            </button>
                            <button class="carousel-nav carousel-next opacity-0 group-hover:opacity-100" 
                                    onclick="nextImage(${product.id})"
                                    ontouchend="event.preventDefault(); nextImage(${product.id})">
                                <i class="fas fa-chevron-right"></i>
                            </button>
                            
                            <div class="carousel-indicators opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                                ${product.images.map((_, index) => `
                                    <div class="carousel-dot ${index === 0 ? 'active' : ''}" 
                                         onclick="goToImage(${product.id}, ${index})"></div>
                                `).join('')}
                            </div>
                        ` : ''}
                        
                        <!-- Badge catégorie - Style App -->
                        <div class="absolute top-2 left-2">
                            <span class="bg-${getCategoryColor(product.category)} text-white px-2 py-1 rounded-lg text-xs font-bold shadow-md backdrop-blur-sm border border-white border-opacity-20">
                                ${getCategoryName(product.category)}
                            </span>
                        </div>
                        
                        <!-- Actions flottantes - Style App -->
                        <div class="absolute top-2 right-2 flex flex-col space-y-1">
                            <!-- Bouton favoris -->
                            <button onclick="toggleFavorite(${product.id})" 
                                    class="bg-white bg-opacity-95 backdrop-blur-sm text-gray-600 hover:text-red-500 p-2 rounded-lg hover:bg-opacity-100 transition-all shadow-md hover:scale-110 hover:shadow-lg">
                                <i class="fas fa-heart text-xs"></i>
                            </button>
                            
                            <!-- Bouton partage -->
                            <button onclick="shareProduct(${product.id})" 
                                    class="bg-white bg-opacity-95 backdrop-blur-sm text-gray-600 hover:text-blue-500 p-2 rounded-lg hover:bg-opacity-100 transition-all shadow-md hover:scale-110 hover:shadow-lg opacity-0 group-hover:opacity-100">
                                <i class="fas fa-share text-xs"></i>
                            </button>
                        </div>
                        
                        <!-- Badge populaire -->
                        ${isPopular ? `
                            <div class="absolute top-2 left-1/2 transform -translate-x-1/2">
                                <div class="bg-gradient-to-r from-orange-500 to-red-500 text-white px-2 py-1 rounded-full text-xs font-bold shadow-lg animate-pulse">
                                    🔥 Tendance
                                </div>
                            </div>
                        ` : ''}
                        
                        <!-- Indicateur multi-images -->
                        ${product.images.length > 1 ? `
                            <div class="absolute bottom-2 left-2">
                                <div class="bg-black bg-opacity-80 backdrop-blur-sm text-white px-2 py-1 rounded-lg text-xs font-medium flex items-center">
                                    <i class="fas fa-images mr-1"></i>${product.images.length}
                                </div>
                            </div>
                        ` : ''}
                        
                        <!-- Bouton zoom -->
                        <div class="absolute bottom-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                            <button onclick="openImageZoom(${product.id}, 0)" 
                                    class="bg-black bg-opacity-80 backdrop-blur-sm text-white p-2 rounded-lg hover:bg-opacity-100 transition-all shadow-lg hover:scale-110">
                                <i class="fas fa-expand text-xs"></i>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Contenu - Style App Mobile Compact -->
                    <div class="p-3 flex flex-col flex-grow">
                        <!-- Nom du produit -->
                        <h3 class="text-sm sm:text-base font-bold text-gray-900 leading-tight mb-2 line-clamp-2 min-h-[2.5rem] flex items-start">
                            ${product.name}
                        </h3>
                        
                        <!-- Prix et rating sur la même ligne -->
                        <div class="flex items-center justify-between mb-2">
                            <div class="flex flex-col">
                                <div class="text-lg sm:text-xl font-black text-purple-600">${product.price.toLocaleString()}</div>
                                <div class="text-xs text-gray-500 font-medium -mt-1">FCFA</div>
                            </div>
                            
                            <div class="flex items-center space-x-1 bg-yellow-50 px-2 py-1 rounded-lg">
                                <i class="fas fa-star text-yellow-400 text-xs"></i>
                                <span class="text-xs font-bold text-gray-700">${rating}</span>
                                <span class="text-xs text-gray-500">(${reviewCount})</span>
                            </div>
                        </div>
                        
                        <!-- Description compacte -->
                        <p class="text-gray-600 text-xs sm:text-sm mb-3 line-clamp-2 leading-relaxed flex-grow">
                            ${product.description}
                        </p>
                        
                        <!-- Actions - Style App Mobile -->
                        <div class="flex items-center space-x-2 mt-auto">
                            <!-- Bouton principal - Plus large -->
                            <button onclick="${(product.sizes && product.sizes.length) || (product.colors && product.colors.length) ? `openOptionModal(${product.id})` : `addToCart(${product.id})`}" 
                                    class="flex-1 bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white py-2.5 px-3 rounded-xl font-bold text-xs sm:text-sm transition-all transform active:scale-95 shadow-lg hover:shadow-xl flex items-center justify-center">
                                <i class="fas fa-cart-plus mr-1.5 text-sm"></i>
                                <span class="hidden sm:inline">Ajouter</span>
                                <span class="sm:hidden">+</span>
                            </button>
                            
                            <!-- Bouton vue rapide -->
                            <button onclick="quickView(${product.id})" 
                                    class="bg-gray-100 hover:bg-gray-200 text-gray-700 p-2.5 rounded-xl transition-all transform active:scale-95 shadow-md hover:shadow-lg">
                                <i class="fas fa-eye text-sm"></i>
                            </button>
                        </div>
                        
                        <!-- Barre de progression ou indicateur de stock (optionnel) -->
                        ${Math.random() > 0.7 ? `
                            <div class="mt-2 pt-2 border-t border-gray-100">
                                <div class="flex items-center justify-between text-xs">
                                    <span class="text-gray-500">Stock limité</span>
                                    <span class="text-orange-600 font-bold">${Math.floor(Math.random() * 10) + 3} restants</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-1.5 mt-1">
                                    <div class="bg-gradient-to-r from-orange-400 to-red-500 h-1.5 rounded-full" style="width: ${Math.floor(Math.random() * 40) + 20}%"></div>
                                </div>
                            </div>
                        ` : ''}
                    </div>
                    
                    <!-- Effet de survol - Bordure colorée -->
                    <div class="absolute inset-0 rounded-2xl border-2 border-transparent group-hover:border-purple-200 transition-all duration-300 pointer-events-none"></div>
                </div>
            `;
        }
        
        // Gestion de l'affichage des résultats
        function showSearchResults() {
            isSearchFocused = true;
            const results = document.getElementById('search-results');
            const input = document.getElementById('search-input');
            
            if (input.value.trim().length >= 1) {
                results.classList.remove('hidden');
            }
        }
        
        function hideSearchResults(isMobile = false) {
            setTimeout(() => {
                if (!isSearchFocused) {
                    if (isMobile) {
                        document.getElementById('mobile-search-results').classList.add('hidden');
                    } else {
                        document.getElementById('search-results').classList.add('hidden');
                    }
                }
            }, 200);
        }
        
        function showMobileSearchResults() {
            isSearchFocused = true;
            const results = document.getElementById('mobile-search-results');
            const input = document.getElementById('mobile-search-input');
            
            if (input.value.trim().length >= 1) {
                results.classList.remove('hidden');
            }
        }
        
        function hideMobileSearchResults() {
            setTimeout(() => {
                if (!isSearchFocused) {
                    document.getElementById('mobile-search-results').classList.add('hidden');
                }
            }, 200);
        }
        
        // Effacer la recherche
        function clearSearch() {
            const input = document.getElementById('search-input');
            const clearBtn = document.getElementById('clear-search');
            const results = document.getElementById('search-results');
            
            input.value = '';
            clearBtn.classList.add('hidden');
            results.classList.add('hidden');
            input.focus();
            
            // Réafficher tous les produits si on était en mode recherche
            if (currentFilter === 'search') {
                currentFilter = 'all';
                displayProducts();
                
                // Réactiver le bouton "Tous les produits"
                document.querySelectorAll('.category-btn').forEach(btn => {
                    btn.classList.remove('active', 'bg-purple-600');
                });
                document.querySelector('.category-btn').classList.add('active', 'bg-purple-600');
            }
        }
        
        function clearMobileSearch() {
            const input = document.getElementById('mobile-search-input');
            const clearBtn = document.getElementById('mobile-clear-search');
            const results = document.getElementById('mobile-search-results');
            
            input.value = '';
            clearBtn.classList.add('hidden');
            results.classList.add('hidden');
            input.focus();
            
            // Réafficher tous les produits si on était en mode recherche
            if (currentFilter === 'search') {
                currentFilter = 'all';
                displayProducts();
                
                // Réactiver le bouton "Tous les produits"
                document.querySelectorAll('.category-btn').forEach(btn => {
                    btn.classList.remove('active', 'bg-purple-600');
                });
                document.querySelector('.category-btn').classList.add('active', 'bg-purple-600');
            }
        }
        
        // Gestion des événements de focus/blur
        document.addEventListener('click', function(e) {
            if (window.suppressHideSearchWhileZoomOpen) return;
            const searchContainer = e.target.closest('#search-results') || e.target.closest('.relative');
            const mobileSearchContainer = e.target.closest('#mobile-search-results') || e.target.closest('#mobile-menu');
            
            if (!searchContainer) {
                isSearchFocused = false;
                document.getElementById('search-results').classList.add('hidden');
            }
            
            if (!mobileSearchContainer) {
                isSearchFocused = false;
                document.getElementById('mobile-search-results').classList.add('hidden');
            }
        });
        
        // Gestion spéciale des événements tactiles pour mobile
        document.addEventListener('touchstart', function(e) {
            if (window.suppressHideSearchWhileZoomOpen) return;
            const searchContainer = e.target.closest('#search-results') || e.target.closest('.relative');
            const mobileSearchContainer = e.target.closest('#mobile-search-results') || e.target.closest('#mobile-menu');
            
            // Si on touche en dehors des résultats de recherche, les fermer
            if (!searchContainer && !mobileSearchContainer) {
                // Délai pour permettre aux interactions en cours de se terminer
                setTimeout(() => {
                    isSearchFocused = false;
                    document.getElementById('search-results').classList.add('hidden');
                    document.getElementById('mobile-search-results').classList.add('hidden');
                }, 100);
            }
        }, { passive: true });
        
        // Raccourcis clavier pour la recherche
        document.addEventListener('keydown', function(e) {
            // Ctrl/Cmd + K pour ouvrir la recherche
            if ((e.ctrlKey || e.metaKey) && e.key === 'k') {
                e.preventDefault();
                const searchInput = document.getElementById('search-input');
                if (searchInput && !searchInput.closest('.hidden')) {
                    searchInput.focus();
                    searchInput.select();
                }
            }
            
            // Échap pour fermer la recherche
            if (e.key === 'Escape') {
                document.getElementById('search-results').classList.add('hidden');
                document.getElementById('mobile-search-results').classList.add('hidden');
                isSearchFocused = false;
            }
        });

        // Entrée pour lancer la recherche sur desktop et mobile
        (function(){
            const desktopInput = document.getElementById('search-input');
            const mobileInput = document.getElementById('mobile-search-input');
            if (desktopInput) {
                desktopInput.addEventListener('keydown', function(e){
                    if (e.key === 'Enter') {
                        e.preventDefault();
                        const q = desktopInput.value.trim();
                        performSearch(q, false);
                        document.getElementById('search-results').classList.remove('hidden');
                    }
                });
            }
            if (mobileInput) {
                mobileInput.addEventListener('keydown', function(e){
                    if (e.key === 'Enter') {
                        e.preventDefault();
                        const q = mobileInput.value.trim();
                        performSearch(q, true);
                        document.getElementById('mobile-search-results').classList.remove('hidden');
                    }
                });
            }
        })();

        // ===== NOUVELLES FONCTIONS POUR LES CARTES STYLE APP =====
        
        // Système de favoris
        let favorites = JSON.parse(localStorage.getItem('favorites') || '[]');
        
        function toggleFavorite(productId) {
            const index = favorites.indexOf(productId);
            const button = event.target.closest('button');
            const icon = button.querySelector('i');
            
            if (index === -1) {
                // Ajouter aux favoris
                favorites.push(productId);
                icon.classList.remove('far');
                icon.classList.add('fas', 'text-red-500');
                button.classList.add('text-red-500');
                
                // Animation de cœur
                icon.style.transform = 'scale(1.3)';
                setTimeout(() => {
                    icon.style.transform = 'scale(1)';
                }, 200);
                
                // Feedback haptique
                if (window.navigator && window.navigator.vibrate) {
                    window.navigator.vibrate(50);
                }
                
                showNotification('❤️ Ajouté aux favoris !', 'success');
            } else {
                // Retirer des favoris
                favorites.splice(index, 1);
                icon.classList.remove('fas', 'text-red-500');
                icon.classList.add('far');
                button.classList.remove('text-red-500');
                
                showNotification('💔 Retiré des favoris', 'success');
            }
            
            // Sauvegarder dans localStorage
            localStorage.setItem('favorites', JSON.stringify(favorites));
            updateFavoriteButtons();
        }
        
        // Mettre à jour l'état des boutons favoris
        function updateFavoriteButtons() {
            document.querySelectorAll('[onclick*="toggleFavorite"]').forEach(button => {
                const productId = parseInt(button.getAttribute('onclick').match(/\d+/)[0]);
                const icon = button.querySelector('i');
                
                if (favorites.includes(productId)) {
                    icon.classList.remove('far');
                    icon.classList.add('fas', 'text-red-500');
                    button.classList.add('text-red-500');
                } else {
                    icon.classList.remove('fas', 'text-red-500');
                    icon.classList.add('far');
                    button.classList.remove('text-red-500');
                }
            });
        }
        
        // Fonction pour créer un effet de confettis de fête
        function createFestiveConfetti() {
            const confettiColors = [
                '#ff0000', '#00ff00', '#0000ff', '#ffff00', 
                '#ff00ff', '#00ffff', '#ff9900', '#ff66cc',
                '#66ff66', '#6666ff', '#ffcc00', '#cc66ff'
            ];
            
            const container = document.body;
            
            // Créer 150 confettis
            for (let i = 0; i < 150; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti-piece';
                
                // Propriétés aléatoires
                const color = confettiColors[Math.floor(Math.random() * confettiColors.length)];
                const size = Math.random() * 10 + 5;
                const left = Math.random() * 100;
                const animationDuration = Math.random() * 3 + 2;
                const animationDelay = Math.random() * 2;
                const shape = Math.random() > 0.5 ? '50%' : '0';
                
                // Appliquer les styles
                confetti.style.backgroundColor = color;
                confetti.style.width = `${size}px`;
                confetti.style.height = `${size}px`;
                confetti.style.left = `${left}vw`;
                confetti.style.borderRadius = shape;
                confetti.style.animation = `confetti-fall ${animationDuration}s ease-in ${animationDelay}s forwards`;
                
                // Ajouter au document
                container.appendChild(confetti);
                
                // Supprimer après l'animation
                setTimeout(() => {
                    if (confetti.parentNode) {
                        confetti.parentNode.removeChild(confetti);
                    }
                }, (animationDuration + animationDelay) * 1000);
            }
        }
        
        // Ajouter au panier avec effet de confettis de fête
        function addToCart(productId) {
            // Si le produit a des variantes, forcer la sélection d'options
            const variantProduct = (typeof allProducts !== 'undefined' ? allProducts : products).find(p => p.id === productId);
            if (variantProduct && ((variantProduct.sizes && variantProduct.sizes.length) || (variantProduct.colors && variantProduct.colors.length))) {
                openOptionModal(productId);
                return;
            }

            // Vérifier si le produit existe déjà dans le panier
            const existingItem = cart.find(item => item.id === productId);
            
            if (existingItem) {
                // Incrémenter la quantité
                existingItem.quantity += 1;
            } else {
                // Ajouter un nouveau produit au panier
                const product = (typeof allProducts !== 'undefined' ? allProducts : products).find(p => p.id === productId);
                if (product) {
                    cart.push({
                        id: product.id,
                        name: product.name,
                        price: product.price,
                        image: product.images && product.images.length > 0 ? product.images[0] : '/images/prestige shop.png',
                        quantity: 1
                    });
                }
            }
            
            // Mettre à jour l'interface utilisateur
            updateCartUI();
            
            // Créer l'effet de confettis de fête
            createFestiveConfetti();
            
            // Sauvegarder dans localStorage
            localStorage.setItem('cart', JSON.stringify(cart));
            
            // Feedback haptique
            if (window.navigator && window.navigator.vibrate) {
                window.navigator.vibrate([50, 30, 50]);
            }
        }
        
        // Mettre à jour l'interface du panier
        function updateCartUI() {
            // Mettre à jour le badge du panier flottant
            const cartBadge = document.getElementById('cart-float-badge');
            const totalItems = cart.reduce((total, item) => total + item.quantity, 0);
            
            if (totalItems > 0) {
                cartBadge.textContent = totalItems;
                cartBadge.classList.remove('hidden');
            } else {
                cartBadge.classList.add('hidden');
            }
            
            // Mettre à jour le total dans le panier modal
            const cartTotal = document.getElementById('cart-total');
            if (cartTotal) {
                const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
                cartTotal.textContent = total.toFixed(2) + ' FCFA';
            }
            
            // Mettre à jour le badge du bouton panier dans le header
            const headerCartBadge = document.getElementById('cart-badge');
            if (headerCartBadge) {
                if (totalItems > 0) {
                    headerCartBadge.textContent = totalItems;
                    headerCartBadge.classList.remove('hidden');
                } else {
                    headerCartBadge.classList.add('hidden');
                }
            }
        }
        
        // Fonction pour créer un effet de confettis de fête
        function createFestiveConfetti() {
            const confettiColors = [
                '#ff0000', '#00ff00', '#0000ff', '#ffff00', 
                '#ff00ff', '#00ffff', '#ff9900', '#ff66cc',
                '#66ff66', '#6666ff', '#ffcc00', '#cc66ff'
            ];
            
            const container = document.body;
            
            // Créer 150 confettis
            for (let i = 0; i < 150; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti-piece';
                
                // Propriétés aléatoires
                const color = confettiColors[Math.floor(Math.random() * confettiColors.length)];
                const size = Math.random() * 10 + 5;
                const left = Math.random() * 100;
                const animationDuration = Math.random() * 3 + 2;
                const animationDelay = Math.random() * 2;
                const shape = Math.random() > 0.5 ? '50%' : '0';
                
                // Appliquer les styles
                confetti.style.backgroundColor = color;
                confetti.style.width = `${size}px`;
                confetti.style.height = `${size}px`;
                confetti.style.left = `${left}vw`;
                confetti.style.borderRadius = shape;
                confetti.style.animation = `confetti-fall ${animationDuration}s ease-in ${animationDelay}s forwards`;
                
                // Ajouter au document
                container.appendChild(confetti);
                
                // Supprimer après l'animation
                setTimeout(() => {
                    if (confetti.parentNode) {
                        confetti.parentNode.removeChild(confetti);
                    }
                }, (animationDuration + animationDelay) * 1000);
            }
        }
        
        // Ajouter au panier avec effet de confettis de fête
        function addToCart(productId) {
            // Vérifier si le produit existe déjà dans le panier
            const existingItem = cart.find(item => item.id === productId);
            
            if (existingItem) {
                // Incrémenter la quantité
                existingItem.quantity += 1;
            } else {
                // Ajouter un nouveau produit au panier
                const product = products.find(p => p.id === productId);
                if (product) {
                    cart.push({
                        id: product.id,
                        name: product.name,
                        price: product.price,
                        description: product.description,
                        image: product.images && product.images.length > 0 ? product.images[0] : '/images/prestige shop.png',
                        images: product.images || [],
                        quantity: 1
                    });
                }
            }
            
            // Mettre à jour l'interface utilisateur
            updateCartUI();
            
            // Créer l'effet de confettis de fête
            createFestiveConfetti();
            
            // Sauvegarder dans localStorage
            localStorage.setItem('cart', JSON.stringify(cart));
            
            // Feedback haptique
            if (window.navigator && window.navigator.vibrate) {
                window.navigator.vibrate([50, 30, 50]);
            }
        }

        function openOptionModal(productId) {
            const product = products.find(p => p.id === productId);
            if (!product) return;
            const overlay = document.createElement('div');
            overlay.className = 'fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4';
            const container = document.createElement('div');
            container.className = 'bg-white rounded-2xl w-full max-w-md p-5 shadow-2xl';
            container.innerHTML = `
                <div class="flex items-center justify-between mb-3">
                    <h3 class="font-bold text-lg text-gray-800">Choisir les options</h3>
                    <button class="text-gray-500 hover:text-gray-700" id="opt-close"><i class="fas fa-times"></i></button>
                </div>
                ${(product.sizes && product.sizes.length) ? `
                <div class="mb-3">
                    <div class="font-semibold text-sm text-gray-700 mb-2">Taille</div>
                    <div class="flex flex-wrap gap-2" id="size-list">
                        ${product.sizes.map(s => `<button data-val="${s}" class=\"px-3 py-2 rounded-lg border text-sm hover:bg-purple-50\">${s}</button>`).join('')}
                    </div>
                </div>` : ''}
                ${(product.colors && product.colors.length) ? `
                <div class="mb-4">
                    <div class="font-semibold text-sm text-gray-700 mb-2">Couleur</div>
                    <div class="flex flex-wrap gap-2" id="color-list">
                        ${product.colors.map(c => `<button data-val="${c}" class=\"px-3 py-2 rounded-lg border text-sm hover:bg-purple-50\">${c}</button>`).join('')}
                    </div>
                </div>` : ''}
                <button id="opt-add" class="w-full bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white py-2.5 rounded-xl font-bold disabled:opacity-50" disabled>
                    Ajouter au panier
                </button>
            `;
            overlay.appendChild(container);
            document.body.appendChild(overlay);

            let selectedSize = null;
            let selectedColor = null;
            const needSize = product.sizes && product.sizes.length;
            const needColor = product.colors && product.colors.length;
            const addBtn = container.querySelector('#opt-add');
            const closeBtn = container.querySelector('#opt-close');

            function updateBtn() {
                const ok = (!needSize || !!selectedSize) && (!needColor || !!selectedColor);
                addBtn.disabled = !ok;
            }

            const sizeList = container.querySelector('#size-list');
            if (sizeList) {
                sizeList.querySelectorAll('button').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        e.preventDefault();
                        sizeList.querySelectorAll('button').forEach(b => b.classList.remove('bg-purple-600','text-white','border-purple-600'));
                        btn.classList.add('bg-purple-600','text-white','border-purple-600');
                        selectedSize = btn.getAttribute('data-val');
                        updateBtn();
                    });
                });
            }

            const colorList = container.querySelector('#color-list');
            if (colorList) {
                colorList.querySelectorAll('button').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        e.preventDefault();
                        colorList.querySelectorAll('button').forEach(b => b.classList.remove('bg-purple-600','text-white','border-purple-600'));
                        btn.classList.add('bg-purple-600','text-white','border-purple-600');
                        selectedColor = btn.getAttribute('data-val');
                        updateBtn();
                    });
                });
            }

            addBtn.addEventListener('click', () => {
                addToCartWithOptions(productId, selectedSize, selectedColor);
                document.body.removeChild(overlay);
            });
            closeBtn.addEventListener('click', () => {
                document.body.removeChild(overlay);
            });
            overlay.addEventListener('click', (e) => {
                if (e.target === overlay) document.body.removeChild(overlay);
            });
        }

        function addToCartWithOptions(productId, size, color) {
            const product = products.find(p => p.id === productId);
            if (!product) return;
            const requiresSize = product.sizes && product.sizes.length;
            const requiresColor = product.colors && product.colors.length;
            if ((requiresSize && !size) || (requiresColor && !color)) return;

            const key = `${productId}-${size || ''}-${color || ''}`;
            let existingItem = cart.find(item => item._key === key);
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({
                    _key: key,
                    id: product.id,
                    name: product.name,
                    price: product.price,
                    description: product.description,
                    image: product.images && product.images.length ? product.images[0] : '/images/prestige-shop.png',
                    images: product.images || [],
                    size: size || null,
                    color: color || null,
                    quantity: 1
                });
            }
            updateCartUI();
            localStorage.setItem('cart', JSON.stringify(cart));
            if (window.navigator && window.navigator.vibrate) {
                window.navigator.vibrate([30]);
            }
            showNotification('Produit ajouté au panier !', 'success');
        }

        // Vue rapide du produit avec produits similaires en dessous
        function quickView(productId) {
            const product = products.find(p => p.id === productId);
            if (!product) return;
            
            // Trouver les autres produits de la même catégorie
            const relatedProducts = products.filter(p => 
                p.category === product.category && p.id !== productId
            ).slice(0, 8); // Limiter à 8 produits
            
            // Créer le modal de vue rapide
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4 animate-fadeIn';
            modal.innerHTML = `
                <div class="bg-white rounded-3xl max-w-6xl w-full max-h-[95vh] overflow-y-auto shadow-2xl transform transition-all animate-slideUp">
                    <!-- Header -->
                    <div class="sticky top-0 bg-gradient-to-r from-purple-600 to-blue-600 rounded-t-3xl p-4 sm:p-6 flex items-center justify-between z-10 shadow-lg">
                        <div class="flex items-center">
                            <div class="w-10 h-10 bg-white bg-opacity-20 rounded-full flex items-center justify-center mr-3">
                                <i class="fas fa-eye text-white"></i>
                            </div>
                            <h3 class="text-lg sm:text-xl font-bold text-white">Aperçu du produit</h3>
                        </div>
                        <button onclick="this.closest('.fixed').remove(); document.body.style.overflow = 'auto'" 
                                class="bg-white bg-opacity-20 hover:bg-opacity-30 p-2 rounded-full transition-all">
                            <i class="fas fa-times text-white text-xl"></i>
                        </button>
                    </div>
                    
                    <!-- Contenu principal -->
                    <div class="grid md:grid-cols-2 gap-6 p-4 sm:p-6">
                        <!-- Galerie d'images -->
                        <div class="space-y-4">
                            <!-- Image principale -->
                            <div class="relative h-80 sm:h-96 bg-gradient-to-br from-gray-50 to-gray-100 rounded-2xl overflow-hidden group">
                                <img src="${getAbsoluteImagePath(product.images[0])}" alt="${product.name}" id="quick-view-main-image"
                                     class="w-full h-full object-cover cursor-pointer transition-transform duration-500 group-hover:scale-110"
                                     onclick="openImageZoom(${product.id}, 0); this.closest('.fixed').remove(); document.body.style.overflow = 'auto'"
                                     onerror="this.src='${IMAGE_BASE_URL}/placeholder.png'; this.alt='Image non disponible';">
                                <div class="absolute top-4 left-4">
                                    <span class="bg-${getCategoryColor(product.category)} text-white px-3 py-2 rounded-xl text-sm font-bold shadow-lg">
                                        ${getCategoryName(product.category)}
                                    </span>
                                </div>
                                ${product.images.length > 1 ? `
                                    <div class="absolute bottom-4 left-4 right-4 flex justify-center">
                                        <div class="bg-black bg-opacity-70 backdrop-blur-sm text-white px-3 py-2 rounded-full text-sm font-semibold flex items-center">
                                            <i class="fas fa-images mr-2"></i>${product.images.length} photos - Cliquez pour zoomer
                                        </div>
                                    </div>
                                ` : ''}
                                <!-- Badge promo -->
                                <div class="absolute top-4 right-4">
                                    <div class="bg-red-500 text-white px-3 py-1 rounded-full text-xs font-bold animate-pulse">
                                        -20%
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Miniatures -->
                            ${product.images.length > 1 ? `
                                <div class="grid grid-cols-4 gap-2">
                                    ${product.images.slice(0, 4).map((img, idx) => `
                                        <div class="relative h-20 bg-gray-100 rounded-xl overflow-hidden cursor-pointer group"
                                             onclick="document.getElementById('quick-view-main-image').src = '${getAbsoluteImagePath(img)}'">
                                            <img src="${getAbsoluteImagePath(img)}" alt="${product.name} ${idx + 1}"
                                                 class="w-full h-full object-cover group-hover:scale-110 transition-transform"
                                                 onerror="this.src='${IMAGE_BASE_URL}/placeholder.png'; this.alt='Image non disponible';">
                                        </div>
                                    `).join('')}
                                </div>
                            ` : ''}
                        </div>
                        
                        <!-- Détails -->
                        <div class="flex flex-col">
                            <div class="mb-4">
                                <h2 class="text-2xl sm:text-3xl font-black text-gray-900 mb-2">${product.name}</h2>
                                <div class="flex items-center space-x-2">
                                    ${Array.from({length: 5}, (_, i) => `
                                        <i class="fas fa-star text-yellow-400 text-sm"></i>
                                    `).join('')}
                                    <span class="text-gray-600 text-sm font-semibold">
                                        4.8 (${Math.floor(Math.random() * 50) + 10} avis)
                                    </span>
                                </div>
                            </div>
                            
                            <!-- Prix -->
                            <div class="bg-gradient-to-r from-purple-50 to-blue-50 rounded-2xl p-4 mb-4 border-2 border-purple-200">
                                <div class="flex items-baseline justify-between">
                                    <div>
                                        <div class="text-xs text-gray-500 uppercase font-semibold mb-1">Prix</div>
                                        <div class="text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-blue-600">
                                            ${product.price.toLocaleString()}
                                        </div>
                                        <div class="text-sm text-gray-500 font-semibold">FCFA</div>
                                    </div>
                                    <div class="text-right">
                                        <div class="text-xs text-gray-500 line-through">${(product.price * 1.25).toLocaleString()} FCFA</div>
                                        <div class="bg-red-500 text-white px-3 py-1 rounded-full text-sm font-bold">
                                            Économisez ${(product.price * 0.25).toLocaleString()} FCFA
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Description -->
                            <div class="mb-6">
                                <h4 class="font-bold text-gray-900 mb-2 flex items-center">
                                    <i class="fas fa-info-circle text-blue-600 mr-2"></i>
                                    Description
                                </h4>
                                <p class="text-gray-600 leading-relaxed">${product.description}</p>
                            </div>
                            
                            <!-- Caractéristiques -->
                            <div class="grid grid-cols-2 gap-3 mb-6">
                                <div class="flex items-center space-x-2 bg-green-50 p-3 rounded-xl">
                                    <i class="fas fa-truck text-green-600 text-lg"></i>
                                    <div>
                                        <div class="text-xs text-gray-500">Livraison</div>
                                        <div class="text-sm font-bold text-gray-900">24-48h</div>
                                    </div>
                                </div>
                                <div class="flex items-center space-x-2 bg-blue-50 p-3 rounded-xl">
                                    <i class="fas fa-shield-check text-blue-600 text-lg"></i>
                                    <div>
                                        <div class="text-xs text-gray-500">Garantie</div>
                                        <div class="text-sm font-bold text-gray-900">6 mois</div>
                                    </div>
                                </div>
                                <div class="flex items-center space-x-2 bg-purple-50 p-3 rounded-xl">
                                    <i class="fas fa-sync text-purple-600 text-lg"></i>
                                    <div>
                                        <div class="text-xs text-gray-500">Retour</div>
                                        <div class="text-sm font-bold text-gray-900">7 jours</div>
                                    </div>
                                </div>
                                <div class="flex items-center space-x-2 bg-yellow-50 p-3 rounded-xl">
                                    <i class="fas fa-certificate text-yellow-600 text-lg"></i>
                                    <div>
                                        <div class="text-xs text-gray-500">Qualité</div>
                                        <div class="text-sm font-bold text-gray-900">Premium</div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Actions -->
                            <div class="space-y-3 mt-auto">
                                <button onclick="${(product.sizes && product.sizes.length) || (product.colors && product.colors.length) 
                                        ? `this.closest('.fixed').remove(); document.body.style.overflow = 'auto'; openOptionModal(${product.id})` 
                                        : `addToCart(${product.id}); showNotification('✅ Ajouté au panier !', 'success')`}" 
                                        class="w-full bg-gradient-to-r from-purple-600 via-purple-700 to-blue-600 text-white py-4 sm:py-5 rounded-2xl font-bold text-base sm:text-lg transition-all transform active:scale-95 shadow-xl hover:shadow-2xl flex items-center justify-center group">
                                    <i class="fas fa-cart-plus mr-2 text-xl group-hover:scale-110 transition-transform"></i>
                                    Ajouter au panier
                                </button>
                                
                                <div class="grid grid-cols-2 gap-3">
                                    <button onclick="toggleFavorite(${product.id})" 
                                            class="bg-gradient-to-r from-pink-100 to-red-100 hover:from-pink-200 hover:to-red-200 text-red-600 py-3 rounded-xl font-semibold transition-all flex items-center justify-center">
                                        <i class="fas fa-heart mr-2"></i>
                                        Favoris
                                    </button>
                                    
                                    <button onclick="shareProduct(${product.id})" 
                                            class="bg-gradient-to-r from-blue-100 to-cyan-100 hover:from-blue-200 hover:to-cyan-200 text-blue-600 py-3 rounded-xl font-semibold transition-all flex items-center justify-center">
                                        <i class="fas fa-share mr-2"></i>
                                        Partager
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Section Produits similaires de la même catégorie - AMÉLIORÉE -->
                    ${relatedProducts.length > 0 ? `
                        <div class="border-t-4 border-purple-200 bg-gradient-to-b from-purple-50 to-white p-4 sm:p-6">
                            <div class="mb-6">
                                <div class="flex items-center justify-between mb-2">
                                    <h3 class="text-2xl sm:text-3xl font-black text-gray-900 flex items-center">
                                        <div class="w-12 h-12 bg-gradient-to-r from-purple-600 to-blue-600 rounded-full flex items-center justify-center mr-3">
                                            <i class="fas fa-th-large text-white"></i>
                                        </div>
                                        Produits similaires
                                    </h3>
                                    <button onclick="this.closest('.fixed').remove(); document.body.style.overflow = 'auto'; filterProducts('${product.category}'); setTimeout(() => document.getElementById('produits').scrollIntoView({behavior: 'smooth'}), 100)" 
                                            class="bg-gradient-to-r from-purple-600 to-blue-600 text-white px-4 sm:px-6 py-2 sm:py-3 rounded-xl font-bold text-sm hover:shadow-lg transition-all flex items-center">
                                        Voir tout (${products.filter(p => p.category === product.category).length})
                                        <i class="fas fa-arrow-right ml-2"></i>
                                    </button>
                                </div>
                                <p class="text-gray-600">
                                    <i class="fas fa-tag text-purple-600 mr-2"></i>
                                    Autres produits de la catégorie <strong class="text-purple-600">${getCategoryName(product.category)}</strong>
                                </p>
                            </div>
                            
                            <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3 sm:gap-4">
                                ${relatedProducts.map(p => `
                                    <div class="bg-white rounded-2xl shadow-md hover:shadow-2xl transition-all cursor-pointer overflow-hidden group transform hover:scale-105 hover:-translate-y-1 duration-300 border border-gray-100" 
                                         onclick="this.closest('.fixed').remove(); document.body.style.overflow = 'auto'; setTimeout(() => quickView(${p.id}), 150)">
                                        <div class="relative h-36 sm:h-40 bg-gradient-to-br from-gray-50 to-gray-100">
                                            <img src="${getAbsoluteImagePath(p.images[0])}" alt="${p.name}" 
                                                 class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"
                                                 onerror="this.src='${IMAGE_BASE_URL}/placeholder.png'; this.alt='Image non disponible';">
                                            <div class="absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"></div>
                                            <!-- Badge catégorie -->
                                            <div class="absolute top-2 left-2">
                                                <span class="bg-${getCategoryColor(p.category)} text-white px-2 py-1 rounded-lg text-xs font-bold shadow">
                                                    ${getCategoryName(p.category)}
                                                </span>
                                            </div>
                                            <!-- Badge rapide -->
                                            <div class="absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity">
                                                <div class="bg-white rounded-full p-2 shadow-lg">
                                                    <i class="fas fa-eye text-purple-600 text-sm"></i>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="p-3">
                                            <h4 class="text-sm font-bold text-gray-900 mb-2 line-clamp-2 min-h-[2.5rem] group-hover:text-purple-600 transition-colors">${p.name}</h4>
                                            <div class="flex items-baseline justify-between mb-2">
                                                <div class="text-lg sm:text-xl font-black text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-blue-600">
                                                    ${p.price.toLocaleString()}
                                                </div>
                                                <div class="text-xs text-gray-500 font-semibold">FCFA</div>
                                            </div>
                                            <!-- Rating -->
                                            <div class="flex items-center mb-2">
                                                ${Array.from({length: 5}, () => '<i class="fas fa-star text-yellow-400 text-xs"></i>').join('')}
                                                <span class="text-xs text-gray-500 ml-1">4.${Math.floor(Math.random() * 9)}</span>
                                            </div>
                                            <button onclick="event.stopPropagation(); ${ (p.sizes && p.sizes.length) || (p.colors && p.colors.length) ? `openOptionModal(${p.id})` : `addToCart(${p.id})` }; showNotification('✅ ${p.name.substring(0, 20)}... ajouté !', 'success')" 
                                                    class="w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white py-2 rounded-xl text-xs font-bold transition-all transform active:scale-95 shadow-md hover:shadow-lg flex items-center justify-center">
                                                <i class="fas fa-cart-plus mr-1"></i>Ajouter au panier
                                            </button>
                                        </div>
                                    </div>
                                `).join('')}
                            </div>
                            
                            <!-- Call to action -->
                            <div class="mt-6 text-center">
                                <button onclick="this.closest('.fixed').remove(); document.body.style.overflow = 'auto'; filterProducts('${product.category}'); setTimeout(() => document.getElementById('produits').scrollIntoView({behavior: 'smooth'}), 100)" 
                                        class="inline-flex items-center bg-white border-2 border-purple-600 text-purple-600 hover:bg-purple-600 hover:text-white px-8 py-4 rounded-2xl font-bold text-lg transition-all transform hover:scale-105 shadow-lg">
                                    <i class="fas fa-grid mr-2"></i>
                                    Découvrir tous les produits ${getCategoryName(product.category)}
                                    <i class="fas fa-arrow-right ml-2"></i>
                                </button>
                            </div>
                        </div>
                    ` : ''}
                </div>
            `;
            
            document.body.appendChild(modal);
            document.body.style.overflow = 'hidden';
            
            // Fermeture en cliquant à l'extérieur
            modal.addEventListener('click', function(e) {
                if (e.target === modal) {
                    modal.remove();
                    document.body.style.overflow = 'auto';
                }
            });
            
            // Mettre à jour les boutons favoris dans le modal
            setTimeout(() => {
                updateFavoriteButtons();
            }, 100);
        }
        
        // Partage de produit
        function shareProduct(productId) {
            const product = products.find(p => p.id === productId);
            if (!product) return;
            
            const shareData = {
                title: `${product.name} - Digit Shop Express`,
                text: `Découvrez ce produit : ${product.name} - ${product.description}`,
                url: window.location.href
            };
            
            // Vérifier si l'API Web Share est disponible
            if (navigator.share && navigator.canShare && navigator.canShare(shareData)) {
                navigator.share(shareData)
                    .then(() => {
                        showNotification('📤 Produit partagé !', 'success');
                    })
                    .catch((error) => {
                        console.log('Erreur de partage:', error);
                        fallbackShare(product);
                    });
            } else {
                fallbackShare(product);
            }
        }
        
        // Partage de secours
        function fallbackShare(product) {
            const shareText = `Découvrez ce produit : ${product.name} - ${product.description}

Prix: ${product.price.toLocaleString()} FCFA

Commandez sur Digit Shop Express !`;
            
            // Créer un modal de partage
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4';
            modal.innerHTML = `
                <div class="bg-white rounded-3xl max-w-sm w-full p-6 shadow-2xl">
                    <div class="text-center mb-6">
                        <div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
                            <i class="fas fa-share text-2xl text-blue-600"></i>
                        </div>
                        <h3 class="text-xl font-bold text-gray-900 mb-2">Partager ce produit</h3>
                        <p class="text-gray-600">${product.name}</p>
                    </div>
                    
                    <div class="space-y-3 mb-6">
                        <button onclick="shareViaWhatsApp('${encodeURIComponent(shareText)}')" 
                                class="w-full bg-green-500 hover:bg-green-600 text-white py-3 rounded-2xl font-semibold transition-all flex items-center justify-center">
                            <i class="fab fa-whatsapp mr-2 text-xl"></i>
                            WhatsApp
                        </button>
                        
                        <button onclick="copyToClipboard('${shareText.replace(/'/g, "\\'")}'); this.closest('.fixed').remove()" 
                                class="w-full bg-gray-100 hover:bg-gray-200 text-gray-700 py-3 rounded-2xl font-semibold transition-all flex items-center justify-center">
                            <i class="fas fa-copy mr-2"></i>
                            Copier le texte
                        </button>
                    </div>
                    
                    <button onclick="this.closest('.fixed').remove()" 
                            class="w-full bg-gray-100 hover:bg-gray-200 text-gray-700 py-3 rounded-2xl font-semibold transition-all">
                        Annuler
                    </button>
                </div>
            `;
            
            document.body.appendChild(modal);
            
            // Fermeture en cliquant à l'extérieur
            modal.addEventListener('click', function(e) {
                if (e.target === modal) {
                    modal.remove();
                }
            });
        }
        
        // Partage via WhatsApp
        function shareViaWhatsApp(text) {
            const whatsappUrl = `https://wa.me/?text=${text}`;
            window.open(whatsappUrl, '_blank');
            document.querySelector('.fixed').remove();
            showNotification('📱 WhatsApp ouvert !', 'success');
        }
        
        // Copier dans le presse-papiers
        function copyToClipboard(text) {
            if (navigator.clipboard && window.isSecureContext) {
                navigator.clipboard.writeText(text).then(() => {
                    showNotification('📋 Texte copié !', 'success');
                });
            } else {
                // Fallback pour les navigateurs plus anciens
                const textArea = document.createElement('textarea');
                textArea.value = text;
                textArea.style.position = 'fixed';
                textArea.style.left = '-999999px';
                textArea.style.top = '-999999px';
                document.body.appendChild(textArea);
                textArea.focus();
                textArea.select();
                
                try {
                    document.execCommand('copy');
                    showNotification('📋 Texte copié !', 'success');
                } catch (err) {
                    showNotification('❌ Erreur de copie', 'error');
                }
                
                document.body.removeChild(textArea);
            }
        }
        
        // Initialiser les favoris au chargement
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(() => {
                updateFavoriteButtons();
            }, 500);
        });




        

        
        
    </script>
    
    <!-- Modal Vidéo Plein Écran -->
    <div id="video-modal" class="fixed inset-0 z-[9999] hidden" style="background: rgba(0, 0, 0, 0.95); backdrop-filter: blur(10px);">
        <div class="absolute inset-0 flex items-center justify-center p-4" onclick="closeVideoModal()">
            <div class="relative max-w-6xl w-full" onclick="event.stopPropagation()" style="animation: videoModalSlideIn 0.4s ease-out;">
                <!-- Bouton fermer -->
                <button onclick="closeVideoModal()" 
                        class="absolute -top-12 right-0 bg-white bg-opacity-10 border-2 border-white border-opacity-30 text-white w-12 h-12 rounded-full flex items-center justify-center hover:bg-opacity-20 transition-all hover:rotate-90 backdrop-blur-sm">
                    <i class="fas fa-times text-xl"></i>
                </button>
                
                <!-- Titre du produit -->
                <h3 id="video-modal-title" class="text-white text-2xl font-bold mb-4"></h3>
                
                <!-- Lecteur vidéo -->
                <video id="video-modal-player" 
                       controls 
                       controlsList="nodownload"
                       class="w-full rounded-2xl shadow-2xl"
                       style="max-height: 80vh;">
                    <source id="video-modal-source" type="video/mp4">
                    Votre navigateur ne supporte pas la vidéo.
                </video>
                
                <!-- Info -->
                <div class="mt-4 bg-white bg-opacity-10 backdrop-blur-md p-4 rounded-xl border border-white border-opacity-20">
                    <p class="text-white text-sm flex items-center">
                        <i class="fas fa-lightbulb text-yellow-400 mr-2"></i>
                        <strong>Astuce :</strong>&nbsp;Appuyez sur ESC pour fermer ou cliquez en dehors de la vidéo
                    </p>
                </div>
            </div>
        </div>
    </div>
    
    <style>
        @keyframes videoModalSlideIn {
            from {
                opacity: 0;
                transform: scale(0.9);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }
    </style>
    
    <script>
        // Fonction pour ouvrir le modal vidéo
        function openVideoModal(productId) {
            const product = products.find(p => p.id === productId);
            if (!product || !product.video) return;
            
            const modal = document.getElementById('video-modal');
            const player = document.getElementById('video-modal-player');
            const source = document.getElementById('video-modal-source');
            const title = document.getElementById('video-modal-title');
            
            // Configurer la vidéo
            source.src = product.video;
            player.load();
            title.textContent = product.name;
            
            // Afficher le modal
            modal.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
            
            // Lecture automatique après un court délai
            setTimeout(() => {
                player.play().catch(err => {
                    console.log('Autoplay bloqué:', err);
                });
            }, 300);
        }
        
        // Fonction pour fermer le modal vidéo
        function closeVideoModal() {
            const modal = document.getElementById('video-modal');
            const player = document.getElementById('video-modal-player');
            
            // Arrêter la lecture
            player.pause();
            player.currentTime = 0;
            
            // Masquer le modal
            modal.classList.add('hidden');
            document.body.style.overflow = 'auto';
        }
        
        // Fermer avec la touche ESC
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                closeVideoModal();
            }
        });
    </script>
    
    <!-- ========== UTILITAIRES POUR LE TRAITEMENT DES IMAGES ========== -->
    <script>
        // Configuration de base pour les images
        const IMAGE_BASE_URL = '/images';
        
        // Fonction pour nettoyer les noms de fichiers
        function sanitizeFileName(fileName) {
            // Extraire le nom de fichier de base (sans le chemin)
            const baseName = fileName.split('/').pop() || fileName;
            
            return baseName
                .toLowerCase()              // Convertir en minuscules
                .replace(/\s+/g, '_')       // Remplacer les espaces par des underscores
                .replace(/[^\w\-_\.]/g, '') // Supprimer les caractères non autorisés
                .replace(/_{2,}/g, '_');    // Remplacer les underscores multiples par un seul
        }
        
        // Fonction pour convertir un chemin relatif en chemin absolu
        function getAbsoluteImagePath(relativePath) {
            // Si c'est déjà un chemin absolu ou une URL externe, la renvoyer telle quelle
            if (relativePath.startsWith('/') || relativePath.startsWith('http')) {
                return relativePath;
            }
            
            // Extraire le nom de fichier
            const fileName = sanitizeFileName(relativePath);
            
            // Construire le chemin absolu
            return `${IMAGE_BASE_URL}/${fileName}`;
        }
        
        // Fonction améliorée pour créer un élément média (image ou vidéo)
        function createSanitizedMediaElement(mediaUrl, index, productName, productId, clickHandler) {
            // Si c'est une URL externe (vidéo YouTube, etc.), la garder telle quelle
            if (mediaUrl.startsWith('http') && !mediaUrl.includes('prestige-shop-express.onrender.com')) {
                if (isVideo(mediaUrl)) {
                    // Créer un élément vidéo
                    return `
                        <div class="carousel-slide relative">
                            <video 
                                class="w-full h-36 sm:h-40 object-cover cursor-pointer"
                                onclick="${clickHandler || `openImageZoom(${productId}, ${index})`}"
                                muted
                                loop
                                playsinline
                                onmouseover="this.play()"
                                onmouseout="this.pause(); this.currentTime=0">
                                <source src="${mediaUrl}" type="video/mp4">
                                Votre navigateur ne supporte pas les vidéos HTML5.
                            </video>
                            <div class="video-play-indicator">
                                <i class="fas fa-play"></i>
                            </div>
                        </div>
                    `;
                } else {
                    // Créer un élément image avec l'URL externe
                    return `
                        <div class="carousel-slide">
                            <img src="${mediaUrl}" alt="${productName} - Image ${index + 1}" 
                                 class="w-full h-36 sm:h-40 object-cover cursor-pointer transition-all duration-500 group-hover:scale-110" 
                                 onclick="${clickHandler || `openImageZoom(${productId}, ${index})`}"
                                 onerror="this.src='${IMAGE_BASE_URL}/placeholder.png'; this.alt='Image non disponible';">
                        </div>
                    `;
                }
            }
            
            // Pour les images locales, utiliser le chemin absolu
            const sanitizedUrl = getAbsoluteImagePath(mediaUrl);
            
            if (isVideo(mediaUrl)) {
                // Créer un élément vidéo
                return `
                    <div class="carousel-slide relative">
                        <video 
                            class="w-full h-36 sm:h-40 object-cover cursor-pointer"
                            onclick="${clickHandler || `openImageZoom(${productId}, ${index})`}"
                            muted
                            loop
                            playsinline
                            onmouseover="this.play()"
                            onmouseout="this.pause(); this.currentTime=0">
                            <source src="${sanitizedUrl}" type="video/mp4">
                            Votre navigateur ne supporte pas les vidéos HTML5.
                        </video>
                        <div class="video-play-indicator">
                            <i class="fas fa-play"></i>
                        </div>
                    </div>
                `;
            } else {
                // Créer un élément image
                return `
                    <div class="carousel-slide">
                        <img src="${sanitizedUrl}" alt="${productName} - Image ${index + 1}" 
                             class="w-full h-36 sm:h-40 object-cover cursor-pointer transition-all duration-500 group-hover:scale-110" 
                             onclick="${clickHandler || `openImageZoom(${productId}, ${index})`}"
                             onerror="this.src='${IMAGE_BASE_URL}/placeholder.png'; this.alt='Image non disponible';">
                    </div>
                `;
            }
        }
        
        // Fonction pour obtenir l'image principale d'un produit
        function getProductMainImage(product) {
            if (!product || !product.images || product.images.length === 0) {
                return `${IMAGE_BASE_URL}/placeholder.png`;
            }
            
            const firstImage = product.images[0];
            
            // Si c'est une URL externe, la renvoyer telle quelle
            if (firstImage.startsWith('http')) {
                return firstImage;
            }
            
            // Sinon, utiliser le chemin absolu
            return getAbsoluteImagePath(firstImage);
        }
    </script>
    
</main>
    
    <!-- ========== CHATBOT WIDGET ========== -->
    <script src="chatbot-widget.js"></script>
    
    <!-- ========== GOOGLE IDENTITY SERVICES ========== -->
    <script>
        // Réveil de l'application Render
        fetch("https://prestige-shop-express.onrender.com/ping")
            .catch(() => {});
        
        // Initialisation de Google Identity Services
        window.onload = function() {
            // Initialiser Google One Tap si l'utilisateur n'est pas connecté
            const isLoggedIn = localStorage.getItem('userLoggedIn') || sessionStorage.getItem('userLoggedIn');
            
            if (!isLoggedIn && window.google) {
                // Configuration de Google Identity Services
                google.accounts.id.initialize({
                    client_id: "722931671687-fj2ph80jpqvlqmqnmc3aepdfqtsl7eqe.apps.googleusercontent.com",
                    callback: handleGoogleCredentialResponse,
                    auto_select: false,
                    cancel_on_tap_outside: false
                });
                
                // Afficher le bouton Google One Tap (optionnel)
                // google.accounts.id.renderButton(
                //     document.getElementById("google-button"),
                //     { theme: "outline", size: "large" }
                // );
                
                // Désactiver One Tap pour éviter les popups non sollicitées
                // google.accounts.id.prompt();
            }
        };
        
        // Fonction pour gérer la réponse de Google
        function handleGoogleCredentialResponse(response) {
            console.log("Identifiants Google reçus", response);
            
            // Envoyer le credential au backend
            fetch(`${API_BASE_URL}/auth/google/callback/web`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    credential: response.credential
                })
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    console.log('Connexion Google réussie', data.user);
                    handleGoogleLoginSuccess(data.user);
                } else {
                    console.error('Erreur de connexion Google', data.message);
                }
            })
            .catch(error => {
                console.error('Erreur lors de la connexion Google:', error);
            });
        }
    </script>
    
    <!-- ========== API CONFIGURATION ONLY ========== -->
    <script src="api-config.js"></script>
    <script>
        (function(){
            function getStoredUser(){
                try{ return JSON.parse(localStorage.getItem('userData')); }catch(e){}
                try{ return JSON.parse(sessionStorage.getItem('userData')); }catch(e){}
                return null;
            }
            function getApiBase(){
                return (window.API_BASE_URL) || 'https://prestige-shop-backend.onrender.com/api';
            }
            function sendHeartbeat(){
                var user = getStoredUser();
                if(!user) return;
                fetch(getApiBase() + '/heartbeat', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ user_id: user.id, email: user.email })
                }).catch(function(){});
            }
            var u = getStoredUser();
            if(u){
                sendHeartbeat();
                window.__presenceHeartbeat = setInterval(sendHeartbeat, 90000);
            }
        })();
    </script>
    
    <!-- Système de recommandation de produits -->
    <script>
        // Système de recommandation de produits simplifié
        class ProductRecommendationSystem {
            constructor() {
                this.cart = JSON.parse(localStorage.getItem('cart')) || [];
                this.viewedProducts = JSON.parse(localStorage.getItem('viewedProducts')) || [];
                this.favorites = JSON.parse(localStorage.getItem('favorites')) || [];
            }
            
            // Recommander des produits basés sur la catégorie
            getCategoryBasedRecommendations(productId, allProducts) {
                const product = allProducts.find(p => p.id === productId);
                if (!product) return [];
                
                return allProducts
                    .filter(p => p.category === product.category && p.id !== product.id)
                    .sort(() => 0.5 - Math.random())
                    .slice(0, 6);
            }
            
            // Recommander des produits populaires
            getPopularRecommendations(allProducts) {
                return allProducts
                    .sort((a, b) => b.price - a.price) // Tri par prix décroissant pour simuler popularité
                    .slice(0, 6);
            }
            
            // Recommander des produits récents
            getRecentRecommendations(allProducts) {
                return allProducts
                    .slice(0, 6); // Les premiers produits comme produits récents
            }
        }
        
        // Fonction pour afficher les recommandations
        function displayRecommendations(productId, allProducts) {
            const recommendationSystem = new ProductRecommendationSystem();
            const categoryRecommendations = recommendationSystem.getCategoryBasedRecommendations(productId, allProducts);
            
            if (categoryRecommendations.length === 0) return '';
            
            let recommendationsHTML = `
                <div class="bg-gradient-to-r from-purple-50 to-blue-50 rounded-3xl p-6 mb-8 border-2 border-purple-200">
                    <div class="flex items-center justify-between mb-6">
                        <h3 class="text-2xl font-black text-gray-900 flex items-center">
                            <div class="w-12 h-12 bg-gradient-to-r from-purple-600 to-blue-600 rounded-full flex items-center justify-center mr-3">
                                <i class="fas fa-compass text-white"></i>
                            </div>
                            Vous aimerez aussi
                        </h3>
                    </div>
                    <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-4">
            `;
            
            categoryRecommendations.forEach(product => {
                recommendationsHTML += `
                    <div class="bg-white rounded-2xl shadow-md hover:shadow-2xl transition-all cursor-pointer overflow-hidden group transform hover:scale-105 hover:-translate-y-1 duration-300 border border-gray-100" 
                         onclick="quickView(` + product.id + `)">
                        <div class="relative h-36 bg-gradient-to-br from-gray-50 to-gray-100">
                            <img src="` + getAbsoluteImagePath(product.images[0]) + `" alt="` + product.name + `" 
                                 class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"
                                 onerror="this.src='` + IMAGE_BASE_URL + `/placeholder.png'; this.alt='Image non disponible';">
                            <div class="absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"></div>
                            <div class="absolute top-2 left-2">
                                <span class="bg-` + getCategoryColor(product.category) + ` text-white px-2 py-1 rounded-lg text-xs font-bold shadow">
                                    ` + getCategoryName(product.category) + `
                                </span>
                            </div>
                        </div>
                        <div class="p-3">
                            <h4 class="text-xs font-bold text-gray-900 mb-1 line-clamp-2 min-h-[2rem] group-hover:text-purple-600 transition-colors">` + product.name.substring(0, 30) + (product.name.length > 30 ? '...' : '') + `</h4>
                            <div class="flex items-baseline justify-between mb-2">
                                <div class="text-sm font-black text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-blue-600">
                                    ` + product.price.toLocaleString() + `
                                </div>
                                <div class="text-xs text-gray-500 font-semibold">FCFA</div>
                            </div>
                            <div class="flex items-center mb-2">
                                ` + Array(5).fill(0).map((_, i) => `<i class="fas fa-star ` + (i < 4 ? 'text-yellow-400' : 'text-gray-300') + ` text-xs"></i>`).join('') + `
                                <span class="text-xs text-gray-500 ml-1">4.5</span>
                            </div>
                            <button onclick="event.stopPropagation(); ` + ((product.sizes && product.sizes.length) || (product.colors && product.colors.length) ? `openOptionModal(` + product.id + `)` : `addToCart(` + product.id + `)`) + `; showNotification('✅ ` + product.name.substring(0, 15) + `... ajouté !', 'success')" 
                                    class="w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white py-2 rounded-xl text-xs font-bold transition-all transform active:scale-95 shadow-md hover:shadow-lg flex items-center justify-center">
                                <i class="fas fa-cart-plus mr-1"></i>Ajouter
                            </button>
                        </div>
                    </div>
                `;
            });
            
            recommendationsHTML += `
                    </div>
                </div>
            `;
            
            return recommendationsHTML;
        }
        
        // Intégration avec quickView pour afficher les recommandations
        const originalQuickView = window.quickView;
        window.quickView = function(productId) {
            // Appel de la fonction originale
            const result = originalQuickView(productId);
            
            // Ajouter un délai pour que le modal soit complètement chargé
            setTimeout(() => {
                if (window.products && window.products.length > 0) {
                    const recommendationsHTML = displayRecommendations(productId, window.products);
                    if (recommendationsHTML && document.querySelector('#quick-view-recommendations')) {
                        document.querySelector('#quick-view-recommendations').innerHTML = recommendationsHTML;
                    }
                }
            }, 500);
            
            return result;
        };
    </script>
    
    <!-- Réveil du backend Render -->
    <script>
        // Réveil du backend Render
        fetch("https://prestige-shop-express.onrender.com/ping")
            .catch(function () {
                // on ignore volontairement les erreurs
            });
    </script>
    
</body>
</html>
